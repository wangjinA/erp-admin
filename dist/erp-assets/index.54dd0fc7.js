var E=Object.defineProperty,S=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var h=(t,u,r)=>u in t?E(t,u,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[u]=r,n=(t,u)=>{for(var r in u||(u={}))c.call(u,r)&&h(t,r,u[r]);if(l)for(var r of l(u))p.call(u,r)&&h(t,r,u[r]);return t},b=(t,u)=>S(t,g(u));var T=(t,u)=>{var r={};for(var e in t)c.call(t,e)&&u.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&l)for(var e of l(t))u.indexOf(e)<0&&p.call(t,e)&&(r[e]=t[e]);return r};import{r as I,R as P,aj as f,b as s,l as j,al as x,S as v,P as B,n as q}from"./vendor.475cee01.js";import{e as w,S as R}from"./index.b2d919ca.js";import{c as A,s as y,L as i,w as M,k as C,f as F}from"./index.9a618fcf.js";import{c as k}from"./statusTag.1d433c1a.js";import"./index.7f218578.js";import"./index.4f759f94.js";import"./entrepot.95f11770.js";import"./index.ab849bc2.js";/* empty css               */import"./shopStore.936c9d2c.js";import"./index.cc99a160.js";/* empty css              */import"./index.599b9453.js";/* empty css               */import"./index.36bc3114.js";/* empty css              */import"./style.4b618b1b.js";import"./clipboard.a809cca0.js";/* empty css               */import"./schema.524eafb7.js";/* empty css               */import"./schema.035d054d.js";const o=[{label:"\u76EE\u5F55",value:"M"},{label:"\u83DC\u5355",value:"C"},{label:"\u6309\u94AE",value:"F"}];function L(t){const a=t,{menuType:u}=a,r=T(a,["menuType"]),e=f(async()=>(await i.list()).data.data.list.map(m=>({label:m.menuName,value:m.menuId})),{refreshDeps:[u]});return s(B,n({placeholder:"\u8BF7\u9009\u62E9",options:e.data||[],loading:e.loading},r))}function N({menuType:t,size:u}){var r;return s(q,{size:u,color:k[o.findIndex(e=>e.value===t)],children:(r=o.find(e=>e.value===t))==null?void 0:r.label})}var ie=()=>{const[t,u]=I.exports.useState(),r=P.useRef();return f(async e=>{await A({content:"\u786E\u5B9A\u53D6\u6D88\uFF1F",okButtonProps:{status:"warning"}}),u(e),await y(()=>w.cancelReject(e.id)),r.current.refreshSearchTable()},{manual:!0}),s("div",{className:"p-4 bg-white",children:s(R,{majorKey:"menuId",ref:r,formProps:{onChange(e){console.log(e)}},name:"\u83DC\u5355\u7BA1\u7406",getListRequest:e=>i.list().then(a=>(a.data.data.list=M(a.data.data.list),a)),createRequest:i.create,updateRequest:i.update,removeRequest:i.remove,requestQueryTransform:e=>n(n(n({},j.exports.omit(e,["applyTime","rejectionTime"])),C(e.applyTime,"applyStartTime","applyEndTime")),C(e.rejectionTime,"rejectionStartTime","rejectionEndTime")),formItemConfigList:[{schema:{label:"\u540D\u79F0",field:"menuName",required:!0},isCreate:!0},{schema:{label:"\u83DC\u5355\u7C7B\u578B",field:"menuType"},isCreate:!0,control:"select",controlProps:{options:o},render(e){return s(N,{menuType:e})}},{schema:{label:"\u8DEF\u5F84",field:"menuPath"},isCreate:!0},{schema:{label:"\u6807\u8BC6",field:"menuPerms",required:!0},isCreate:!0},{schema:{label:"\u7236\u7EA7\u83DC\u5355",field:"parentId"},isCreate:!0,hideTable:!0,showItemHandle(e){return!(!(e==null?void 0:e.menuType)||(e==null?void 0:e.menuType)==="M")},formItemProps:{noStyle:!0},control:s(x.Item,{noStyle:!0,shouldUpdate:(e,a)=>e.menuType!==a.menuType,children:e=>s(x.Item,{rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],field:"parentId",label:e.menuType==="C"?"\u76EE\u5F55":"\u83DC\u5355",children:s(L,{menuType:e.menuType})})})},{schema:{label:"\u521B\u5EFA\u65F6\u95F4",field:"createTime"},render(e){return F(e)}},{schema:{label:"\u4FEE\u6539\u65F6\u95F4",field:"updateTime"},render(e){return F(e)}},{schema:{label:"\u72B6\u6001",field:"menuStatus"},render(e,a){return s(v,{defaultChecked:e==="0",type:"line",checkedText:"\u542F\u7528",uncheckedText:"\u7981\u7528",onChange:d=>{y(()=>i.update(b(n({},j.exports.omit(a,"children")),{menuStatus:d?"0":"1"})))}})}}]})})};export{N as MenuTypeTag,ie as default};
