var L=Object.defineProperty,C=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var D=(s,t,i)=>t in s?L(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,N=(s,t)=>{for(var i in t||(t={}))I.call(t,i)&&D(s,i,t[i]);if(v)for(var i of v(t))S.call(t,i)&&D(s,i,t[i]);return s},F=(s,t)=>C(s,w(t));import{af as n,b as a,aF as H,j as r,i as T,A as k,D as q,F as B,am as z,K as M,q as u,aH as P,c as $,B as K,o as R}from"./vendor.581b77cf.js";/* empty css               *//* empty css              */import{s as V}from"./index.module.fd3800a2.js";import{e as E}from"./entrepot.937b7e14.js";import{b as o,s as y,S as G}from"./index.25c2c087.js";import{L as c,C as J}from"./index.04370c22.js";import"./index.16154476.js";import"./index.7553f754.js";import"./index.e1a43827.js";/* empty css               */import"./shopStore.b2b8e7ba.js";import"./index.110ec091.js";/* empty css              */import"./index.506e78cc.js";/* empty css               */import"./index.27d57268.js";/* empty css              */import"./style.4b618b1b.js";import"./clipboard.a809cca0.js";/* empty css               */import"./schema.a4de4ea7.js";/* empty css               */import"./schema.035d054d.js";const m={getBoundInfo(){return o.get("/api/tenantry/look/bound")},getLogisticsList(){return o.get("/api/tenantry/look/can/bound/logistics")},bindLogistics(s){return o.get(`/api/tenantry/bound/logistics/${s}`)}};function xe(){var g,f,x,b,j;const s=n(()=>E.getList({pageNum:1,pageSize:100,entrepotType:1}).then(e=>{var d,l;return(l=(d=e.data)==null?void 0:d.data)==null?void 0:l.data.list})),t=n(()=>m.getBoundInfo().then(e=>e.data.data)),i=n(()=>m.getLogisticsList().then(e=>e.data.data.list)),p=n(e=>y(()=>m.bindLogistics(e),"\u7ED1\u5B9A").then(t.run),{manual:!0}),h=n(e=>y(()=>E.setDefualt(e)).then(()=>{s.mutate(s.data.map(d=>F(N({},d),{defaultFlag:d.id===e})))}),{manual:!0});return a(H,{className:"flex-1 overflow-hidden",bodyStyle:{height:"100%"},children:r("div",{className:"flex flex-col h-full",children:[a(T.Title,{heading:6,className:"!mb-0",children:r("div",{className:"flex items-center justify-between",children:[a("div",{children:((g=t.data)==null?void 0:g.id)?"\u4ED3\u5E93\u5730\u5740":"\u5408\u4F5C\u7269\u6D41\u5546"}),((f=t.data)==null?void 0:f.id)?r("div",{className:"flex items-center gap-2",children:[a(k,{children:a("img",{src:(x=t.data)==null?void 0:x.headImg,alt:""})}),a("div",{children:(b=t.data)==null?void 0:b.userName})]}):null]})}),a(q,{}),!t.loading&&!((j=t.data)==null?void 0:j.id)?a(B,{children:r("div",{className:"flex flex-col w-96 mt-4 mx-auto flex-1",children:[a(z.Search,{placeholder:"\u8BF7\u8F93\u5165\u5408\u4F5C\u7269\u6D41\u5546\u540D\u79F0",searchButton:"\u7ED1\u5B9A",loading:p.loading,onSearch:e=>{var d;if(e){const l=(d=i.data)==null?void 0:d.find(A=>A.userName===e);l?p.run(l.id):M.error("\u7269\u6D41\u5546\u4E0D\u5B58\u5728, \u8BF7\u548C\u7269\u6D41\u5546\u786E\u8BA4\u540E\u518D\u64CD\u4F5C\uFF01")}}}),a("div",{className:"text-sm mt-2",children:"\u7ED1\u5B9A\u6210\u529F\u540E\uFF0C\u5373\u53EF\u9009\u62E9\u4ED3\u5E93\u8FDB\u884C\u53D1\u8D27\u6253\u5305!"})]})}):a("div",{className:"flex-1 overflow-hidden",children:a("div",{className:"h-full overflow-auto",children:a(u,{loading:s.loading,dataSource:s.data||Array.from({length:5}).fill({}),render:(e,d)=>a(u.Item,{style:{padding:"0px 20px 12px 0px",paddingTop:d?12:0},className:"group",children:s.loading?a(P,{animation:!0,text:{width:["60%","90%"],rows:2},image:{shape:"circle"}}):r("div",{className:"flex w-full items-center",children:[a(u.Item.Meta,{className:$(V["list-meta-ellipsis"],"flex-1"),title:r("div",{className:"flex gap-4 items-center",children:[a("span",{className:"text-lg",children:e.entrepotName}),e.defaultFlag?a(G,{size:"small",tagInfos:[{text:"\u9ED8\u8BA4\u4ED3\u5E93",value:1,color:"red"}],value:1}):null,a("div",{className:`${e.defaultFlag?"hidden":"hidden group-hover:inline-block"}`,children:a(K,{type:"primary",size:"mini",loading:h.loading,onClick:()=>{h.run(e.id)},children:"\u8BBE\u4E3A\u9ED8\u8BA4"})})]}),description:r(B,{children:[a(c,{label:"\u6536\u8D27\u4EBA",value:e.consignee}),a(c,{label:"\u8054\u7CFB\u7535\u8BDD",value:e.telephone}),a(c,{label:"\u6536\u8D27\u5730\u5740",value:a(J,{value:e.deliveryAddress+e.detailedAddress,children:e.deliveryAddress+e.detailedAddress})})]})}),a(R,{className:"arco-image-cover",width:100,height:100,src:e.qrCode})]})},d)})})})]})})}export{xe as default};
