var w=Object.defineProperty,C=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var g=(i,e,a)=>e in i?w(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a,f=(i,e)=>{for(var a in e||(e={}))E.call(e,a)&&g(i,a,e[a]);if(x)for(var a of x(e))I.call(e,a)&&g(i,a,e[a]);return i},h=(i,e)=>C(i,B(e));import{j as r,aI as d,b as s,i as c,B as m,aV as k,t as y,aP as P,bG as L,a1 as T}from"./vendor.475cee01.js";import{E as z}from"./EntrepotList.6d65785f.js";import{useEntrepotInfo as S}from"./hooks.45d1ee4b.js";import{CreateRacksSchema as H}from"./schema.ca5fb603.js";import{P as A,F as V}from"./index.b2d919ca.js";import{L as G}from"./index.3b332b51.js";import{S as p,a as M}from"./index.7f218578.js";import{c as O}from"./index.9a618fcf.js";import"./index.926a4b8b.js";import"./entrepot.95f11770.js";/* empty css               */import"./index.ab849bc2.js";import"./index.36bc3114.js";import"./index.4f759f94.js";import"./shopStore.936c9d2c.js";import"./index.cc99a160.js";/* empty css              */import"./index.599b9453.js";/* empty css               *//* empty css              */import"./style.4b618b1b.js";import"./clipboard.a809cca0.js";/* empty css               */import"./schema.524eafb7.js";/* empty css               */import"./schema.035d054d.js";/* empty css              */var je=()=>{const i=S({}),{showTypeRacks:e,formRacksRef:a,activeEntrepot:l,entrepotLoading:N,racksList:t,rackLoading:v,activeRacks:n,setActiveRacks:u,createRacksLoading:b,createRacksHandler:D,removeRacksHandler:j,removeRacksLoading:R,updateRacksHandler:F}=i;return r("div",{className:"bg-white p-4 pb-6 main-content-box overflow-hidden",children:[r(d.Row,{gutter:[20,0],className:"h-full",children:[s(d.Col,{span:6,className:"border-r border-neutral-3 pr-4 h-full overflow-y-auto",children:s(z,{entrepotInfoHandle:i})}),e===p.create&&!(t==null?void 0:t.length)?null:r(d.Col,{span:6,className:"border-r border-neutral-3 pr-4",children:[r(c.Paragraph,{className:"flex items-baseline !mb-0 !mt-2",children:[s(c.Title,{heading:6,className:"mb-0",children:"\u8D27\u67B6\u5217\u8868"}),s(m,{icon:s(k,{}),type:"primary",size:"small",className:"ml-auto",disabled:e===p.create,onClick:()=>{a.resetFields(),u(null)},children:"\u65B0\u589E"})]}),s(G,{loading:v,active:n==null?void 0:n.id,onActive:o=>{u(o),a.setFieldsValue(o)},data:t==null?void 0:t.map(o=>h(f({},o),{name:o.storageRacksName,description:o.storageRacksCode,avatar:o.locationPrefix})),onDelete:async o=>{await O({title:"\u5220\u9664\u8D27\u67B6",content:`\u662F\u5426\u5220\u9664\u8D27\u67B6\uFF1A${o.storageRacksName}`,okText:"\u5220\u9664"}),j(o.id)}})]}),l&&e&&r(d.Col,{span:12,className:"pr-6",children:[r(c.Paragraph,{className:"flex items-baseline !mb-0 !mt-2",children:[r(c.Title,{heading:6,className:"mb-0",children:[M[e],"\u8D27\u67B6"]}),e===p.create&&r(y,{className:"ml-auto",size:"large",children:[s(m,{icon:s(k,{}),type:"primary",status:"success",size:"small",loading:b,onClick:async()=>{const o=await a.validate();D(o),u(null)},children:"\u65B0\u589E"}),s(m,{icon:s(P,{}),loading:b,size:"small",onClick:()=>{a.setFieldsValue(l)},children:"\u53D6\u6D88"})]}),e===p.edit&&r(y,{className:"ml-auto",size:"large",children:[s(m,{icon:s(L,{}),type:"primary",size:"small",loading:b,onClick:async()=>{const o=await a.validate();F(h(f({},o),{id:n.id,entrepotId:l.id}))},children:"\u4FDD\u5B58"}),s(A,{buttonProps:{loading:R},onOk:()=>{j(n.id)}})]})]}),s(V,{form:a,labelLength:10,formItemConfigList:H})]})]}),!N&&l?null:s(T,{})]})};export{je as default};
