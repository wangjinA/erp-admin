var Qa=Object.defineProperty,Ya=Object.defineProperties;var Ja=Object.getOwnPropertyDescriptors;var lr=Object.getOwnPropertySymbols;var ni=Object.prototype.hasOwnProperty,ii=Object.prototype.propertyIsEnumerable;var ai=(t,e,i)=>e in t?Qa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,q=(t,e)=>{for(var i in e||(e={}))ni.call(e,i)&&ai(t,i,e[i]);if(lr)for(var i of lr(e))ii.call(e,i)&&ai(t,i,e[i]);return t},ue=(t,e)=>Ya(t,Ja(e));var ht=(t,e)=>{var i={};for(var n in t)ni.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&lr)for(var n of lr(t))e.indexOf(n)<0&&ii.call(t,n)&&(i[n]=t[n]);return i};import{j as te,b as w,aD as eo,H as Ee,r as se,aj as ve,F as ye,B as fe,z as zr,M as Be,E as pt,aK as cr,n as Le,a1 as jr,aL as to,aJ as ct,aM as dr,O as Ne,t as Ye,at as fr,aN as Hr,aO as Tt,P as Wr,au as ro,c as Me,aP as oi,aQ as ui,V as si,aR as no,R as li,a0 as io,al as Pe,e as Gr,aS as ao,aT as ci,aU as di,aV as Vr,aW as Kr,aX as oo,aY as fi,am as wt,l as Ce,o as hr,aZ as uo,a_ as hi,I as qr,S as pi,aI as xt,i as Ot,as as so,a9 as lo,a$ as co,b0 as fo,b1 as ho,b2 as po,q as mi,m as mo,u as Zr,b3 as go,b4 as vo,b5 as yo,aE as bo,b6 as gi,b7 as _o,b8 as Eo,d as wo,b9 as xo,ba as Oo,D as So,G as vi,v as Fo,bb as Ao,bc as Co,bd as ko,be as yi,bf as bi,bg as Do}from"./vendor.475cee01.js";import{o as at,f as Kt,b as ie,i as mt,s as we,r as _i,a as Ze,c as Je,t as Bo,d as Xr,e as Ei,g as wi,h as Po,C as Io,j as Qr,k as pr,l as qt,m as mr}from"./index.9a618fcf.js";import{S as et,F as To,a as Ro,T as No,b as Lo,t as Mo}from"./index.7f218578.js";import{b as Fe,E as xe,a as $o,u as Uo,c as zo,d as xi,e as jo}from"./index.4f759f94.js";import{u as Yr,D as gr,a as Oi}from"./index.ab849bc2.js";/* empty css               */import{s as Ho}from"./shopStore.936c9d2c.js";import{M as Wo}from"./index.cc99a160.js";/* empty css              */import{R as Go,a as Vo}from"./index.599b9453.js";/* empty css               */import{R as Ko}from"./index.36bc3114.js";/* empty css              */import{H as qo}from"./style.4b618b1b.js";import{c as Zo}from"./clipboard.a809cca0.js";/* empty css               */import{e as Jr,s as Si}from"./entrepot.95f11770.js";import{getOrderFilter as Xo}from"./schema.524eafb7.js";/* empty css               */import{OrderCreateSchema2 as Qo}from"./schema.035d054d.js";function Yo({children:t,value:e,gap:i=4}){return te("span",{children:[t,w(eo,{style:{cursor:"pointer",color:"rgb(22, 93, 255)",marginLeft:i},onClick:()=>{Zo(e),Ee.success("\u590D\u5236\u6210\u529F")}})]})}var Fi=t=>{var u,o,f;const{buttonProps:e,id:i}=t,[n,r]=se.exports.useState(!1),a=ve(async()=>at.getLog(i).then(m=>m.data),{manual:!0});return te(ye,{children:[w(fe,ue(q({icon:w(zr,{}),onClick:()=>{a.run(),r(!0)}},e),{children:"\u64CD\u4F5C\u8BB0\u5F55"})),w(Be,{title:"\u64CD\u4F5C\u8BB0\u5F55",visible:n,onCancel:()=>r(!1),cancelText:"\u5173\u95ED",unmountOnExit:!0,onOk:async()=>{r(!1)},children:w(pt,{loading:a.loading,className:"mx-auto block max-h-96 overflow-y-auto",children:!a.loading&&((o=(u=a.data)==null?void 0:u.data.list)==null?void 0:o.length)?w(cr,{children:(f=a.data)==null?void 0:f.data.list.map(m=>te(cr.Item,{label:te("div",{children:[w("p",{children:m.operationContent||"-"}),te("p",{className:"mt-1",children:["\u64CD\u4F5C\u4EBA\uFF1A",m.operatorUser?w(Le,{color:"blue",size:"small",children:m.operatorUser}):"-"]})]}),children:[w("span",{children:m.operationProcedure}),w("span",{className:"ml-4 text-gray-500",children:Kt(m.createTime)})]},m.id))}):w(jr,{description:"\u6682\u65E0\u8BB0\u5F55"})})})]})};const ke={getList(t){return ie.post("/api/logistics/order/list",t)},getDetail(t){return ie.get(`/api/logistics/order/info/${t}`)},insert(t){return ie.post("/api/logistics/order/insert",t)},cancel(t){return ie.post("/api/logistics/order/batch/cancel/order",{orderIdList:t})},batchGetTrackingNumber(t){return ie.post("/api/logistics/order/get/tracking/number/batch",t)},refresh(t){return ie.post("/api/logistics/order/batch/update/order",t)},updateParameter(t){return ie.post("/api/logistics/order/update/shipping/parameter",t)},shipment(t){return ie.post("/api/logistics/order/arrange/shipment",t)},shipmentBatch(t){return ie.post("/api/logistics/order/arrange/shipmentBatch",t)},getShippingParameter(t){return ie.get(`/api/logistics/order/get/shipping/parameter/${t}`)},createShellOrder(t){return ie.get(`/api/logistics/order/get/tracking/number/${t}`)},saveOrder(t){return ie.post("/api/logistics/order/save/data",t)},exportOrderList(t){return ie.post("/api/logistics/order/exportXls",t,{responseType:"blob"})},getDownloadSheetFile(t){return ie.post("/api/logistics/order/getDownloadSheetFile",t)},countSheetFile(t){return ie.post("/api/logistics/order/countSheetFile",t)},exceptionOnHold(t){return ie.get("/api/logistics/order/mark/abeyance",{params:t})},overseasWarehouseReturnList(t){return ie.post("/api/logistics/order/overseasWarehouseReturn/list",t)},overseasWarehouseReturnCount(t){return ie.post("/api/logistics/order/overseasWarehouseReturn/count",t)},overseasWarehouseReturnRevocation(t){return ie.get(`/api/logistics/order/overseasWarehouseReturn/revocation/${t}`)},overseasWarehouseReturnDestroy(t){return ie.get(`/api/logistics/order/overseasWarehouseReturn/destroy/${t}`)},overseasWarehouseReturnDestroyBatch(t){return ie.post("/api/logistics/order/overseasWarehouseReturn/destroy/batch",t)},overseasWarehouseReturnReOutOverseasWarehouseReturnOrder(t){return ie.get("/api/logistics/order/overseasWarehouseReturn/reOutOverseasWarehouseReturnOrder",{params:t})},updatePickingStatus(t){return ie.get(`/api/logistics/order/mark/pickingProduct?productId=${t.productId}&pickingStatus=${t.pickingStatus}`)},updateConsignmentStatus(t){return ie.get(`/api/logistics/order/mark/delivery?orderNo=${t.orderNo}&consignmentStatus=${t.consignmentStatus}`)},updateRemark(t){return ie.get(`/api/logistics/order/stash/remark?id=${t.orderId}&remark=${t.remark}`)}};var Ai={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(i){var n={};function r(a){if(n[a])return n[a].exports;var u=n[a]={i:a,l:!1,exports:{}};return i[a].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=i,r.c=n,r.d=function(a,u,o){r.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:o})},r.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,u){if(u&1&&(a=r(a)),u&8||u&4&&typeof a=="object"&&a&&a.__esModule)return a;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:a}),u&2&&typeof a!="string")for(var f in a)r.d(o,f,function(m){return a[m]}.bind(null,f));return o},r.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(u,"a",u),u},r.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},r.p="",r(r.s=0)}({"./src/index.js":function(i,n,r){r.r(n),r("./src/sass/index.scss");var a=r("./src/js/init.js"),u=a.default.init;typeof window!="undefined"&&(window.printJS=u),n.default=u},"./src/js/browser.js":function(i,n,r){r.r(n);var a={isFirefox:function(){return typeof InstallTrigger!="undefined"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!a.isIE()&&!!window.StyleMedia},isChrome:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!o.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};n.default=a},"./src/js/functions.js":function(i,n,r){r.r(n),r.d(n,"addWrapper",function(){return f}),r.d(n,"capitalizePrint",function(){return m}),r.d(n,"collectStyles",function(){return l}),r.d(n,"addHeader",function(){return s}),r.d(n,"cleanUp",function(){return d}),r.d(n,"isRawHTML",function(){return g});var a=r("./src/js/modal.js"),u=r("./src/js/browser.js");function o(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(v){return typeof v}:o=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o(h)}function f(h,y){var v="font-family:"+y.font+" !important; font-size: "+y.font_size+" !important; width:100%;";return'<div style="'+v+'">'+h+"</div>"}function m(h){return h.charAt(0).toUpperCase()+h.slice(1)}function l(h,y){for(var v=document.defaultView||window,_="",E=v.getComputedStyle(h,""),A=0;A<E.length;A++)(y.targetStyles.indexOf("*")!==-1||y.targetStyle.indexOf(E[A])!==-1||c(y.targetStyles,E[A]))&&E.getPropertyValue(E[A])&&(_+=E[A]+":"+E.getPropertyValue(E[A])+";");return _+="max-width: "+y.maxWidth+"px !important; font-size: "+y.font_size+" !important;",_}function c(h,y){for(var v=0;v<h.length;v++)if(o(y)==="object"&&y.indexOf(h[v])!==-1)return!0;return!1}function s(h,y){var v=document.createElement("div");if(g(y.header))v.innerHTML=y.header;else{var _=document.createElement("h1"),E=document.createTextNode(y.header);_.appendChild(E),_.setAttribute("style",y.headerStyle),v.appendChild(_)}h.insertBefore(v,h.childNodes[0])}function d(h){h.showModal&&a.default.close(),h.onLoadingEnd&&h.onLoadingEnd(),(h.showModal||h.onLoadingStart)&&window.URL.revokeObjectURL(h.printable);var y="mouseover";(u.default.isChrome()||u.default.isFirefox())&&(y="focus");var v=function _(){window.removeEventListener(y,_),h.onPrintDialogClose();var E=document.getElementById(h.frameId);E&&E.remove()};window.addEventListener(y,v)}function g(h){var y=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return y.test(h)}},"./src/js/html.js":function(i,n,r){r.r(n);var a=r("./src/js/functions.js"),u=r("./src/js/print.js");function o(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(s){return typeof s}:o=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},o(l)}n.default={print:function(c,s){var d=m(c.printable)?c.printable:document.getElementById(c.printable);if(!d){window.console.error("Invalid HTML element id: "+c.printable);return}c.printableElement=f(d,c),c.header&&Object(a.addHeader)(c.printableElement,c),u.default.send(c,s)}};function f(l,c){for(var s=l.cloneNode(),d=Array.prototype.slice.call(l.childNodes),g=0;g<d.length;g++)if(c.ignoreElements.indexOf(d[g].id)===-1){var h=f(d[g],c);s.appendChild(h)}switch(c.scanStyles&&l.nodeType===1&&s.setAttribute("style",Object(a.collectStyles)(l,c)),l.tagName){case"SELECT":s.value=l.value;break;case"CANVAS":s.getContext("2d").drawImage(l,0,0);break}return s}function m(l){return o(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(i,n,r){r.r(n);var a=r("./src/js/functions.js"),u=r("./src/js/print.js"),o=r("./src/js/browser.js");n.default={print:function(m,l){m.printable.constructor!==Array&&(m.printable=[m.printable]),m.printableElement=document.createElement("div"),m.printable.forEach(function(c){var s=document.createElement("img");if(s.setAttribute("style",m.imageStyle),s.src=c,o.default.isFirefox()){var d=s.src;s.src=d}var g=document.createElement("div");g.appendChild(s),m.printableElement.appendChild(g)}),m.header&&Object(a.addHeader)(m.printableElement,m),u.default.send(m,l)}}},"./src/js/init.js":function(i,n,r){r.r(n);var a=r("./src/js/browser.js"),u=r("./src/js/modal.js"),o=r("./src/js/pdf.js"),f=r("./src/js/html.js"),m=r("./src/js/raw-html.js"),l=r("./src/js/image.js"),c=r("./src/js/json.js");function s(g){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(y){return typeof y}:s=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s(g)}var d=["pdf","html","image","json","raw-html"];n.default={init:function(){var h={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(C){throw C},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},y=arguments[0];if(y===void 0)throw new Error("printJS expects at least 1 attribute.");switch(s(y)){case"string":h.printable=encodeURI(y),h.fallbackPrintable=h.printable,h.type=arguments[1]||h.type;break;case"object":h.printable=y.printable,h.fallbackPrintable=typeof y.fallbackPrintable!="undefined"?y.fallbackPrintable:h.printable,h.fallbackPrintable=h.base64?"data:application/pdf;base64,".concat(h.fallbackPrintable):h.fallbackPrintable;for(var v in h)v==="printable"||v==="fallbackPrintable"||(h[v]=typeof y[v]!="undefined"?y[v]:h[v]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+s(y))}if(!h.printable)throw new Error("Missing printable information.");if(!h.type||typeof h.type!="string"||d.indexOf(h.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");h.showModal&&u.default.show(h),h.onLoadingStart&&h.onLoadingStart();var _=document.getElementById(h.frameId);_&&_.parentNode.removeChild(_);var E=document.createElement("iframe");switch(a.default.isFirefox()?E.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):E.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),E.setAttribute("id",h.frameId),h.type!=="pdf"&&(E.srcdoc="<html><head><title>"+h.documentTitle+"</title>",h.css&&(Array.isArray(h.css)||(h.css=[h.css]),h.css.forEach(function(D){E.srcdoc+='<link rel="stylesheet" href="'+D+'">'})),E.srcdoc+="</head><body></body></html>"),h.type){case"pdf":if(a.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var A=window.open(h.fallbackPrintable,"_blank");A.focus(),h.onIncompatibleBrowser()}catch(D){h.onError(D)}finally{h.showModal&&u.default.close(),h.onLoadingEnd&&h.onLoadingEnd()}else o.default.print(h,E);break;case"image":l.default.print(h,E);break;case"html":f.default.print(h,E);break;case"raw-html":m.default.print(h,E);break;case"json":c.default.print(h,E);break}}}},"./src/js/json.js":function(i,n,r){r.r(n);var a=r("./src/js/functions.js"),u=r("./src/js/print.js");function o(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(c){return typeof c}:o=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},o(m)}n.default={print:function(l,c){if(o(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(s){return{field:o(s)==="object"?s.field:s,displayName:o(s)==="object"?s.displayName:s,columnSize:o(s)==="object"&&s.columnSize?s.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(a.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=f(l),u.default.send(l,c)}};function f(m){var l=m.printable,c=m.properties,s='<table style="border-collapse: collapse; width: 100%;">';m.repeatTableHeader&&(s+="<thead>"),s+="<tr>";for(var d=0;d<c.length;d++)s+='<th style="width:'+c[d].columnSize+";"+m.gridHeaderStyle+'">'+Object(a.capitalizePrint)(c[d].displayName)+"</th>";s+="</tr>",m.repeatTableHeader&&(s+="</thead>"),s+="<tbody>";for(var g=0;g<l.length;g++){s+="<tr>";for(var h=0;h<c.length;h++){var y=l[g],v=c[h].field.split(".");if(v.length>1)for(var _=0;_<v.length;_++)y=y[v[_]];else y=y[c[h].field];s+='<td style="width:'+c[h].columnSize+m.gridStyle+'">'+y+"</td>"}s+="</tr>"}return s+="</tbody></table>",s}},"./src/js/modal.js":function(i,n,r){r.r(n);var a={show:function(o){var f="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",m=document.createElement("div");m.setAttribute("style",f),m.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var c=document.createElement("div");c.setAttribute("class","printClose"),c.setAttribute("id","printClose"),l.appendChild(c);var s=document.createElement("span");s.setAttribute("class","printSpinner"),l.appendChild(s);var d=document.createTextNode(o.modalMessage);l.appendChild(d),m.appendChild(l),document.getElementsByTagName("body")[0].appendChild(m),document.getElementById("printClose").addEventListener("click",function(){a.close()})},close:function(){var o=document.getElementById("printJS-Modal");o&&o.parentNode.removeChild(o)}};n.default=a},"./src/js/pdf.js":function(i,n,r){r.r(n);var a=r("./src/js/print.js"),u=r("./src/js/functions.js");n.default={print:function(m,l){if(m.base64){var c=Uint8Array.from(atob(m.printable),function(d){return d.charCodeAt(0)});o(m,l,c);return}m.printable=/^(blob|http|\/\/)/i.test(m.printable)?m.printable:window.location.origin+(m.printable.charAt(0)!=="/"?"/"+m.printable:m.printable);var s=new window.XMLHttpRequest;s.responseType="arraybuffer",s.addEventListener("error",function(){Object(u.cleanUp)(m),m.onError(s.statusText,s)}),s.addEventListener("load",function(){if([200,201].indexOf(s.status)===-1){Object(u.cleanUp)(m),m.onError(s.statusText,s);return}o(m,l,s.response)}),s.open("GET",m.printable,!0),s.send()}};function o(f,m,l){var c=new window.Blob([l],{type:"application/pdf"});c=window.URL.createObjectURL(c),m.setAttribute("src",c),a.default.send(f,m)}},"./src/js/print.js":function(i,n,r){r.r(n);var a=r("./src/js/browser.js"),u=r("./src/js/functions.js"),o={send:function(s,d){document.getElementsByTagName("body")[0].appendChild(d);var g=document.getElementById(s.frameId);g.onload=function(){if(s.type==="pdf"){a.default.isFirefox()?setTimeout(function(){return f(g,s)},1e3):f(g,s);return}var h=g.contentWindow||g.contentDocument;if(h.document&&(h=h.document),h.body.appendChild(s.printableElement),s.type!=="pdf"&&s.style){var y=document.createElement("style");y.innerHTML=s.style,h.head.appendChild(y)}var v=h.getElementsByTagName("img");v.length>0?m(Array.from(v)).then(function(){return f(g,s)}):f(g,s)}}};function f(c,s){try{if(c.focus(),a.default.isEdge()||a.default.isIE())try{c.contentWindow.document.execCommand("print",!1,null)}catch{c.contentWindow.print()}else c.contentWindow.print()}catch(d){s.onError(d)}finally{a.default.isFirefox()&&(c.style.visibility="hidden",c.style.left="-1px"),Object(u.cleanUp)(s)}}function m(c){var s=c.map(function(d){if(d.src&&d.src!==window.location.href)return l(d)});return Promise.all(s)}function l(c){return new Promise(function(s){var d=function g(){!c||typeof c.naturalWidth=="undefined"||c.naturalWidth===0||!c.complete?setTimeout(g,500):s()};d()})}n.default=o},"./src/js/raw-html.js":function(i,n,r){r.r(n);var a=r("./src/js/print.js");n.default={print:function(o,f){o.printableElement=document.createElement("div"),o.printableElement.setAttribute("style","width:100%"),o.printableElement.innerHTML=o.printable,a.default.send(o,f)}}},"./src/sass/index.scss":function(i,n,r){},0:function(i,n,r){i.exports=r("./src/index.js")}}).default})})(Ai);var Ci=to(Ai.exports),ki={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(i){t.exports=i()})(function(){return function i(n,r,a){function u(m,l){if(!r[m]){if(!n[m]){var c=typeof dr=="function"&&dr;if(!l&&c)return c(m,!0);if(o)return o(m,!0);var s=new Error("Cannot find module '"+m+"'");throw s.code="MODULE_NOT_FOUND",s}var d=r[m]={exports:{}};n[m][0].call(d.exports,function(g){var h=n[m][1][g];return u(h||g)},d,d.exports,i,n,r,a)}return r[m].exports}for(var o=typeof dr=="function"&&dr,f=0;f<a.length;f++)u(a[f]);return u}({1:[function(i,n,r){var a=i("./utils"),u=i("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(f){for(var m,l,c,s,d,g,h,y=[],v=0,_=f.length,E=_,A=a.getTypeOf(f)!=="string";v<f.length;)E=_-v,c=A?(m=f[v++],l=v<_?f[v++]:0,v<_?f[v++]:0):(m=f.charCodeAt(v++),l=v<_?f.charCodeAt(v++):0,v<_?f.charCodeAt(v++):0),s=m>>2,d=(3&m)<<4|l>>4,g=1<E?(15&l)<<2|c>>6:64,h=2<E?63&c:64,y.push(o.charAt(s)+o.charAt(d)+o.charAt(g)+o.charAt(h));return y.join("")},r.decode=function(f){var m,l,c,s,d,g,h=0,y=0,v="data:";if(f.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var _,E=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===o.charAt(64)&&E--,f.charAt(f.length-2)===o.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=u.uint8array?new Uint8Array(0|E):new Array(0|E);h<f.length;)m=o.indexOf(f.charAt(h++))<<2|(s=o.indexOf(f.charAt(h++)))>>4,l=(15&s)<<4|(d=o.indexOf(f.charAt(h++)))>>2,c=(3&d)<<6|(g=o.indexOf(f.charAt(h++))),_[y++]=m,d!==64&&(_[y++]=l),g!==64&&(_[y++]=c);return _}},{"./support":30,"./utils":32}],2:[function(i,n,r){var a=i("./external"),u=i("./stream/DataWorker"),o=i("./stream/Crc32Probe"),f=i("./stream/DataLengthProbe");function m(l,c,s,d,g){this.compressedSize=l,this.uncompressedSize=c,this.crc32=s,this.compression=d,this.compressedContent=g}m.prototype={getContentWorker:function(){var l=new u(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),c=this;return l.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new u(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(l,c,s){return l.pipe(new o).pipe(new f("uncompressedSize")).pipe(c.compressWorker(s)).pipe(new f("compressedSize")).withStreamInfo("compression",c)},n.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,n,r){var a=i("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},r.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,n,r){var a=i("./utils"),u=function(){for(var o,f=[],m=0;m<256;m++){o=m;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;f[m]=o}return f}();n.exports=function(o,f){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(m,l,c,s){var d=u,g=s+c;m^=-1;for(var h=s;h<g;h++)m=m>>>8^d[255&(m^l[h])];return-1^m}(0|f,o,o.length,0):function(m,l,c,s){var d=u,g=s+c;m^=-1;for(var h=s;h<g;h++)m=m>>>8^d[255&(m^l.charCodeAt(h))];return-1^m}(0|f,o,o.length,0):0}},{"./utils":32}],5:[function(i,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(i,n,r){var a=null;a=typeof Promise!="undefined"?Promise:i("lie"),n.exports={Promise:a}},{lie:37}],7:[function(i,n,r){var a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",u=i("pako"),o=i("./utils"),f=i("./stream/GenericWorker"),m=a?"uint8array":"array";function l(c,s){f.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=s,this.meta={}}r.magic="\b\0",o.inherits(l,f),l.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(m,c.data),!1)},l.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(s){c.push({data:s,meta:c.meta})}},r.compressWorker=function(c){return new l("Deflate",c)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,n,r){function a(d,g){var h,y="";for(h=0;h<g;h++)y+=String.fromCharCode(255&d),d>>>=8;return y}function u(d,g,h,y,v,_){var E,A,D=d.file,C=d.compression,N=_!==m.utf8encode,F=o.transformTo("string",_(D.name)),x=o.transformTo("string",m.utf8encode(D.name)),T=D.comment,L=o.transformTo("string",_(T)),O=o.transformTo("string",m.utf8encode(T)),k=x.length!==D.name.length,p=O.length!==T.length,R="",B="",S="",G=D.dir,M=D.date,K={crc32:0,compressedSize:0,uncompressedSize:0};g&&!h||(K.crc32=d.crc32,K.compressedSize=d.compressedSize,K.uncompressedSize=d.uncompressedSize);var z=0;g&&(z|=8),N||!k&&!p||(z|=2048);var $=0,X=0;G&&($|=16),v==="UNIX"?(X=798,$|=function(U,ne){var me=U;return U||(me=ne?16893:33204),(65535&me)<<16}(D.unixPermissions,G)):(X=20,$|=function(U){return 63&(U||0)}(D.dosPermissions)),E=M.getUTCHours(),E<<=6,E|=M.getUTCMinutes(),E<<=5,E|=M.getUTCSeconds()/2,A=M.getUTCFullYear()-1980,A<<=4,A|=M.getUTCMonth()+1,A<<=5,A|=M.getUTCDate(),k&&(B=a(1,1)+a(l(F),4)+x,R+="up"+a(B.length,2)+B),p&&(S=a(1,1)+a(l(L),4)+O,R+="uc"+a(S.length,2)+S);var W="";return W+=`
\0`,W+=a(z,2),W+=C.magic,W+=a(E,2),W+=a(A,2),W+=a(K.crc32,4),W+=a(K.compressedSize,4),W+=a(K.uncompressedSize,4),W+=a(F.length,2),W+=a(R.length,2),{fileRecord:c.LOCAL_FILE_HEADER+W+F+R,dirRecord:c.CENTRAL_FILE_HEADER+a(X,2)+W+a(L.length,2)+"\0\0\0\0"+a($,4)+a(y,4)+F+R+L}}var o=i("../utils"),f=i("../stream/GenericWorker"),m=i("../utf8"),l=i("../crc32"),c=i("../signature");function s(d,g,h,y){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=h,this.encodeFileName=y,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(s,f),s.prototype.push=function(d){var g=d.meta.percent||0,h=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,f.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:h?(g+100*(h-y-1))/h:100}}))},s.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var g=this.streamFiles&&!d.file.dir;if(g){var h=u(d,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(d){this.accumulate=!1;var g=this.streamFiles&&!d.file.dir,h=u(d,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),g)this.push({data:function(y){return c.DATA_DESCRIPTOR+a(y.crc32,4)+a(y.compressedSize,4)+a(y.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var d=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var h=this.bytesWritten-d,y=function(v,_,E,A,D){var C=o.transformTo("string",D(A));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(_,4)+a(E,4)+a(C.length,2)+C}(this.dirRecords.length,h,d,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(d){this._sources.push(d);var g=this;return d.on("data",function(h){g.processChunk(h)}),d.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),d.on("error",function(h){g.error(h)}),this},s.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(d){var g=this._sources;if(!f.prototype.error.call(this,d))return!1;for(var h=0;h<g.length;h++)try{g[h].error(d)}catch{}return!0},s.prototype.lock=function(){f.prototype.lock.call(this);for(var d=this._sources,g=0;g<d.length;g++)d[g].lock()},n.exports=s},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,n,r){var a=i("../compressions"),u=i("./ZipFileWorker");r.generateWorker=function(o,f,m){var l=new u(f.streamFiles,m,f.platform,f.encodeFileName),c=0;try{o.forEach(function(s,d){c++;var g=function(_,E){var A=_||E,D=a[A];if(!D)throw new Error(A+" is not a valid compression method !");return D}(d.options.compression,f.compression),h=d.options.compressionOptions||f.compressionOptions||{},y=d.dir,v=d.date;d._compressWorker(g,h).withStreamInfo("file",{name:s,dir:y,date:v,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(l)}),l.entriesCount=c}catch(s){l.error(s)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,n,r){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new a;for(var o in this)typeof this[o]!="function"&&(u[o]=this[o]);return u}}(a.prototype=i("./object")).loadAsync=i("./load"),a.support=i("./support"),a.defaults=i("./defaults"),a.version="3.10.1",a.loadAsync=function(u,o){return new a().loadAsync(u,o)},a.external=i("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,n,r){var a=i("./utils"),u=i("./external"),o=i("./utf8"),f=i("./zipEntries"),m=i("./stream/Crc32Probe"),l=i("./nodejsUtils");function c(s){return new u.Promise(function(d,g){var h=s.decompressed.getContentWorker().pipe(new m);h.on("error",function(y){g(y)}).on("end",function(){h.streamInfo.crc32!==s.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(s,d){var g=this;return d=a.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(s)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",s,!0,d.optimizedBinaryString,d.base64).then(function(h){var y=new f(d);return y.load(h),y}).then(function(h){var y=[u.Promise.resolve(h)],v=h.files;if(d.checkCRC32)for(var _=0;_<v.length;_++)y.push(c(v[_]));return u.Promise.all(y)}).then(function(h){for(var y=h.shift(),v=y.files,_=0;_<v.length;_++){var E=v[_],A=E.fileNameStr,D=a.resolve(E.fileNameStr);g.file(D,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:d.createFolders}),E.dir||(g.file(D).unsafeOriginalName=A)}return y.zipComment.length&&(g.comment=y.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,n,r){var a=i("../utils"),u=i("../stream/GenericWorker");function o(f,m){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(m)}a.inherits(o,u),o.prototype._bindStream=function(f){var m=this;(this._stream=f).pause(),f.on("data",function(l){m.push({data:l,meta:{percent:0}})}).on("error",function(l){m.isPaused?this.generatedError=l:m.error(l)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},o.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,n,r){var a=i("readable-stream").Readable;function u(o,f,m){a.call(this,f),this._helper=o;var l=this;o.on("data",function(c,s){l.push(c)||l._helper.pause(),m&&m(s)}).on("error",function(c){l.emit("error",c)}).on("end",function(){l.push(null)})}i("../utils").inherits(u,a),u.prototype._read=function(){this._helper.resume()},n.exports=u},{"../utils":32,"readable-stream":16}],14:[function(i,n,r){n.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(a,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,u);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,u)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var u=new Buffer(a);return u.fill(0),u},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(i,n,r){function a(D,C,N){var F,x=o.getTypeOf(C),T=o.extend(N||{},l);T.date=T.date||new Date,T.compression!==null&&(T.compression=T.compression.toUpperCase()),typeof T.unixPermissions=="string"&&(T.unixPermissions=parseInt(T.unixPermissions,8)),T.unixPermissions&&16384&T.unixPermissions&&(T.dir=!0),T.dosPermissions&&16&T.dosPermissions&&(T.dir=!0),T.dir&&(D=v(D)),T.createFolders&&(F=y(D))&&_.call(this,F,!0);var L=x==="string"&&T.binary===!1&&T.base64===!1;N&&N.binary!==void 0||(T.binary=!L),(C instanceof c&&C.uncompressedSize===0||T.dir||!C||C.length===0)&&(T.base64=!1,T.binary=!0,C="",T.compression="STORE",x="string");var O=null;O=C instanceof c||C instanceof f?C:g.isNode&&g.isStream(C)?new h(D,C):o.prepareContent(D,C,T.binary,T.optimizedBinaryString,T.base64);var k=new s(D,O,T);this.files[D]=k}var u=i("./utf8"),o=i("./utils"),f=i("./stream/GenericWorker"),m=i("./stream/StreamHelper"),l=i("./defaults"),c=i("./compressedObject"),s=i("./zipObject"),d=i("./generate"),g=i("./nodejsUtils"),h=i("./nodejs/NodejsStreamInputAdapter"),y=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var C=D.lastIndexOf("/");return 0<C?D.substring(0,C):""},v=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},_=function(D,C){return C=C!==void 0?C:l.createFolders,D=v(D),this.files[D]||a.call(this,D,null,{dir:!0,createFolders:C}),this.files[D]};function E(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var C,N,F;for(C in this.files)F=this.files[C],(N=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&D(N,F)},filter:function(D){var C=[];return this.forEach(function(N,F){D(N,F)&&C.push(F)}),C},file:function(D,C,N){if(arguments.length!==1)return D=this.root+D,a.call(this,D,C,N),this;if(E(D)){var F=D;return this.filter(function(T,L){return!L.dir&&F.test(T)})}var x=this.files[this.root+D];return x&&!x.dir?x:null},folder:function(D){if(!D)return this;if(E(D))return this.filter(function(x,T){return T.dir&&D.test(x)});var C=this.root+D,N=_.call(this,C),F=this.clone();return F.root=N.name,F},remove:function(D){D=this.root+D;var C=this.files[D];if(C||(D.slice(-1)!=="/"&&(D+="/"),C=this.files[D]),C&&!C.dir)delete this.files[D];else for(var N=this.filter(function(x,T){return T.name.slice(0,D.length)===D}),F=0;F<N.length;F++)delete this.files[N[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var C,N={};try{if((N=o.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");o.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var F=N.comment||this.comment||"";C=d.generateWorker(this,N,F)}catch(x){(C=new f("error")).error(x)}return new m(C,N.type||"string",N.mimeType)},generateAsync:function(D,C){return this.generateInternalStream(D).accumulate(C)},generateNodeStream:function(D,C){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(C)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,n,r){n.exports=i("stream")},{stream:void 0}],17:[function(i,n,r){var a=i("./DataReader");function u(o){a.call(this,o);for(var f=0;f<this.data.length;f++)o[f]=255&o[f]}i("../utils").inherits(u,a),u.prototype.byteAt=function(o){return this.data[this.zero+o]},u.prototype.lastIndexOfSignature=function(o){for(var f=o.charCodeAt(0),m=o.charCodeAt(1),l=o.charCodeAt(2),c=o.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===f&&this.data[s+1]===m&&this.data[s+2]===l&&this.data[s+3]===c)return s-this.zero;return-1},u.prototype.readAndCheckSignature=function(o){var f=o.charCodeAt(0),m=o.charCodeAt(1),l=o.charCodeAt(2),c=o.charCodeAt(3),s=this.readData(4);return f===s[0]&&m===s[1]&&l===s[2]&&c===s[3]},u.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,f},n.exports=u},{"../utils":32,"./DataReader":18}],18:[function(i,n,r){var a=i("../utils");function u(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var f,m=0;for(this.checkOffset(o),f=this.index+o-1;f>=this.index;f--)m=(m<<8)+this.byteAt(f);return this.index+=o,m},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=u},{"../utils":32}],19:[function(i,n,r){var a=i("./Uint8ArrayReader");function u(o){a.call(this,o)}i("../utils").inherits(u,a),u.prototype.readData=function(o){this.checkOffset(o);var f=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,f},n.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,n,r){var a=i("./DataReader");function u(o){a.call(this,o)}i("../utils").inherits(u,a),u.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},u.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},u.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},u.prototype.readData=function(o){this.checkOffset(o);var f=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,f},n.exports=u},{"../utils":32,"./DataReader":18}],21:[function(i,n,r){var a=i("./ArrayReader");function u(o){a.call(this,o)}i("../utils").inherits(u,a),u.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,f},n.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(i,n,r){var a=i("../utils"),u=i("../support"),o=i("./ArrayReader"),f=i("./StringReader"),m=i("./NodeBufferReader"),l=i("./Uint8ArrayReader");n.exports=function(c){var s=a.getTypeOf(c);return a.checkSupport(s),s!=="string"||u.uint8array?s==="nodebuffer"?new m(c):u.uint8array?new l(a.transformTo("uint8array",c)):new o(a.transformTo("array",c)):new f(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,n,r){var a=i("./GenericWorker"),u=i("../utils");function o(f){a.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(o,a),o.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(i,n,r){var a=i("./GenericWorker"),u=i("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(o,a),o.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,n,r){var a=i("../utils"),u=i("./GenericWorker");function o(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}a.inherits(o,u),o.prototype.processChunk=function(f){if(f){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+f.data.length}u.prototype.processChunk.call(this,f)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(i,n,r){var a=i("../utils"),u=i("./GenericWorker");function o(f){u.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(l){m.dataIsReady=!0,m.data=l,m.max=l&&l.length||0,m.type=a.getTypeOf(l),m.isPaused||m._tickAndRepeat()},function(l){m.error(l)})}a.inherits(o,u),o.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,m);break;case"uint8array":f=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":f=this.data.slice(this.index,m)}return this.index=m,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(i,n,r){function a(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,o){return this._listeners[u].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,o){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,o)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var o=this;return u.on("data",function(f){o.processChunk(f)}),u.on("end",function(){o.end()}),u.on("error",function(f){o.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,o){return this.extraStreamInfo[u]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},n.exports=a},{}],29:[function(i,n,r){var a=i("../utils"),u=i("./ConvertWorker"),o=i("./GenericWorker"),f=i("../base64"),m=i("../support"),l=i("../external"),c=null;if(m.nodestream)try{c=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function s(g,h){return new l.Promise(function(y,v){var _=[],E=g._internalType,A=g._outputType,D=g._mimeType;g.on("data",function(C,N){_.push(C),h&&h(N)}).on("error",function(C){_=[],v(C)}).on("end",function(){try{var C=function(N,F,x){switch(N){case"blob":return a.newBlob(a.transformTo("arraybuffer",F),x);case"base64":return f.encode(F);default:return a.transformTo(N,F)}}(A,function(N,F){var x,T=0,L=null,O=0;for(x=0;x<F.length;x++)O+=F[x].length;switch(N){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(L=new Uint8Array(O),x=0;x<F.length;x++)L.set(F[x],T),T+=F[x].length;return L;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+N+"'")}}(E,_),D);y(C)}catch(N){v(N)}_=[]}).resume()})}function d(g,h,y){var v=h;switch(h){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=h,this._mimeType=y,a.checkSupport(v),this._worker=g.pipe(new u(v)),g.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}d.prototype={accumulate:function(g){return s(this,g)},on:function(g,h){var y=this;return g==="data"?this._worker.on(g,function(v){h.call(y,v.data,v.meta)}):this._worker.on(g,function(){a.delay(h,arguments,y)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",r.nodebuffer=typeof Buffer!="undefined",r.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")r.blob=!1;else{var a=new ArrayBuffer(0);try{r.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(a),r.blob=u.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!i("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(i,n,r){for(var a=i("./utils"),u=i("./support"),o=i("./nodejsUtils"),f=i("./stream/GenericWorker"),m=new Array(256),l=0;l<256;l++)m[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;m[254]=m[254]=1;function c(){f.call(this,"utf-8 decode"),this.leftOver=null}function s(){f.call(this,"utf-8 encode")}r.utf8encode=function(d){return u.nodebuffer?o.newBufferFrom(d,"utf-8"):function(g){var h,y,v,_,E,A=g.length,D=0;for(_=0;_<A;_++)(64512&(y=g.charCodeAt(_)))==55296&&_+1<A&&(64512&(v=g.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),_++),D+=y<128?1:y<2048?2:y<65536?3:4;for(h=u.uint8array?new Uint8Array(D):new Array(D),_=E=0;E<D;_++)(64512&(y=g.charCodeAt(_)))==55296&&_+1<A&&(64512&(v=g.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),_++),y<128?h[E++]=y:(y<2048?h[E++]=192|y>>>6:(y<65536?h[E++]=224|y>>>12:(h[E++]=240|y>>>18,h[E++]=128|y>>>12&63),h[E++]=128|y>>>6&63),h[E++]=128|63&y);return h}(d)},r.utf8decode=function(d){return u.nodebuffer?a.transformTo("nodebuffer",d).toString("utf-8"):function(g){var h,y,v,_,E=g.length,A=new Array(2*E);for(h=y=0;h<E;)if((v=g[h++])<128)A[y++]=v;else if(4<(_=m[v]))A[y++]=65533,h+=_-1;else{for(v&=_===2?31:_===3?15:7;1<_&&h<E;)v=v<<6|63&g[h++],_--;1<_?A[y++]=65533:v<65536?A[y++]=v:(v-=65536,A[y++]=55296|v>>10&1023,A[y++]=56320|1023&v)}return A.length!==y&&(A.subarray?A=A.subarray(0,y):A.length=y),a.applyFromCharCode(A)}(d=a.transformTo(u.uint8array?"uint8array":"array",d))},a.inherits(c,f),c.prototype.processChunk=function(d){var g=a.transformTo(u.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var h=g;(g=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),g.set(h,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var y=function(_,E){var A;for((E=E||_.length)>_.length&&(E=_.length),A=E-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?E:A+m[_[A]]>E?A:E}(g),v=g;y!==g.length&&(u.uint8array?(v=g.subarray(0,y),this.leftOver=g.subarray(y,g.length)):(v=g.slice(0,y),this.leftOver=g.slice(y,g.length))),this.push({data:r.utf8decode(v),meta:d.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,a.inherits(s,f),s.prototype.processChunk=function(d){this.push({data:r.utf8encode(d.data),meta:d.meta})},r.Utf8EncodeWorker=s},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,n,r){var a=i("./support"),u=i("./base64"),o=i("./nodejsUtils"),f=i("./external");function m(h){return h}function l(h,y){for(var v=0;v<h.length;++v)y[v]=255&h.charCodeAt(v);return y}i("setimmediate"),r.newBlob=function(h,y){r.checkSupport("blob");try{return new Blob([h],{type:y})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(h),v.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(h,y,v){var _=[],E=0,A=h.length;if(A<=v)return String.fromCharCode.apply(null,h);for(;E<A;)y==="array"||y==="nodebuffer"?_.push(String.fromCharCode.apply(null,h.slice(E,Math.min(E+v,A)))):_.push(String.fromCharCode.apply(null,h.subarray(E,Math.min(E+v,A)))),E+=v;return _.join("")},stringifyByChar:function(h){for(var y="",v=0;v<h.length;v++)y+=String.fromCharCode(h[v]);return y},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function s(h){var y=65536,v=r.getTypeOf(h),_=!0;if(v==="uint8array"?_=c.applyCanBeUsed.uint8array:v==="nodebuffer"&&(_=c.applyCanBeUsed.nodebuffer),_)for(;1<y;)try{return c.stringifyByChunk(h,v,y)}catch{y=Math.floor(y/2)}return c.stringifyByChar(h)}function d(h,y){for(var v=0;v<h.length;v++)y[v]=h[v];return y}r.applyFromCharCode=s;var g={};g.string={string:m,array:function(h){return l(h,new Array(h.length))},arraybuffer:function(h){return g.string.uint8array(h).buffer},uint8array:function(h){return l(h,new Uint8Array(h.length))},nodebuffer:function(h){return l(h,o.allocBuffer(h.length))}},g.array={string:s,array:m,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},g.arraybuffer={string:function(h){return s(new Uint8Array(h))},array:function(h){return d(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:m,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},g.uint8array={string:s,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:m,nodebuffer:function(h){return o.newBufferFrom(h)}},g.nodebuffer={string:s,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return g.nodebuffer.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:m},r.transformTo=function(h,y){if(y=y||"",!h)return y;r.checkSupport(h);var v=r.getTypeOf(y);return g[v][h](y)},r.resolve=function(h){for(var y=h.split("/"),v=[],_=0;_<y.length;_++){var E=y[_];E==="."||E===""&&_!==0&&_!==y.length-1||(E===".."?v.pop():v.push(E))}return v.join("/")},r.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(h)?"nodebuffer":a.uint8array&&h instanceof Uint8Array?"uint8array":a.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(h){if(!a[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(h){var y,v,_="";for(v=0;v<(h||"").length;v++)_+="\\x"+((y=h.charCodeAt(v))<16?"0":"")+y.toString(16).toUpperCase();return _},r.delay=function(h,y,v){setImmediate(function(){h.apply(v||null,y||[])})},r.inherits=function(h,y){function v(){}v.prototype=y.prototype,h.prototype=new v},r.extend=function(){var h,y,v={};for(h=0;h<arguments.length;h++)for(y in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],y)&&v[y]===void 0&&(v[y]=arguments[h][y]);return v},r.prepareContent=function(h,y,v,_,E){return f.Promise.resolve(y).then(function(A){return a.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader!="undefined"?new f.Promise(function(D,C){var N=new FileReader;N.onload=function(F){D(F.target.result)},N.onerror=function(F){C(F.target.error)},N.readAsArrayBuffer(A)}):A}).then(function(A){var D=r.getTypeOf(A);return D?(D==="arraybuffer"?A=r.transformTo("uint8array",A):D==="string"&&(E?A=u.decode(A):v&&_!==!0&&(A=function(C){return l(C,a.uint8array?new Uint8Array(C.length):new Array(C.length))}(A))),A):f.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,n,r){var a=i("./reader/readerFor"),u=i("./utils"),o=i("./signature"),f=i("./zipEntry"),m=i("./support");function l(c){this.files=[],this.loadOptions=c}l.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var s=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(s)+", expected "+u.pretty(c)+")")}},isSignature:function(c,s){var d=this.reader.index;this.reader.setIndex(c);var g=this.reader.readString(4)===s;return this.reader.setIndex(d),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),s=m.uint8array?"uint8array":"array",d=u.transformTo(s,c);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,s,d,g=this.zip64EndOfCentralSize-44;0<g;)c=this.reader.readInt(2),s=this.reader.readInt(4),d=this.reader.readData(s),this.zip64ExtensibleData[c]={id:c,length:s,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,s;for(c=0;c<this.files.length;c++)s=this.files[c],this.reader.setIndex(s.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),s.readLocalPart(this.reader),s.handleUTF8(),s.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(c=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var s=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var g=s-d;if(0<g)this.isSignature(s,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(c){this.reader=a(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,n,r){var a=i("./reader/readerFor"),u=i("./utils"),o=i("./compressedObject"),f=i("./crc32"),m=i("./utf8"),l=i("./compressions"),c=i("./support");function s(d,g){this.options=d,this.loadOptions=g}s.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var g,h;if(d.skip(22),this.fileNameLength=d.readInt(2),h=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(y){for(var v in l)if(Object.prototype.hasOwnProperty.call(l,v)&&l[v].magic===y)return l[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var g=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(g),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=a(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var g,h,y,v=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<v;)g=d.readInt(2),h=d.readInt(2),y=d.readData(h),this.extraFields[g]={id:g,length:h,value:y};d.setIndex(v)},handleUTF8:function(){var d=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var h=u.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var v=u.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var g=a(d.value);return g.readInt(1)!==1||f(this.fileName)!==g.readInt(4)?null:m.utf8decode(g.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var g=a(d.value);return g.readInt(1)!==1||f(this.fileComment)!==g.readInt(4)?null:m.utf8decode(g.readData(d.length-5))}return null}},n.exports=s},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,n,r){function a(g,h,y){this.name=g,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=h,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var u=i("./stream/StreamHelper"),o=i("./stream/DataWorker"),f=i("./utf8"),m=i("./compressedObject"),l=i("./stream/GenericWorker");a.prototype={internalStream:function(g){var h=null,y="string";try{if(!g)throw new Error("No output type specified.");var v=(y=g.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),h=this._decompressWorker();var _=!this._dataBinary;_&&!v&&(h=h.pipe(new f.Utf8EncodeWorker)),!_&&v&&(h=h.pipe(new f.Utf8DecodeWorker))}catch(E){(h=new l("error")).error(E)}return new u(h,y,"")},async:function(g,h){return this.internalStream(g).accumulate(h)},nodeStream:function(g,h){return this.internalStream(g||"nodebuffer").toNodejsStream(h)},_compressWorker:function(g,h){if(this._data instanceof m&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new f.Utf8EncodeWorker)),m.createWorkerFrom(y,g,h)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],s=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)a.prototype[c[d]]=s;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,n,r){(function(a){var u,o,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var m=0,l=new f(g),c=a.document.createTextNode("");l.observe(c,{characterData:!0}),u=function(){c.data=m=++m%2}}else if(a.setImmediate||a.MessageChannel===void 0)u="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var h=a.document.createElement("script");h.onreadystatechange=function(){g(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},a.document.documentElement.appendChild(h)}:function(){setTimeout(g,0)};else{var s=new a.MessageChannel;s.port1.onmessage=g,u=function(){s.port2.postMessage(0)}}var d=[];function g(){var h,y;o=!0;for(var v=d.length;v;){for(y=d,d=[],h=-1;++h<v;)y[h]();v=d.length}o=!1}n.exports=function(h){d.push(h)!==1||o||u()}}).call(this,typeof ct!="undefined"?ct:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(i,n,r){var a=i("immediate");function u(){}var o={},f=["REJECTED"],m=["FULFILLED"],l=["PENDING"];function c(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,v!==u&&h(this,v)}function s(v,_,E){this.promise=v,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function d(v,_,E){a(function(){var A;try{A=_(E)}catch(D){return o.reject(v,D)}A===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,A)})}function g(v){var _=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof _=="function")return function(){_.apply(v,arguments)}}function h(v,_){var E=!1;function A(N){E||(E=!0,o.reject(v,N))}function D(N){E||(E=!0,o.resolve(v,N))}var C=y(function(){_(D,A)});C.status==="error"&&A(C.value)}function y(v,_){var E={};try{E.value=v(_),E.status="success"}catch(A){E.status="error",E.value=A}return E}(n.exports=c).prototype.finally=function(v){if(typeof v!="function")return this;var _=this.constructor;return this.then(function(E){return _.resolve(v()).then(function(){return E})},function(E){return _.resolve(v()).then(function(){throw E})})},c.prototype.catch=function(v){return this.then(null,v)},c.prototype.then=function(v,_){if(typeof v!="function"&&this.state===m||typeof _!="function"&&this.state===f)return this;var E=new this.constructor(u);return this.state!==l?d(E,this.state===m?v:_,this.outcome):this.queue.push(new s(E,v,_)),E},s.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},s.prototype.otherCallFulfilled=function(v){d(this.promise,this.onFulfilled,v)},s.prototype.callRejected=function(v){o.reject(this.promise,v)},s.prototype.otherCallRejected=function(v){d(this.promise,this.onRejected,v)},o.resolve=function(v,_){var E=y(g,_);if(E.status==="error")return o.reject(v,E.value);var A=E.value;if(A)h(v,A);else{v.state=m,v.outcome=_;for(var D=-1,C=v.queue.length;++D<C;)v.queue[D].callFulfilled(_)}return v},o.reject=function(v,_){v.state=f,v.outcome=_;for(var E=-1,A=v.queue.length;++E<A;)v.queue[E].callRejected(_);return v},c.resolve=function(v){return v instanceof this?v:o.resolve(new this(u),v)},c.reject=function(v){var _=new this(u);return o.reject(_,v)},c.all=function(v){var _=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=v.length,A=!1;if(!E)return this.resolve([]);for(var D=new Array(E),C=0,N=-1,F=new this(u);++N<E;)x(v[N],N);return F;function x(T,L){_.resolve(T).then(function(O){D[L]=O,++C!==E||A||(A=!0,o.resolve(F,D))},function(O){A||(A=!0,o.reject(F,O))})}},c.race=function(v){var _=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=v.length,A=!1;if(!E)return this.resolve([]);for(var D=-1,C=new this(u);++D<E;)N=v[D],_.resolve(N).then(function(F){A||(A=!0,o.resolve(C,F))},function(F){A||(A=!0,o.reject(C,F))});var N;return C}},{immediate:36}],38:[function(i,n,r){var a={};(0,i("./lib/utils/common").assign)(a,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,n,r){var a=i("./zlib/deflate"),u=i("./utils/common"),o=i("./utils/strings"),f=i("./zlib/messages"),m=i("./zlib/zstream"),l=Object.prototype.toString,c=0,s=-1,d=0,g=8;function h(v){if(!(this instanceof h))return new h(v);this.options=u.assign({level:s,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},v||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var E=a.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(E!==c)throw new Error(f[E]);if(_.header&&a.deflateSetHeader(this.strm,_.header),_.dictionary){var A;if(A=typeof _.dictionary=="string"?o.string2buf(_.dictionary):l.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(E=a.deflateSetDictionary(this.strm,A))!==c)throw new Error(f[E]);this._dict_set=!0}}function y(v,_){var E=new h(_);if(E.push(v,!0),E.err)throw E.msg||f[E.err];return E.result}h.prototype.push=function(v,_){var E,A,D=this.strm,C=this.options.chunkSize;if(this.ended)return!1;A=_===~~_?_:_===!0?4:0,typeof v=="string"?D.input=o.string2buf(v):l.call(v)==="[object ArrayBuffer]"?D.input=new Uint8Array(v):D.input=v,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new u.Buf8(C),D.next_out=0,D.avail_out=C),(E=a.deflate(D,A))!==1&&E!==c)return this.onEnd(E),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(u.shrinkBuf(D.output,D.next_out))):this.onData(u.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&E!==1);return A===4?(E=a.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c):A!==2||(this.onEnd(c),!(D.avail_out=0))},h.prototype.onData=function(v){this.chunks.push(v)},h.prototype.onEnd=function(v){v===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},r.Deflate=h,r.deflate=y,r.deflateRaw=function(v,_){return(_=_||{}).raw=!0,y(v,_)},r.gzip=function(v,_){return(_=_||{}).gzip=!0,y(v,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,n,r){var a=i("./zlib/inflate"),u=i("./utils/common"),o=i("./utils/strings"),f=i("./zlib/constants"),m=i("./zlib/messages"),l=i("./zlib/zstream"),c=i("./zlib/gzheader"),s=Object.prototype.toString;function d(h){if(!(this instanceof d))return new d(h);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},h||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||h&&h.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,y.windowBits);if(v!==f.Z_OK)throw new Error(m[v]);this.header=new c,a.inflateGetHeader(this.strm,this.header)}function g(h,y){var v=new d(y);if(v.push(h,!0),v.err)throw v.msg||m[v.err];return v.result}d.prototype.push=function(h,y){var v,_,E,A,D,C,N=this.strm,F=this.options.chunkSize,x=this.options.dictionary,T=!1;if(this.ended)return!1;_=y===~~y?y:y===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof h=="string"?N.input=o.binstring2buf(h):s.call(h)==="[object ArrayBuffer]"?N.input=new Uint8Array(h):N.input=h,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new u.Buf8(F),N.next_out=0,N.avail_out=F),(v=a.inflate(N,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&x&&(C=typeof x=="string"?o.string2buf(x):s.call(x)==="[object ArrayBuffer]"?new Uint8Array(x):x,v=a.inflateSetDictionary(this.strm,C)),v===f.Z_BUF_ERROR&&T===!0&&(v=f.Z_OK,T=!1),v!==f.Z_STREAM_END&&v!==f.Z_OK)return this.onEnd(v),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&v!==f.Z_STREAM_END&&(N.avail_in!==0||_!==f.Z_FINISH&&_!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=o.utf8border(N.output,N.next_out),A=N.next_out-E,D=o.buf2string(N.output,E),N.next_out=A,N.avail_out=F-A,A&&u.arraySet(N.output,N.output,E,A,0),this.onData(D)):this.onData(u.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(T=!0)}while((0<N.avail_in||N.avail_out===0)&&v!==f.Z_STREAM_END);return v===f.Z_STREAM_END&&(_=f.Z_FINISH),_===f.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===f.Z_OK):_!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(N.avail_out=0))},d.prototype.onData=function(h){this.chunks.push(h)},d.prototype.onEnd=function(h){h===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},r.Inflate=d,r.inflate=g,r.inflateRaw=function(h,y){return(y=y||{}).raw=!0,g(h,y)},r.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,n,r){var a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";r.assign=function(f){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var l=m.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)l.hasOwnProperty(c)&&(f[c]=l[c])}}return f},r.shrinkBuf=function(f,m){return f.length===m?f:f.subarray?f.subarray(0,m):(f.length=m,f)};var u={arraySet:function(f,m,l,c,s){if(m.subarray&&f.subarray)f.set(m.subarray(l,l+c),s);else for(var d=0;d<c;d++)f[s+d]=m[l+d]},flattenChunks:function(f){var m,l,c,s,d,g;for(m=c=0,l=f.length;m<l;m++)c+=f[m].length;for(g=new Uint8Array(c),m=s=0,l=f.length;m<l;m++)d=f[m],g.set(d,s),s+=d.length;return g}},o={arraySet:function(f,m,l,c,s){for(var d=0;d<c;d++)f[s+d]=m[l+d]},flattenChunks:function(f){return[].concat.apply([],f)}};r.setTyped=function(f){f?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,u)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(a)},{}],42:[function(i,n,r){var a=i("./common"),u=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var f=new a.Buf8(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function l(c,s){if(s<65537&&(c.subarray&&o||!c.subarray&&u))return String.fromCharCode.apply(null,a.shrinkBuf(c,s));for(var d="",g=0;g<s;g++)d+=String.fromCharCode(c[g]);return d}f[254]=f[254]=1,r.string2buf=function(c){var s,d,g,h,y,v=c.length,_=0;for(h=0;h<v;h++)(64512&(d=c.charCodeAt(h)))==55296&&h+1<v&&(64512&(g=c.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),h++),_+=d<128?1:d<2048?2:d<65536?3:4;for(s=new a.Buf8(_),h=y=0;y<_;h++)(64512&(d=c.charCodeAt(h)))==55296&&h+1<v&&(64512&(g=c.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),h++),d<128?s[y++]=d:(d<2048?s[y++]=192|d>>>6:(d<65536?s[y++]=224|d>>>12:(s[y++]=240|d>>>18,s[y++]=128|d>>>12&63),s[y++]=128|d>>>6&63),s[y++]=128|63&d);return s},r.buf2binstring=function(c){return l(c,c.length)},r.binstring2buf=function(c){for(var s=new a.Buf8(c.length),d=0,g=s.length;d<g;d++)s[d]=c.charCodeAt(d);return s},r.buf2string=function(c,s){var d,g,h,y,v=s||c.length,_=new Array(2*v);for(d=g=0;d<v;)if((h=c[d++])<128)_[g++]=h;else if(4<(y=f[h]))_[g++]=65533,d+=y-1;else{for(h&=y===2?31:y===3?15:7;1<y&&d<v;)h=h<<6|63&c[d++],y--;1<y?_[g++]=65533:h<65536?_[g++]=h:(h-=65536,_[g++]=55296|h>>10&1023,_[g++]=56320|1023&h)}return l(_,g)},r.utf8border=function(c,s){var d;for((s=s||c.length)>c.length&&(s=c.length),d=s-1;0<=d&&(192&c[d])==128;)d--;return d<0||d===0?s:d+f[c[d]]>s?d:s}},{"./common":41}],43:[function(i,n,r){n.exports=function(a,u,o,f){for(var m=65535&a|0,l=a>>>16&65535|0,c=0;o!==0;){for(o-=c=2e3<o?2e3:o;l=l+(m=m+u[f++]|0)|0,--c;);m%=65521,l%=65521}return m|l<<16|0}},{}],44:[function(i,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,n,r){var a=function(){for(var u,o=[],f=0;f<256;f++){u=f;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;o[f]=u}return o}();n.exports=function(u,o,f,m){var l=a,c=m+f;u^=-1;for(var s=m;s<c;s++)u=u>>>8^l[255&(u^o[s])];return-1^u}},{}],46:[function(i,n,r){var a,u=i("../utils/common"),o=i("./trees"),f=i("./adler32"),m=i("./crc32"),l=i("./messages"),c=0,s=4,d=0,g=-2,h=-1,y=4,v=2,_=8,E=9,A=286,D=30,C=19,N=2*A+1,F=15,x=3,T=258,L=T+x+1,O=42,k=113,p=1,R=2,B=3,S=4;function G(b,Z){return b.msg=l[Z],Z}function M(b){return(b<<1)-(4<b?9:0)}function K(b){for(var Z=b.length;0<=--Z;)b[Z]=0}function z(b){var Z=b.state,V=Z.pending;V>b.avail_out&&(V=b.avail_out),V!==0&&(u.arraySet(b.output,Z.pending_buf,Z.pending_out,V,b.next_out),b.next_out+=V,Z.pending_out+=V,b.total_out+=V,b.avail_out-=V,Z.pending-=V,Z.pending===0&&(Z.pending_out=0))}function $(b,Z){o._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,Z),b.block_start=b.strstart,z(b.strm)}function X(b,Z){b.pending_buf[b.pending++]=Z}function W(b,Z){b.pending_buf[b.pending++]=Z>>>8&255,b.pending_buf[b.pending++]=255&Z}function U(b,Z){var V,I,P=b.max_chain_length,j=b.strstart,Q=b.prev_length,Y=b.nice_match,H=b.strstart>b.w_size-L?b.strstart-(b.w_size-L):0,J=b.window,re=b.w_mask,ee=b.prev,ce=b.strstart+T,be=J[j+Q-1],de=J[j+Q];b.prev_length>=b.good_match&&(P>>=2),Y>b.lookahead&&(Y=b.lookahead);do if(J[(V=Z)+Q]===de&&J[V+Q-1]===be&&J[V]===J[j]&&J[++V]===J[j+1]){j+=2,V++;do;while(J[++j]===J[++V]&&J[++j]===J[++V]&&J[++j]===J[++V]&&J[++j]===J[++V]&&J[++j]===J[++V]&&J[++j]===J[++V]&&J[++j]===J[++V]&&J[++j]===J[++V]&&j<ce);if(I=T-(ce-j),j=ce-T,Q<I){if(b.match_start=Z,Y<=(Q=I))break;be=J[j+Q-1],de=J[j+Q]}}while((Z=ee[Z&re])>H&&--P!=0);return Q<=b.lookahead?Q:b.lookahead}function ne(b){var Z,V,I,P,j,Q,Y,H,J,re,ee=b.w_size;do{if(P=b.window_size-b.lookahead-b.strstart,b.strstart>=ee+(ee-L)){for(u.arraySet(b.window,b.window,ee,ee,0),b.match_start-=ee,b.strstart-=ee,b.block_start-=ee,Z=V=b.hash_size;I=b.head[--Z],b.head[Z]=ee<=I?I-ee:0,--V;);for(Z=V=ee;I=b.prev[--Z],b.prev[Z]=ee<=I?I-ee:0,--V;);P+=ee}if(b.strm.avail_in===0)break;if(Q=b.strm,Y=b.window,H=b.strstart+b.lookahead,J=P,re=void 0,re=Q.avail_in,J<re&&(re=J),V=re===0?0:(Q.avail_in-=re,u.arraySet(Y,Q.input,Q.next_in,re,H),Q.state.wrap===1?Q.adler=f(Q.adler,Y,re,H):Q.state.wrap===2&&(Q.adler=m(Q.adler,Y,re,H)),Q.next_in+=re,Q.total_in+=re,re),b.lookahead+=V,b.lookahead+b.insert>=x)for(j=b.strstart-b.insert,b.ins_h=b.window[j],b.ins_h=(b.ins_h<<b.hash_shift^b.window[j+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[j+x-1])&b.hash_mask,b.prev[j&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=j,j++,b.insert--,!(b.lookahead+b.insert<x)););}while(b.lookahead<L&&b.strm.avail_in!==0)}function me(b,Z){for(var V,I;;){if(b.lookahead<L){if(ne(b),b.lookahead<L&&Z===c)return p;if(b.lookahead===0)break}if(V=0,b.lookahead>=x&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+x-1])&b.hash_mask,V=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),V!==0&&b.strstart-V<=b.w_size-L&&(b.match_length=U(b,V)),b.match_length>=x)if(I=o._tr_tally(b,b.strstart-b.match_start,b.match_length-x),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=x){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+x-1])&b.hash_mask,V=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else I=o._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(I&&($(b,!1),b.strm.avail_out===0))return p}return b.insert=b.strstart<x-1?b.strstart:x-1,Z===s?($(b,!0),b.strm.avail_out===0?B:S):b.last_lit&&($(b,!1),b.strm.avail_out===0)?p:R}function ae(b,Z){for(var V,I,P;;){if(b.lookahead<L){if(ne(b),b.lookahead<L&&Z===c)return p;if(b.lookahead===0)break}if(V=0,b.lookahead>=x&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+x-1])&b.hash_mask,V=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=x-1,V!==0&&b.prev_length<b.max_lazy_match&&b.strstart-V<=b.w_size-L&&(b.match_length=U(b,V),b.match_length<=5&&(b.strategy===1||b.match_length===x&&4096<b.strstart-b.match_start)&&(b.match_length=x-1)),b.prev_length>=x&&b.match_length<=b.prev_length){for(P=b.strstart+b.lookahead-x,I=o._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-x),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=P&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+x-1])&b.hash_mask,V=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=x-1,b.strstart++,I&&($(b,!1),b.strm.avail_out===0))return p}else if(b.match_available){if((I=o._tr_tally(b,0,b.window[b.strstart-1]))&&$(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return p}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(I=o._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<x-1?b.strstart:x-1,Z===s?($(b,!0),b.strm.avail_out===0?B:S):b.last_lit&&($(b,!1),b.strm.avail_out===0)?p:R}function oe(b,Z,V,I,P){this.good_length=b,this.max_lazy=Z,this.nice_length=V,this.max_chain=I,this.func=P}function pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*N),this.dyn_dtree=new u.Buf16(2*(2*D+1)),this.bl_tree=new u.Buf16(2*(2*C+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(F+1),this.heap=new u.Buf16(2*A+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*A+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(b){var Z;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=v,(Z=b.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?O:k,b.adler=Z.wrap===2?0:1,Z.last_flush=c,o._tr_init(Z),d):G(b,g)}function ge(b){var Z=le(b);return Z===d&&function(V){V.window_size=2*V.w_size,K(V.head),V.max_lazy_match=a[V.level].max_lazy,V.good_match=a[V.level].good_length,V.nice_match=a[V.level].nice_length,V.max_chain_length=a[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=x-1,V.match_available=0,V.ins_h=0}(b.state),Z}function Se(b,Z,V,I,P,j){if(!b)return g;var Q=1;if(Z===h&&(Z=6),I<0?(Q=0,I=-I):15<I&&(Q=2,I-=16),P<1||E<P||V!==_||I<8||15<I||Z<0||9<Z||j<0||y<j)return G(b,g);I===8&&(I=9);var Y=new pe;return(b.state=Y).strm=b,Y.wrap=Q,Y.gzhead=null,Y.w_bits=I,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=P+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+x-1)/x),Y.window=new u.Buf8(2*Y.w_size),Y.head=new u.Buf16(Y.hash_size),Y.prev=new u.Buf16(Y.w_size),Y.lit_bufsize=1<<P+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new u.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=Z,Y.strategy=j,Y.method=V,ge(b)}a=[new oe(0,0,0,0,function(b,Z){var V=65535;for(V>b.pending_buf_size-5&&(V=b.pending_buf_size-5);;){if(b.lookahead<=1){if(ne(b),b.lookahead===0&&Z===c)return p;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var I=b.block_start+V;if((b.strstart===0||b.strstart>=I)&&(b.lookahead=b.strstart-I,b.strstart=I,$(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-L&&($(b,!1),b.strm.avail_out===0))return p}return b.insert=0,Z===s?($(b,!0),b.strm.avail_out===0?B:S):(b.strstart>b.block_start&&($(b,!1),b.strm.avail_out),p)}),new oe(4,4,8,4,me),new oe(4,5,16,8,me),new oe(4,6,32,32,me),new oe(4,4,16,16,ae),new oe(8,16,32,32,ae),new oe(8,16,128,128,ae),new oe(8,32,128,256,ae),new oe(32,128,258,1024,ae),new oe(32,258,258,4096,ae)],r.deflateInit=function(b,Z){return Se(b,Z,_,15,8,0)},r.deflateInit2=Se,r.deflateReset=ge,r.deflateResetKeep=le,r.deflateSetHeader=function(b,Z){return b&&b.state?b.state.wrap!==2?g:(b.state.gzhead=Z,d):g},r.deflate=function(b,Z){var V,I,P,j;if(!b||!b.state||5<Z||Z<0)return b?G(b,g):g;if(I=b.state,!b.output||!b.input&&b.avail_in!==0||I.status===666&&Z!==s)return G(b,b.avail_out===0?-5:g);if(I.strm=b,V=I.last_flush,I.last_flush=Z,I.status===O)if(I.wrap===2)b.adler=0,X(I,31),X(I,139),X(I,8),I.gzhead?(X(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),X(I,255&I.gzhead.time),X(I,I.gzhead.time>>8&255),X(I,I.gzhead.time>>16&255),X(I,I.gzhead.time>>24&255),X(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),X(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(X(I,255&I.gzhead.extra.length),X(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(b.adler=m(b.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(X(I,0),X(I,0),X(I,0),X(I,0),X(I,0),X(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),X(I,3),I.status=k);else{var Q=_+(I.w_bits-8<<4)<<8;Q|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(Q|=32),Q+=31-Q%31,I.status=k,W(I,Q),I.strstart!==0&&(W(I,b.adler>>>16),W(I,65535&b.adler)),b.adler=1}if(I.status===69)if(I.gzhead.extra){for(P=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>P&&(b.adler=m(b.adler,I.pending_buf,I.pending-P,P)),z(b),P=I.pending,I.pending!==I.pending_buf_size));)X(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>P&&(b.adler=m(b.adler,I.pending_buf,I.pending-P,P)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){P=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>P&&(b.adler=m(b.adler,I.pending_buf,I.pending-P,P)),z(b),P=I.pending,I.pending===I.pending_buf_size)){j=1;break}j=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,X(I,j)}while(j!==0);I.gzhead.hcrc&&I.pending>P&&(b.adler=m(b.adler,I.pending_buf,I.pending-P,P)),j===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){P=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>P&&(b.adler=m(b.adler,I.pending_buf,I.pending-P,P)),z(b),P=I.pending,I.pending===I.pending_buf_size)){j=1;break}j=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,X(I,j)}while(j!==0);I.gzhead.hcrc&&I.pending>P&&(b.adler=m(b.adler,I.pending_buf,I.pending-P,P)),j===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&z(b),I.pending+2<=I.pending_buf_size&&(X(I,255&b.adler),X(I,b.adler>>8&255),b.adler=0,I.status=k)):I.status=k),I.pending!==0){if(z(b),b.avail_out===0)return I.last_flush=-1,d}else if(b.avail_in===0&&M(Z)<=M(V)&&Z!==s)return G(b,-5);if(I.status===666&&b.avail_in!==0)return G(b,-5);if(b.avail_in!==0||I.lookahead!==0||Z!==c&&I.status!==666){var Y=I.strategy===2?function(H,J){for(var re;;){if(H.lookahead===0&&(ne(H),H.lookahead===0)){if(J===c)return p;break}if(H.match_length=0,re=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,re&&($(H,!1),H.strm.avail_out===0))return p}return H.insert=0,J===s?($(H,!0),H.strm.avail_out===0?B:S):H.last_lit&&($(H,!1),H.strm.avail_out===0)?p:R}(I,Z):I.strategy===3?function(H,J){for(var re,ee,ce,be,de=H.window;;){if(H.lookahead<=T){if(ne(H),H.lookahead<=T&&J===c)return p;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=x&&0<H.strstart&&(ee=de[ce=H.strstart-1])===de[++ce]&&ee===de[++ce]&&ee===de[++ce]){be=H.strstart+T;do;while(ee===de[++ce]&&ee===de[++ce]&&ee===de[++ce]&&ee===de[++ce]&&ee===de[++ce]&&ee===de[++ce]&&ee===de[++ce]&&ee===de[++ce]&&ce<be);H.match_length=T-(be-ce),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=x?(re=o._tr_tally(H,1,H.match_length-x),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(re=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),re&&($(H,!1),H.strm.avail_out===0))return p}return H.insert=0,J===s?($(H,!0),H.strm.avail_out===0?B:S):H.last_lit&&($(H,!1),H.strm.avail_out===0)?p:R}(I,Z):a[I.level].func(I,Z);if(Y!==B&&Y!==S||(I.status=666),Y===p||Y===B)return b.avail_out===0&&(I.last_flush=-1),d;if(Y===R&&(Z===1?o._tr_align(I):Z!==5&&(o._tr_stored_block(I,0,0,!1),Z===3&&(K(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),z(b),b.avail_out===0))return I.last_flush=-1,d}return Z!==s?d:I.wrap<=0?1:(I.wrap===2?(X(I,255&b.adler),X(I,b.adler>>8&255),X(I,b.adler>>16&255),X(I,b.adler>>24&255),X(I,255&b.total_in),X(I,b.total_in>>8&255),X(I,b.total_in>>16&255),X(I,b.total_in>>24&255)):(W(I,b.adler>>>16),W(I,65535&b.adler)),z(b),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?d:1)},r.deflateEnd=function(b){var Z;return b&&b.state?(Z=b.state.status)!==O&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==k&&Z!==666?G(b,g):(b.state=null,Z===k?G(b,-3):d):g},r.deflateSetDictionary=function(b,Z){var V,I,P,j,Q,Y,H,J,re=Z.length;if(!b||!b.state||(j=(V=b.state).wrap)===2||j===1&&V.status!==O||V.lookahead)return g;for(j===1&&(b.adler=f(b.adler,Z,re,0)),V.wrap=0,re>=V.w_size&&(j===0&&(K(V.head),V.strstart=0,V.block_start=0,V.insert=0),J=new u.Buf8(V.w_size),u.arraySet(J,Z,re-V.w_size,V.w_size,0),Z=J,re=V.w_size),Q=b.avail_in,Y=b.next_in,H=b.input,b.avail_in=re,b.next_in=0,b.input=Z,ne(V);V.lookahead>=x;){for(I=V.strstart,P=V.lookahead-(x-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[I+x-1])&V.hash_mask,V.prev[I&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=I,I++,--P;);V.strstart=I,V.lookahead=x-1,ne(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=x-1,V.match_available=0,b.next_in=Y,b.input=H,b.avail_in=Q,V.wrap=j,d},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,n,r){n.exports=function(a,u){var o,f,m,l,c,s,d,g,h,y,v,_,E,A,D,C,N,F,x,T,L,O,k,p,R;o=a.state,f=a.next_in,p=a.input,m=f+(a.avail_in-5),l=a.next_out,R=a.output,c=l-(u-a.avail_out),s=l+(a.avail_out-257),d=o.dmax,g=o.wsize,h=o.whave,y=o.wnext,v=o.window,_=o.hold,E=o.bits,A=o.lencode,D=o.distcode,C=(1<<o.lenbits)-1,N=(1<<o.distbits)-1;e:do{E<15&&(_+=p[f++]<<E,E+=8,_+=p[f++]<<E,E+=8),F=A[_&C];t:for(;;){if(_>>>=x=F>>>24,E-=x,(x=F>>>16&255)==0)R[l++]=65535&F;else{if(!(16&x)){if((64&x)==0){F=A[(65535&F)+(_&(1<<x)-1)];continue t}if(32&x){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}T=65535&F,(x&=15)&&(E<x&&(_+=p[f++]<<E,E+=8),T+=_&(1<<x)-1,_>>>=x,E-=x),E<15&&(_+=p[f++]<<E,E+=8,_+=p[f++]<<E,E+=8),F=D[_&N];r:for(;;){if(_>>>=x=F>>>24,E-=x,!(16&(x=F>>>16&255))){if((64&x)==0){F=D[(65535&F)+(_&(1<<x)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(L=65535&F,E<(x&=15)&&(_+=p[f++]<<E,(E+=8)<x&&(_+=p[f++]<<E,E+=8)),d<(L+=_&(1<<x)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=x,E-=x,(x=l-c)<L){if(h<(x=L-x)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(k=v,(O=0)===y){if(O+=g-x,x<T){for(T-=x;R[l++]=v[O++],--x;);O=l-L,k=R}}else if(y<x){if(O+=g+y-x,(x-=y)<T){for(T-=x;R[l++]=v[O++],--x;);if(O=0,y<T){for(T-=x=y;R[l++]=v[O++],--x;);O=l-L,k=R}}}else if(O+=y-x,x<T){for(T-=x;R[l++]=v[O++],--x;);O=l-L,k=R}for(;2<T;)R[l++]=k[O++],R[l++]=k[O++],R[l++]=k[O++],T-=3;T&&(R[l++]=k[O++],1<T&&(R[l++]=k[O++]))}else{for(O=l-L;R[l++]=R[O++],R[l++]=R[O++],R[l++]=R[O++],2<(T-=3););T&&(R[l++]=R[O++],1<T&&(R[l++]=R[O++]))}break}}break}}while(f<m&&l<s);f-=T=E>>3,_&=(1<<(E-=T<<3))-1,a.next_in=f,a.next_out=l,a.avail_in=f<m?m-f+5:5-(f-m),a.avail_out=l<s?s-l+257:257-(l-s),o.hold=_,o.bits=E}},{}],49:[function(i,n,r){var a=i("../utils/common"),u=i("./adler32"),o=i("./crc32"),f=i("./inffast"),m=i("./inftrees"),l=1,c=2,s=0,d=-2,g=1,h=852,y=592;function v(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(O){var k;return O&&O.state?(k=O.state,O.total_in=O.total_out=k.total=0,O.msg="",k.wrap&&(O.adler=1&k.wrap),k.mode=g,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new a.Buf32(h),k.distcode=k.distdyn=new a.Buf32(y),k.sane=1,k.back=-1,s):d}function A(O){var k;return O&&O.state?((k=O.state).wsize=0,k.whave=0,k.wnext=0,E(O)):d}function D(O,k){var p,R;return O&&O.state?(R=O.state,k<0?(p=0,k=-k):(p=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?d:(R.window!==null&&R.wbits!==k&&(R.window=null),R.wrap=p,R.wbits=k,A(O))):d}function C(O,k){var p,R;return O?(R=new _,(O.state=R).window=null,(p=D(O,k))!==s&&(O.state=null),p):d}var N,F,x=!0;function T(O){if(x){var k;for(N=new a.Buf32(512),F=new a.Buf32(32),k=0;k<144;)O.lens[k++]=8;for(;k<256;)O.lens[k++]=9;for(;k<280;)O.lens[k++]=7;for(;k<288;)O.lens[k++]=8;for(m(l,O.lens,0,288,N,0,O.work,{bits:9}),k=0;k<32;)O.lens[k++]=5;m(c,O.lens,0,32,F,0,O.work,{bits:5}),x=!1}O.lencode=N,O.lenbits=9,O.distcode=F,O.distbits=5}function L(O,k,p,R){var B,S=O.state;return S.window===null&&(S.wsize=1<<S.wbits,S.wnext=0,S.whave=0,S.window=new a.Buf8(S.wsize)),R>=S.wsize?(a.arraySet(S.window,k,p-S.wsize,S.wsize,0),S.wnext=0,S.whave=S.wsize):(R<(B=S.wsize-S.wnext)&&(B=R),a.arraySet(S.window,k,p-R,B,S.wnext),(R-=B)?(a.arraySet(S.window,k,p-R,R,0),S.wnext=R,S.whave=S.wsize):(S.wnext+=B,S.wnext===S.wsize&&(S.wnext=0),S.whave<S.wsize&&(S.whave+=B))),0}r.inflateReset=A,r.inflateReset2=D,r.inflateResetKeep=E,r.inflateInit=function(O){return C(O,15)},r.inflateInit2=C,r.inflate=function(O,k){var p,R,B,S,G,M,K,z,$,X,W,U,ne,me,ae,oe,pe,le,ge,Se,b,Z,V,I,P=0,j=new a.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return d;(p=O.state).mode===12&&(p.mode=13),G=O.next_out,B=O.output,K=O.avail_out,S=O.next_in,R=O.input,M=O.avail_in,z=p.hold,$=p.bits,X=M,W=K,Z=s;e:for(;;)switch(p.mode){case g:if(p.wrap===0){p.mode=13;break}for(;$<16;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if(2&p.wrap&&z===35615){j[p.check=0]=255&z,j[1]=z>>>8&255,p.check=o(p.check,j,2,0),$=z=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&z)<<8)+(z>>8))%31){O.msg="incorrect header check",p.mode=30;break}if((15&z)!=8){O.msg="unknown compression method",p.mode=30;break}if($-=4,b=8+(15&(z>>>=4)),p.wbits===0)p.wbits=b;else if(b>p.wbits){O.msg="invalid window size",p.mode=30;break}p.dmax=1<<b,O.adler=p.check=1,p.mode=512&z?10:12,$=z=0;break;case 2:for(;$<16;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if(p.flags=z,(255&p.flags)!=8){O.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){O.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=z>>8&1),512&p.flags&&(j[0]=255&z,j[1]=z>>>8&255,p.check=o(p.check,j,2,0)),$=z=0,p.mode=3;case 3:for(;$<32;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}p.head&&(p.head.time=z),512&p.flags&&(j[0]=255&z,j[1]=z>>>8&255,j[2]=z>>>16&255,j[3]=z>>>24&255,p.check=o(p.check,j,4,0)),$=z=0,p.mode=4;case 4:for(;$<16;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}p.head&&(p.head.xflags=255&z,p.head.os=z>>8),512&p.flags&&(j[0]=255&z,j[1]=z>>>8&255,p.check=o(p.check,j,2,0)),$=z=0,p.mode=5;case 5:if(1024&p.flags){for(;$<16;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}p.length=z,p.head&&(p.head.extra_len=z),512&p.flags&&(j[0]=255&z,j[1]=z>>>8&255,p.check=o(p.check,j,2,0)),$=z=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(M<(U=p.length)&&(U=M),U&&(p.head&&(b=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),a.arraySet(p.head.extra,R,S,U,b)),512&p.flags&&(p.check=o(p.check,R,U,S)),M-=U,S+=U,p.length-=U),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(M===0)break e;for(U=0;b=R[S+U++],p.head&&b&&p.length<65536&&(p.head.name+=String.fromCharCode(b)),b&&U<M;);if(512&p.flags&&(p.check=o(p.check,R,U,S)),M-=U,S+=U,b)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(M===0)break e;for(U=0;b=R[S+U++],p.head&&b&&p.length<65536&&(p.head.comment+=String.fromCharCode(b)),b&&U<M;);if(512&p.flags&&(p.check=o(p.check,R,U,S)),M-=U,S+=U,b)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;$<16;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if(z!==(65535&p.check)){O.msg="header crc mismatch",p.mode=30;break}$=z=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),O.adler=p.check=0,p.mode=12;break;case 10:for(;$<32;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}O.adler=p.check=v(z),$=z=0,p.mode=11;case 11:if(p.havedict===0)return O.next_out=G,O.avail_out=K,O.next_in=S,O.avail_in=M,p.hold=z,p.bits=$,2;O.adler=p.check=1,p.mode=12;case 12:if(k===5||k===6)break e;case 13:if(p.last){z>>>=7&$,$-=7&$,p.mode=27;break}for(;$<3;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}switch(p.last=1&z,$-=1,3&(z>>>=1)){case 0:p.mode=14;break;case 1:if(T(p),p.mode=20,k!==6)break;z>>>=2,$-=2;break e;case 2:p.mode=17;break;case 3:O.msg="invalid block type",p.mode=30}z>>>=2,$-=2;break;case 14:for(z>>>=7&$,$-=7&$;$<32;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if((65535&z)!=(z>>>16^65535)){O.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&z,$=z=0,p.mode=15,k===6)break e;case 15:p.mode=16;case 16:if(U=p.length){if(M<U&&(U=M),K<U&&(U=K),U===0)break e;a.arraySet(B,R,S,U,G),M-=U,S+=U,K-=U,G+=U,p.length-=U;break}p.mode=12;break;case 17:for(;$<14;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if(p.nlen=257+(31&z),z>>>=5,$-=5,p.ndist=1+(31&z),z>>>=5,$-=5,p.ncode=4+(15&z),z>>>=4,$-=4,286<p.nlen||30<p.ndist){O.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;$<3;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}p.lens[Q[p.have++]]=7&z,z>>>=3,$-=3}for(;p.have<19;)p.lens[Q[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,V={bits:p.lenbits},Z=m(0,p.lens,0,19,p.lencode,0,p.work,V),p.lenbits=V.bits,Z){O.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;oe=(P=p.lencode[z&(1<<p.lenbits)-1])>>>16&255,pe=65535&P,!((ae=P>>>24)<=$);){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if(pe<16)z>>>=ae,$-=ae,p.lens[p.have++]=pe;else{if(pe===16){for(I=ae+2;$<I;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if(z>>>=ae,$-=ae,p.have===0){O.msg="invalid bit length repeat",p.mode=30;break}b=p.lens[p.have-1],U=3+(3&z),z>>>=2,$-=2}else if(pe===17){for(I=ae+3;$<I;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}$-=ae,b=0,U=3+(7&(z>>>=ae)),z>>>=3,$-=3}else{for(I=ae+7;$<I;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}$-=ae,b=0,U=11+(127&(z>>>=ae)),z>>>=7,$-=7}if(p.have+U>p.nlen+p.ndist){O.msg="invalid bit length repeat",p.mode=30;break}for(;U--;)p.lens[p.have++]=b}}if(p.mode===30)break;if(p.lens[256]===0){O.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,V={bits:p.lenbits},Z=m(l,p.lens,0,p.nlen,p.lencode,0,p.work,V),p.lenbits=V.bits,Z){O.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,V={bits:p.distbits},Z=m(c,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,V),p.distbits=V.bits,Z){O.msg="invalid distances set",p.mode=30;break}if(p.mode=20,k===6)break e;case 20:p.mode=21;case 21:if(6<=M&&258<=K){O.next_out=G,O.avail_out=K,O.next_in=S,O.avail_in=M,p.hold=z,p.bits=$,f(O,W),G=O.next_out,B=O.output,K=O.avail_out,S=O.next_in,R=O.input,M=O.avail_in,z=p.hold,$=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;oe=(P=p.lencode[z&(1<<p.lenbits)-1])>>>16&255,pe=65535&P,!((ae=P>>>24)<=$);){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if(oe&&(240&oe)==0){for(le=ae,ge=oe,Se=pe;oe=(P=p.lencode[Se+((z&(1<<le+ge)-1)>>le)])>>>16&255,pe=65535&P,!(le+(ae=P>>>24)<=$);){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}z>>>=le,$-=le,p.back+=le}if(z>>>=ae,$-=ae,p.back+=ae,p.length=pe,oe===0){p.mode=26;break}if(32&oe){p.back=-1,p.mode=12;break}if(64&oe){O.msg="invalid literal/length code",p.mode=30;break}p.extra=15&oe,p.mode=22;case 22:if(p.extra){for(I=p.extra;$<I;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}p.length+=z&(1<<p.extra)-1,z>>>=p.extra,$-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;oe=(P=p.distcode[z&(1<<p.distbits)-1])>>>16&255,pe=65535&P,!((ae=P>>>24)<=$);){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if((240&oe)==0){for(le=ae,ge=oe,Se=pe;oe=(P=p.distcode[Se+((z&(1<<le+ge)-1)>>le)])>>>16&255,pe=65535&P,!(le+(ae=P>>>24)<=$);){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}z>>>=le,$-=le,p.back+=le}if(z>>>=ae,$-=ae,p.back+=ae,64&oe){O.msg="invalid distance code",p.mode=30;break}p.offset=pe,p.extra=15&oe,p.mode=24;case 24:if(p.extra){for(I=p.extra;$<I;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}p.offset+=z&(1<<p.extra)-1,z>>>=p.extra,$-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){O.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(K===0)break e;if(U=W-K,p.offset>U){if((U=p.offset-U)>p.whave&&p.sane){O.msg="invalid distance too far back",p.mode=30;break}ne=U>p.wnext?(U-=p.wnext,p.wsize-U):p.wnext-U,U>p.length&&(U=p.length),me=p.window}else me=B,ne=G-p.offset,U=p.length;for(K<U&&(U=K),K-=U,p.length-=U;B[G++]=me[ne++],--U;);p.length===0&&(p.mode=21);break;case 26:if(K===0)break e;B[G++]=p.length,K--,p.mode=21;break;case 27:if(p.wrap){for(;$<32;){if(M===0)break e;M--,z|=R[S++]<<$,$+=8}if(W-=K,O.total_out+=W,p.total+=W,W&&(O.adler=p.check=p.flags?o(p.check,B,W,G-W):u(p.check,B,W,G-W)),W=K,(p.flags?z:v(z))!==p.check){O.msg="incorrect data check",p.mode=30;break}$=z=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;$<32;){if(M===0)break e;M--,z+=R[S++]<<$,$+=8}if(z!==(4294967295&p.total)){O.msg="incorrect length check",p.mode=30;break}$=z=0}p.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return d}return O.next_out=G,O.avail_out=K,O.next_in=S,O.avail_in=M,p.hold=z,p.bits=$,(p.wsize||W!==O.avail_out&&p.mode<30&&(p.mode<27||k!==4))&&L(O,O.output,O.next_out,W-O.avail_out)?(p.mode=31,-4):(X-=O.avail_in,W-=O.avail_out,O.total_in+=X,O.total_out+=W,p.total+=W,p.wrap&&W&&(O.adler=p.check=p.flags?o(p.check,B,W,O.next_out-W):u(p.check,B,W,O.next_out-W)),O.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(X==0&&W===0||k===4)&&Z===s&&(Z=-5),Z)},r.inflateEnd=function(O){if(!O||!O.state)return d;var k=O.state;return k.window&&(k.window=null),O.state=null,s},r.inflateGetHeader=function(O,k){var p;return O&&O.state?(2&(p=O.state).wrap)==0?d:((p.head=k).done=!1,s):d},r.inflateSetDictionary=function(O,k){var p,R=k.length;return O&&O.state?(p=O.state).wrap!==0&&p.mode!==11?d:p.mode===11&&u(1,k,R,0)!==p.check?-3:L(O,k,R,R)?(p.mode=31,-4):(p.havedict=1,s):d},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,n,r){var a=i("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(l,c,s,d,g,h,y,v){var _,E,A,D,C,N,F,x,T,L=v.bits,O=0,k=0,p=0,R=0,B=0,S=0,G=0,M=0,K=0,z=0,$=null,X=0,W=new a.Buf16(16),U=new a.Buf16(16),ne=null,me=0;for(O=0;O<=15;O++)W[O]=0;for(k=0;k<d;k++)W[c[s+k]]++;for(B=L,R=15;1<=R&&W[R]===0;R--);if(R<B&&(B=R),R===0)return g[h++]=20971520,g[h++]=20971520,v.bits=1,0;for(p=1;p<R&&W[p]===0;p++);for(B<p&&(B=p),O=M=1;O<=15;O++)if(M<<=1,(M-=W[O])<0)return-1;if(0<M&&(l===0||R!==1))return-1;for(U[1]=0,O=1;O<15;O++)U[O+1]=U[O]+W[O];for(k=0;k<d;k++)c[s+k]!==0&&(y[U[c[s+k]]++]=k);if(N=l===0?($=ne=y,19):l===1?($=u,X-=257,ne=o,me-=257,256):($=f,ne=m,-1),O=p,C=h,G=k=z=0,A=-1,D=(K=1<<(S=B))-1,l===1&&852<K||l===2&&592<K)return 1;for(;;){for(F=O-G,T=y[k]<N?(x=0,y[k]):y[k]>N?(x=ne[me+y[k]],$[X+y[k]]):(x=96,0),_=1<<O-G,p=E=1<<S;g[C+(z>>G)+(E-=_)]=F<<24|x<<16|T|0,E!==0;);for(_=1<<O-1;z&_;)_>>=1;if(_!==0?(z&=_-1,z+=_):z=0,k++,--W[O]==0){if(O===R)break;O=c[s+y[k]]}if(B<O&&(z&D)!==A){for(G===0&&(G=B),C+=p,M=1<<(S=O-G);S+G<R&&!((M-=W[S+G])<=0);)S++,M<<=1;if(K+=1<<S,l===1&&852<K||l===2&&592<K)return 1;g[A=z&D]=B<<24|S<<16|C-h|0}}return z!==0&&(g[C+z]=O-G<<24|64<<16|0),v.bits=B,0}},{"../utils/common":41}],51:[function(i,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,n,r){var a=i("../utils/common"),u=0,o=1;function f(P){for(var j=P.length;0<=--j;)P[j]=0}var m=0,l=29,c=256,s=c+1+l,d=30,g=19,h=2*s+1,y=15,v=16,_=7,E=256,A=16,D=17,C=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(s+2));f(L);var O=new Array(2*d);f(O);var k=new Array(512);f(k);var p=new Array(256);f(p);var R=new Array(l);f(R);var B,S,G,M=new Array(d);function K(P,j,Q,Y,H){this.static_tree=P,this.extra_bits=j,this.extra_base=Q,this.elems=Y,this.max_length=H,this.has_stree=P&&P.length}function z(P,j){this.dyn_tree=P,this.max_code=0,this.stat_desc=j}function $(P){return P<256?k[P]:k[256+(P>>>7)]}function X(P,j){P.pending_buf[P.pending++]=255&j,P.pending_buf[P.pending++]=j>>>8&255}function W(P,j,Q){P.bi_valid>v-Q?(P.bi_buf|=j<<P.bi_valid&65535,X(P,P.bi_buf),P.bi_buf=j>>v-P.bi_valid,P.bi_valid+=Q-v):(P.bi_buf|=j<<P.bi_valid&65535,P.bi_valid+=Q)}function U(P,j,Q){W(P,Q[2*j],Q[2*j+1])}function ne(P,j){for(var Q=0;Q|=1&P,P>>>=1,Q<<=1,0<--j;);return Q>>>1}function me(P,j,Q){var Y,H,J=new Array(y+1),re=0;for(Y=1;Y<=y;Y++)J[Y]=re=re+Q[Y-1]<<1;for(H=0;H<=j;H++){var ee=P[2*H+1];ee!==0&&(P[2*H]=ne(J[ee]++,ee))}}function ae(P){var j;for(j=0;j<s;j++)P.dyn_ltree[2*j]=0;for(j=0;j<d;j++)P.dyn_dtree[2*j]=0;for(j=0;j<g;j++)P.bl_tree[2*j]=0;P.dyn_ltree[2*E]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function oe(P){8<P.bi_valid?X(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function pe(P,j,Q,Y){var H=2*j,J=2*Q;return P[H]<P[J]||P[H]===P[J]&&Y[j]<=Y[Q]}function le(P,j,Q){for(var Y=P.heap[Q],H=Q<<1;H<=P.heap_len&&(H<P.heap_len&&pe(j,P.heap[H+1],P.heap[H],P.depth)&&H++,!pe(j,Y,P.heap[H],P.depth));)P.heap[Q]=P.heap[H],Q=H,H<<=1;P.heap[Q]=Y}function ge(P,j,Q){var Y,H,J,re,ee=0;if(P.last_lit!==0)for(;Y=P.pending_buf[P.d_buf+2*ee]<<8|P.pending_buf[P.d_buf+2*ee+1],H=P.pending_buf[P.l_buf+ee],ee++,Y===0?U(P,H,j):(U(P,(J=p[H])+c+1,j),(re=N[J])!==0&&W(P,H-=R[J],re),U(P,J=$(--Y),Q),(re=F[J])!==0&&W(P,Y-=M[J],re)),ee<P.last_lit;);U(P,E,j)}function Se(P,j){var Q,Y,H,J=j.dyn_tree,re=j.stat_desc.static_tree,ee=j.stat_desc.has_stree,ce=j.stat_desc.elems,be=-1;for(P.heap_len=0,P.heap_max=h,Q=0;Q<ce;Q++)J[2*Q]!==0?(P.heap[++P.heap_len]=be=Q,P.depth[Q]=0):J[2*Q+1]=0;for(;P.heap_len<2;)J[2*(H=P.heap[++P.heap_len]=be<2?++be:0)]=1,P.depth[H]=0,P.opt_len--,ee&&(P.static_len-=re[2*H+1]);for(j.max_code=be,Q=P.heap_len>>1;1<=Q;Q--)le(P,J,Q);for(H=ce;Q=P.heap[1],P.heap[1]=P.heap[P.heap_len--],le(P,J,1),Y=P.heap[1],P.heap[--P.heap_max]=Q,P.heap[--P.heap_max]=Y,J[2*H]=J[2*Q]+J[2*Y],P.depth[H]=(P.depth[Q]>=P.depth[Y]?P.depth[Q]:P.depth[Y])+1,J[2*Q+1]=J[2*Y+1]=H,P.heap[1]=H++,le(P,J,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(de,Ie){var De,Ae,Re,_e,Ue,nt,Ke=Ie.dyn_tree,or=Ie.max_code,Gt=Ie.stat_desc.static_tree,ur=Ie.stat_desc.has_stree,bt=Ie.stat_desc.extra_bits,sr=Ie.stat_desc.extra_base,je=Ie.stat_desc.max_length,qe=0;for(_e=0;_e<=y;_e++)de.bl_count[_e]=0;for(Ke[2*de.heap[de.heap_max]+1]=0,De=de.heap_max+1;De<h;De++)je<(_e=Ke[2*Ke[2*(Ae=de.heap[De])+1]+1]+1)&&(_e=je,qe++),Ke[2*Ae+1]=_e,or<Ae||(de.bl_count[_e]++,Ue=0,sr<=Ae&&(Ue=bt[Ae-sr]),nt=Ke[2*Ae],de.opt_len+=nt*(_e+Ue),ur&&(de.static_len+=nt*(Gt[2*Ae+1]+Ue)));if(qe!==0){do{for(_e=je-1;de.bl_count[_e]===0;)_e--;de.bl_count[_e]--,de.bl_count[_e+1]+=2,de.bl_count[je]--,qe-=2}while(0<qe);for(_e=je;_e!==0;_e--)for(Ae=de.bl_count[_e];Ae!==0;)or<(Re=de.heap[--De])||(Ke[2*Re+1]!==_e&&(de.opt_len+=(_e-Ke[2*Re+1])*Ke[2*Re],Ke[2*Re+1]=_e),Ae--)}}(P,j),me(J,be,P.bl_count)}function b(P,j,Q){var Y,H,J=-1,re=j[1],ee=0,ce=7,be=4;for(re===0&&(ce=138,be=3),j[2*(Q+1)+1]=65535,Y=0;Y<=Q;Y++)H=re,re=j[2*(Y+1)+1],++ee<ce&&H===re||(ee<be?P.bl_tree[2*H]+=ee:H!==0?(H!==J&&P.bl_tree[2*H]++,P.bl_tree[2*A]++):ee<=10?P.bl_tree[2*D]++:P.bl_tree[2*C]++,J=H,be=(ee=0)===re?(ce=138,3):H===re?(ce=6,3):(ce=7,4))}function Z(P,j,Q){var Y,H,J=-1,re=j[1],ee=0,ce=7,be=4;for(re===0&&(ce=138,be=3),Y=0;Y<=Q;Y++)if(H=re,re=j[2*(Y+1)+1],!(++ee<ce&&H===re)){if(ee<be)for(;U(P,H,P.bl_tree),--ee!=0;);else H!==0?(H!==J&&(U(P,H,P.bl_tree),ee--),U(P,A,P.bl_tree),W(P,ee-3,2)):ee<=10?(U(P,D,P.bl_tree),W(P,ee-3,3)):(U(P,C,P.bl_tree),W(P,ee-11,7));J=H,be=(ee=0)===re?(ce=138,3):H===re?(ce=6,3):(ce=7,4)}}f(M);var V=!1;function I(P,j,Q,Y){W(P,(m<<1)+(Y?1:0),3),function(H,J,re,ee){oe(H),ee&&(X(H,re),X(H,~re)),a.arraySet(H.pending_buf,H.window,J,re,H.pending),H.pending+=re}(P,j,Q,!0)}r._tr_init=function(P){V||(function(){var j,Q,Y,H,J,re=new Array(y+1);for(H=Y=0;H<l-1;H++)for(R[H]=Y,j=0;j<1<<N[H];j++)p[Y++]=H;for(p[Y-1]=H,H=J=0;H<16;H++)for(M[H]=J,j=0;j<1<<F[H];j++)k[J++]=H;for(J>>=7;H<d;H++)for(M[H]=J<<7,j=0;j<1<<F[H]-7;j++)k[256+J++]=H;for(Q=0;Q<=y;Q++)re[Q]=0;for(j=0;j<=143;)L[2*j+1]=8,j++,re[8]++;for(;j<=255;)L[2*j+1]=9,j++,re[9]++;for(;j<=279;)L[2*j+1]=7,j++,re[7]++;for(;j<=287;)L[2*j+1]=8,j++,re[8]++;for(me(L,s+1,re),j=0;j<d;j++)O[2*j+1]=5,O[2*j]=ne(j,5);B=new K(L,N,c+1,s,y),S=new K(O,F,0,d,y),G=new K(new Array(0),x,0,g,_)}(),V=!0),P.l_desc=new z(P.dyn_ltree,B),P.d_desc=new z(P.dyn_dtree,S),P.bl_desc=new z(P.bl_tree,G),P.bi_buf=0,P.bi_valid=0,ae(P)},r._tr_stored_block=I,r._tr_flush_block=function(P,j,Q,Y){var H,J,re=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(ee){var ce,be=4093624447;for(ce=0;ce<=31;ce++,be>>>=1)if(1&be&&ee.dyn_ltree[2*ce]!==0)return u;if(ee.dyn_ltree[18]!==0||ee.dyn_ltree[20]!==0||ee.dyn_ltree[26]!==0)return o;for(ce=32;ce<c;ce++)if(ee.dyn_ltree[2*ce]!==0)return o;return u}(P)),Se(P,P.l_desc),Se(P,P.d_desc),re=function(ee){var ce;for(b(ee,ee.dyn_ltree,ee.l_desc.max_code),b(ee,ee.dyn_dtree,ee.d_desc.max_code),Se(ee,ee.bl_desc),ce=g-1;3<=ce&&ee.bl_tree[2*T[ce]+1]===0;ce--);return ee.opt_len+=3*(ce+1)+5+5+4,ce}(P),H=P.opt_len+3+7>>>3,(J=P.static_len+3+7>>>3)<=H&&(H=J)):H=J=Q+5,Q+4<=H&&j!==-1?I(P,j,Q,Y):P.strategy===4||J===H?(W(P,2+(Y?1:0),3),ge(P,L,O)):(W(P,4+(Y?1:0),3),function(ee,ce,be,de){var Ie;for(W(ee,ce-257,5),W(ee,be-1,5),W(ee,de-4,4),Ie=0;Ie<de;Ie++)W(ee,ee.bl_tree[2*T[Ie]+1],3);Z(ee,ee.dyn_ltree,ce-1),Z(ee,ee.dyn_dtree,be-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,re+1),ge(P,P.dyn_ltree,P.dyn_dtree)),ae(P),Y&&oe(P)},r._tr_tally=function(P,j,Q){return P.pending_buf[P.d_buf+2*P.last_lit]=j>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&j,P.pending_buf[P.l_buf+P.last_lit]=255&Q,P.last_lit++,j===0?P.dyn_ltree[2*Q]++:(P.matches++,j--,P.dyn_ltree[2*(p[Q]+c+1)]++,P.dyn_dtree[2*$(j)]++),P.last_lit===P.lit_bufsize-1},r._tr_align=function(P){W(P,2,3),U(P,E,L),function(j){j.bi_valid===16?(X(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(i,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,n,r){(function(a){(function(u,o){if(!u.setImmediate){var f,m,l,c,s=1,d={},g=!1,h=u.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(u);y=y&&y.setTimeout?y:u,f={}.toString.call(u.process)==="[object process]"?function(A){process.nextTick(function(){_(A)})}:function(){if(u.postMessage&&!u.importScripts){var A=!0,D=u.onmessage;return u.onmessage=function(){A=!1},u.postMessage("","*"),u.onmessage=D,A}}()?(c="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",E,!1):u.attachEvent("onmessage",E),function(A){u.postMessage(c+A,"*")}):u.MessageChannel?((l=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){l.port2.postMessage(A)}):h&&"onreadystatechange"in h.createElement("script")?(m=h.documentElement,function(A){var D=h.createElement("script");D.onreadystatechange=function(){_(A),D.onreadystatechange=null,m.removeChild(D),D=null},m.appendChild(D)}):function(A){setTimeout(_,0,A)},y.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var D=new Array(arguments.length-1),C=0;C<D.length;C++)D[C]=arguments[C+1];var N={callback:A,args:D};return d[s]=N,f(s),s++},y.clearImmediate=v}function v(A){delete d[A]}function _(A){if(g)setTimeout(_,0,A);else{var D=d[A];if(D){g=!0;try{(function(C){var N=C.callback,F=C.args;switch(F.length){case 0:N();break;case 1:N(F[0]);break;case 2:N(F[0],F[1]);break;case 3:N(F[0],F[1],F[2]);break;default:N.apply(o,F)}})(D)}finally{v(A),g=!1}}}}function E(A){A.source===u&&typeof A.data=="string"&&A.data.indexOf(c)===0&&_(+A.data.slice(c.length))}})(typeof self=="undefined"?a===void 0?this:a:self)}).call(this,typeof ct!="undefined"?ct:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(ki);var Di=ki.exports;async function Jo(t,e,i={}){const{zipName:n=`\u9762\u5355\u6570\u636E${Ne().format("YYYY-MM-DD")}.zip`,concurrency:r=5,timeout:a=3e4,retries:u=2}=i;if(typeof Di=="undefined")throw new Error("JSZip\u5E93\u672A\u52A0\u8F7D\uFF0C\u8BF7\u5F15\u5165JSZip CDN\u6216\u5B89\u88C5\u4F9D\u8D56");const o=new Di,f=t.length;let m=0,l=0,c=0;const s=(y,v="",_="")=>{const E=f>0?Math.round(m/f*100):0;e({current:m,total:f,percentage:E,status:y,fileName:v,failed:l,downloading:c,errorMsg:_})},g=(y=>{let v=0;const _=[],E=async D=>new Promise((C,N)=>{_.push({fn:D,resolve:C,reject:N}),A()}),A=()=>{if(v>=y||_.length===0)return;v++;const{fn:D,resolve:C,reject:N}=_.shift();D().then(C).catch(N).finally(()=>{v--,A()})};return E})(r),h=async(y,v)=>g(async()=>{let _;for(let E=0;E<=u;E++)try{c++,s("downloading",`\u6587\u4EF6 ${v+1}/${f}`,E>0?`\u91CD\u8BD5 ${E}/${u}`:"");const A=new AbortController,D=setTimeout(()=>A.abort(),a),C=await fetch(y,{signal:A.signal,method:"GET",headers:{Accept:"application/pdf,*/*"},mode:"cors"});if(clearTimeout(D),!C.ok)throw new Error(`HTTP ${C.status}: ${C.statusText}`);const N=C.headers.get("content-type");N&&!N.includes("pdf")&&!N.includes("application/octet-stream")&&console.warn(`\u6587\u4EF6 ${v+1} \u53EF\u80FD\u4E0D\u662FPDF\u683C\u5F0F: ${N}`);const F=await C.arrayBuffer();let x=`document_${String(v+1).padStart(4,"0")}.pdf`;try{const p=new URL(y).pathname.split("/").pop();p&&(p.toLowerCase().includes(".pdf")||p.length>0)&&(x=p.endsWith(".pdf")?p:`${p}.pdf`)}catch{}let T=x,L=1;for(;o.files[T];)T=`${x.replace(/\.pdf$/i,"")}_${L}.pdf`,L++;return o.file(T,F),m++,c--,s("completed",T),{success:!0,fileName:T,size:F.byteLength}}catch(A){if(_=A,c--,E===u)return l++,m++,s("failed",`\u6587\u4EF6 ${v+1}`,A.message),console.error(`\u4E0B\u8F7D\u5931\u8D25 [${v+1}/${f}]:`,y,A.message),{success:!1,error:A.message,url:y,index:v+1};await new Promise(D=>setTimeout(D,1e3*(E+1)))}return{success:!1,error:(_==null?void 0:_.message)||"\u672A\u77E5\u9519\u8BEF",url:y,index:v+1}});try{if(s("starting","\u5F00\u59CB\u4E0B\u8F7D..."),f===0)throw new Error("PDF\u94FE\u63A5\u6570\u7EC4\u4E3A\u7A7A");const y=t.map((N,F)=>h(N,F)),v=await Promise.all(y),_=v.filter(N=>N.success),E=v.filter(N=>!N.success);if(_.length===0)throw new Error("\u6240\u6709\u6587\u4EF6\u4E0B\u8F7D\u5931\u8D25");s("zipping","\u6B63\u5728\u538B\u7F29\u6587\u4EF6...");const A=await o.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}},N=>{const F=Math.round(N.percent);s("zipping",`\u538B\u7F29\u4E2D... ${F}%`)}),D=_.reduce((N,F)=>N+(F.size||0),0);s("finished",`\u5B8C\u6210\uFF01\u6210\u529F: ${_.length}, \u5931\u8D25: ${E.length}, \u603B\u5927\u5C0F: ${eu(D)}`);const C={zipBlob:A,results:{total:f,successful:_.length,failed:E.length,totalSize:D,zipSize:A.size,failedItems:E,successfulItems:_}};return tu(C.zipBlob,n),C}catch(y){throw s("error","\u5904\u7406\u5931\u8D25",y.message),y}}function eu(t,e=2){if(t===0)return"0 Bytes";const i=1024,n=e<0?0:e,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,a)).toFixed(n))+" "+r[a]}function tu(t,e="pdfs.zip"){const i=URL.createObjectURL(t),n=document.createElement("a");n.href=i,n.download=e,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)}async function ru(t){try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/pdf"}});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const i=await e.blob(),n=new Blob([i],{type:"application/pdf"});return URL.createObjectURL(n)}catch(e){throw console.error("\u521B\u5EFAPDF Blob URL\u5931\u8D25:",e),e}}var Bi=({orderItem:t,buttonProps:e})=>{const[i,n]=se.exports.useState(""),{run:r,loading:a}=ve(async()=>{var o;let u=(o=t==null?void 0:t.orderPackageList)==null?void 0:o.reduce((f,m)=>f||m.documentUrl,"");if(!u)if(mt())await we(()=>at.getSheet(t.id),"\u67E5\u770B\u9762\u5355");else{const f=await we(()=>ke.createShellOrder(t.id),"\u67E5\u770B\u9762\u5355").then(m=>{var l;return(l=m.data.data)==null?void 0:l.list});u=(f==null?void 0:f[0])||_i.baseUrl+`/api/logistics/order/get/tracking/number/${t.id}`}if(u=await ru(u),!u){Ee.error("\u6682\u672A\u83B7\u53D6\u5230\u9762\u5355\uFF0C\u8BF7\u5237\u65B0\u540E\u91CD\u8BD5\uFF01");return}n(u)},{manual:!0});return te(ye,{children:[e?w(fe,ue(q({loading:a,icon:w(zr,{}),onClick:()=>{r()}},e),{children:"\u67E5\u770B\u9762\u5355"})):te(Ye,{children:[te(fr,{className:"text-sm",type:"text",icon:w(Hr,{}),onClick:()=>{try{Ci({printable:t==null?void 0:t.orderPackageList[0].documentUrl,type:"pdf",showModal:!0})}catch(u){(u.message||"").includes("Missing printable information")?Ee.error(u.message):Ee.error(u.message||"\u6253\u5370\u51FA\u9519\uFF01\u8BF7\u68C0\u67E5\u76F8\u5173\u4FE1\u606F")}},children:["\u6253\u5370",a?w(pt,{size:12}):""]}),te(fr,{className:"text-sm",type:"text",icon:w(zr,{}),onClick:()=>{r()},children:["\u67E5\u770B\u9762\u5355",a?w(pt,{size:12}):""]})]}),w(Be,{className:"modal-content-not-padding",title:"\u9762\u5355\u4FE1\u606F",style:{width:800},visible:!!i,footer:null,onCancel:()=>{n("")},hideCancel:!0,onConfirm:()=>{n("")},children:i?w("iframe",{className:"h-[700px] w-full border-none outline-none",src:i}):w(pt,{loading:!0})})]})},Pi=t=>{const{buttonProps:e,ids:i,children:n}=t,r=ve(async()=>{if(!(i==null?void 0:i.length))return Ee.error("\u8BF7\u9009\u62E9\u8BA2\u5355");await we(()=>Ze()?ke.refresh(i):at.refresh(i[0]),"\u66F4\u65B0"),Fe.emit(xe.refreshOrderPage)},{manual:!0});return w(ye,{children:w(fe,ue(q({type:"text",status:"warning",loading:r.loading,onClick:()=>{r.run()}},e),{children:n||"\u66F4\u65B0\u8BA2\u5355"}))})};const nu=t=>{const{item:e,setCurrentOrder:i,setActionType:n}=t;return w("header",{className:"flex items-center p-2 border-b",children:te(fe.Group,{children:[w(fe,{disabled:e.orderStatus&&!["0","1","2"].includes(e.orderStatus),onClick:()=>{const r=structuredClone(ue(q({},e),{clickPack:e.orderStatus==="5"||!e.whetherPack,logisticsOrderProductList:e.orderProductVOList.map(a=>ue(q({},a),{productInventoryVO:{stockProductId:a.stockProductId,number:a.stockUse}})),sendWarehouse:e.sendWarehouse==="0"?void 0:e.sendWarehouse}));i(r),n(et.edit)},children:e.whetherPack&&e.orderStatus!=="5"?"\u7F16\u8F91\u6253\u5305":"\u4E00\u952E\u6253\u5305"}),w(fe,{disabled:!["0","1","2"].includes(e.orderStatus)||!e.whetherPack,onClick:async()=>{await Je({content:"\u786E\u5B9A\u8981\u53D6\u6D88\u6253\u5305\u5417\uFF1F"}),await we(()=>at.cancelPack(e.id),"\u53D6\u6D88\u6253\u5305"),Fe.emit(xe.refreshOrderPage)},children:"\u53D6\u6D88\u6253\u5305"}),w(Bi,{orderItem:e,buttonProps:{}}),w(Pi,{buttonProps:{type:"default",status:"default"},ids:[e.id]}),w(fe,{onClick:()=>{i(ue(q({},e),{logisticsOrderProductList:e.orderProductVOList})),n(et.create)},children:"\u6DFB\u52A0\u5546\u54C1"}),w(Fi,{id:e.id})]})})},en={};function tn(t="default-test"){return ve(()=>(en[t]=en[t]||Ho.getList({pageNum:1,pageSize:50}),en[t].then(i=>i.data.data.list.map(n=>({label:n.shopName,value:n.platformShopId})))))}var iu=t=>{var i;const e=tn();return e.loading?w(pt,{}):((i=e.data)==null?void 0:i.length)?w(Tt.Group,ue(q({},t),{children:e.data.filter(n=>n.label).map(n=>w(Tt,{className:"pl-0",value:n.value,children:({checked:r})=>w(fe,{tabIndex:-1,type:r?"primary":"default",children:n.label},n.value)},n.value))})):w(ye,{children:"-"})};function Ii(t){var n;const{value:e}=t,{data:i}=tn();return w(ye,{children:((n=i==null?void 0:i.find(r=>r.value===e))==null?void 0:n.label)||"-"})}function au(t){const{data:e,loading:i}=tn();return w(Wr,q({placeholder:"\u8BF7\u9009\u62E9\u5E97\u94FA",loading:i,allowClear:!0,options:e},t))}Ne.extend(ro);function Ti(t,e,i){var l,c;const n=Ne(),r=Ne(t).diff(n),a=Ne.duration(r),u=Math.floor(a.asDays()),o=a.hours(),f=a.minutes();return((c=(l=i.orderPackageList)==null?void 0:l[0])==null?void 0:c.logisticsStatus)==="LOGISTICS_INVALID"?{expired:!0,dateStr:"\u903E\u671F"}:r<=0?{expired:!0,dateStr:""}:{expired:!1,dateStr:`\u5269\u4F59${u}\u5929${o}\u5C0F\u65F6${f}\u5206\u949F${e}`}}function H0(t=0){const e=Math.floor(t/3600),i=Math.floor(t%3600/60),n=t%60;let r="";return e>0&&(r+=`${e}\u5C0F\u65F6`),i>0&&(r+=`${i}\u5206\u949F`),(n>0||e===0&&i===0)&&(r+=`${n}\u79D2`),r}const Ri=["\u8766\u76AE\u5E97\u5230\u5E97","7-ELEVEN","OK Mart","\u5168\u5BB6","\u840A\u723E\u5BCC"],ou={"\u7EBF\u4E0B7-ELEVEN":"red",\u7EBF\u4E0B\u65B0\u7AF9\u7269\u6D41:"orangered",\u7EBF\u4E0B\u5168\u5BB6:"orange","OK Mart":"#146785",\u840A\u723E\u5BCC:"#ff59cc",\u8766\u76AE\u5E97\u5230\u5E97:"green",\u8CE3\u5BB6\u5B85\u914D:"blue","\u8CE3\u5BB6\u5B85\u914D\uFF1A\u5927\u578B/\u8D85\u91CD\u7269\u54C1\u904B\u9001":"blue",\u5168\u5BB6:"arcoblue","7-ELEVEN":"purple",\u5B85\u914D\u901A:"pinkpurple",\u9ED1\u8C93\u5B85\u6025\u4FBF:"magenta",\u65B0\u7AF9\u7269\u6D41:"#f53f3f",\u5609\u91CC\u5FEB\u905E:"#7816ff",\u5E97\u5230\u5BB6\u5B85\u914D:"#00b42a"},uu="\u901F\u904B\u5BF6",Ni={\u5F85\u5165\u5E93:"0",\u90E8\u5206\u5165\u5E93:"1",\u5F85\u51FA\u5E93:"2",\u5DF2\u4EA4\u8FD0:"3",\u5DF2\u51FA\u5E93:"4",\u5DF2\u53D6\u6D88:"5",\u5DF2\u5173\u95ED:"6"},dt={\u5DF2\u88C5\u8239:"SHIPPED",\u5DF2\u53D6\u6D88:"CANCELLED",\u53D6\u6D88\u4E2D:"IN_CANCEL",\u5DF2\u5B8C\u6210:"COMPLETED"},su="7";var lu=({data:t})=>{Yr({dictCode:"shopee_status"});const e=se.exports.useMemo(()=>{if(t&&t.shipByDate){if([dt.\u5DF2\u5B8C\u6210,dt.\u5DF2\u53D6\u6D88].includes(t.shopeeStatus))return"";if(t.shippingTime){const i=Ne(t.shippingTime).endOf("day");return Ne().diff(i,"day")>3?"":Ti(i.add(2,"day"),"\u8FDB\u5E97",t).dateStr}if(t.shipByDate)return Ti(t.shipByDate,"\u53D1\u8D27",t).dateStr}return""},[t==null?void 0:t.shipByDate,t==null?void 0:t.shippingTime,t==null?void 0:t.shopeeStatus]);return te(ye,{children:[t.createType==="0"?te(ye,{children:[w(he,{className:"w-[180px]",label:"Shopee\u72B6\u6001",value:w("span",{className:[dt.\u53D6\u6D88\u4E2D,dt.\u5DF2\u53D6\u6D88].includes(t.shopeeStatus)?"text-red-500 font-bold":"",children:w(gr,{dictCode:"shopee_status",value:t.shopeeStatus})})}),mt()?w(he,{className:"w-[240px] truncate",label:"\u5E97\u94FA",value:w(Ii,{value:t.platformShopId})}):null]}):w(he,{className:"w-[240px]",label:"\u8BA2\u5355\u7C7B\u578B",value:"\u8DE8\u5883 \u53F0\u6E7E/\u81EA\u5EFA"}),t.sendWarehouse&&t.sendWarehouse!=="0"?te("div",{className:"w-[240px]",children:[w("span",{className:Bt,children:"\u4ED3\u5E93\uFF1A"}),w("span",{className:Pt,children:w($o,{value:t.sendWarehouse})})]}):null,w("div",{className:"ml-auto",children:w("span",{className:Me("!w-auto !pb-0 !text-red-500 !font-bold"),children:e})})]})},cu={"order-table":"_order-table_dhx5k_1"};const Zt={getClaimList(t){return ie.post("/api/parcel/management/claim/list",t)},getProblemList(t){return ie.post("/api/parcel/management/problem/list",t)},getRejectList(t){return ie.post("/api/reject/management/list",t)},addReject(t){return ie.post("/api/reject/management/insert",t)},cancelReject(t){return ie.get(`/api/reject/management/cancel/${t}`)},orderCancelReject(t){return ie.post("/api/reject/management/order/cancel",t)},getReturnList(t){return ie.post("/api/return/management/list",t)},claimHandle(t){return ie.get("/api/parcel/management/claim/parcel",{params:t})},updateExpressStatus(t){return ie.post("/api/logistics/order/update/order/product/status",t)},returnOperation(t){return ie.post("/api/return/management/insert",t)},cancelReturn(t){return ie.get(`/api/return/management/cancel/${t}`)},orderCancelReturn(t){return ie.post("/api/return/management/order/cancel",t)},getOrderTrack(t){return ie.get(`/api/logistics/order/get/tracking/info/${t}`)}};const du=t=>{const o=t,{buttonProps:e,children:i,isModal:n,deleteRequest:r}=o,a=ht(o,["buttonProps","children","isModal","deleteRequest"]),u=ve(()=>r?we(()=>r()):null,{manual:!0});return n?w(ye,{children:i||w(fe,ue(q({icon:w(oi,{}),status:"danger",size:"small",loading:u.loading,onClick:()=>{Je({content:a.content,title:a.title}).then(()=>{u.run(),a.onOk({})})}},e),{children:"\u5220\u9664"}))}):w(ui,ue(q({title:"\u786E\u8BA4\u5220\u9664\uFF1F",disabled:e==null?void 0:e.disabled,okButtonProps:{loading:u.loading}},a),{onOk:f=>{var m;u.run(),(m=a==null?void 0:a.onOk)==null||m.call(a,f)},children:i||w(fe,ue(q({icon:w(oi,{}),status:"danger",size:"small",loading:u.loading},e),{children:"\u5220\u9664"}))}))};var rn=du;const fu=t=>{const{label:e,tipContent:i,toolTipProps:n={}}=t;return te("span",{children:[e,w(si,ue(q({},n),{content:i,children:w(no,{style:{marginLeft:4}})}))]})},hu=({label:t,tips:e,position:i="top"})=>e?w(fu,{label:t,tipContent:e,toolTipProps:{position:i}}):w(ye,{children:t});var pu=t=>{const e=Uo();return e.loading?w(pt,{}):e.data?w(Tt.Group,ue(q({size:"small"},t),{children:[{label:"\u5168\u90E8",value:void 0},...e.data].map(i=>{var n;return w(Tt,{className:"pl-0",value:i.value,children:({checked:r})=>w(fe,{tabIndex:-1,type:r?"primary":"default",children:i.label},i.value||"all")},(n=i.value)!=null?n:"all")})})):w(ye,{children:"-"})};const mu={productInfo(t){return ie.get(`/api/logistics/product/info/${t}`)},addGoodsInfo(t){return ie.post("/api/logistics/product/insert",t)},addGoodsInfoBatch(t){return ie.post("/api/logistics/product/insertBatch",t)},getProductList(t){return ie.post("/api/logistics/product/list",t)},deleteGoodsInfo(t){return ie.get(`/api/logistics/product/remove/${t}`)},synchronousGoodsInfo(t){return ie.post("/api/logistics/product/synchronous/assignment/product",t)},synchronousGoods(t){return ie.post("/api/logistics/product/synchronous/product",t)},updateGoodsInfo(t){return ie.post("/api/logistics/product/update",t)},getLogs(t){return ie.post("/api/stock/log/list",t)}},W0={getList(t){return ie.post("/api/stock/apply/list",t)},insert(t){return ie.post("/api/stock/apply/insert",t)},remove(t){return ie.get(`/api/stock/apply/remove/${t}`)},logs(t){return ie.get(`/api/stock/apply/log/list/${t}`)},warehousing(t){return ie.post("/api/stock/apply/put/storage",t)},setRemark(t){return ie.post("/api/stock/apply/set/remark",t)}},gu={getList(t){return ie.post("/api/stock/product/list",t)},remove(t){return ie.get(`/api/stock/product/remove/${t}`)},info(t){return ie.get(`/api/stock/product/info/${t}`)},changeQuantity(t){return ie.post("/api/stock/product/changeQuantity",t)}},Li=li.createContext({}),vu=t=>{const{formRef:e,children:i,createRequest:n,updateRequest:r,refreshRequest:a}=t,[u,o]=se.exports.useState(null),[f,m]=se.exports.useState(null),l=se.exports.useCallback((g,h)=>{m(h),o(g)},[o]);se.exports.useEffect(()=>{u===et.edit?e.setFieldsValue(f):u||e.setFieldsValue(null)},[u]);function c(){var g;(g=e==null?void 0:e.resetFields)==null||g.call(e),o(null),a==null||a()}const s=ve(async g=>{n&&(await we(()=>n(g)),c())},{manual:!0}),d=ve(async g=>{r&&(await we(()=>r(g)),c())},{manual:!0});return w(Li.Provider,{value:{showType:u,setShowType:l,createAction:s,updateAction:d,resetAndRefreshHandle:c},children:i})};function Mi(t={},e=!0){let i={};e&&(i=$i());const n=q(q({},i),t);return Object.entries(n).reduce((r,[a,u])=>{if(["",null,void 0].includes(u))return r;const o=JSON.stringify(u);return r?`${r}&${a}=${encodeURIComponent(o)}`:`?${a}=${encodeURIComponent(o)}`},"")}function $i(t=location.search.slice(1)){if(!t)return{};const e=t.split("&"),i={};for(const n of e){const[r,a]=n.split("=");try{i[r]=JSON.parse(decodeURIComponent(a))}catch{i[r]=a}}return i}const Ui=new Map;function yu(t){const{initialValues:e,cacheId:i,isSearchParams:n=!0}=t,r=io(),[a,u]=se.exports.useState(q(q(q({},e),i?Ui.get(i):{}),n?$i():{}));return se.exports.useEffect(()=>{if(n){const f=Mi(a);r.replace({search:f})}i&&Ui.set(i,a)},[a,n,i]),{value:a,setValue:u,resetParams:f=>{const m=f||e;if(n){const l=Mi(m);r.replace({search:l})}return u(m),m}}}const bu=se.exports.forwardRef((t,e)=>{const{name:i,formItemConfigList:n,isSearchParams:r=!0,className:a,style:u,majorKey:o="id",tableProps:f,formProps:m,initialValues:l={},createInitialValue:c={},showActions:s=!0,createText:d="\u65B0\u5EFA",createButtonProps:g={},formModalProps:h={},filterFormProps:y={},deleteConfirmKey:v,requestQueryTransform:_,requestEditBodyTransform:E,openEditTransform:A,leftTool:D,onView:C,createRequest:N,createHandle:F,getListRequest:x,updateRequest:T,removeRequest:L,showRemoveButton:O,middleTool:k,onDataChange:p}=t,[R]=Pe.useForm(),[B]=Pe.useForm(),{value:S,setValue:G,resetParams:M}=yu({initialValues:l,isSearchParams:r}),K=se.exports.useRef(null),[z,$]=Gr(`${i}-page-size`,{defaultValue:10}),[X,W]=ao(`${i}-page-num`,{defaultValue:1}),{data:U,run:ne,loading:me}=ve(()=>x==null?void 0:x(ue(q({},_?_(S):S),{pageNum:X,pageSize:z})).then(le=>{const ge=le.data.data;if(ge.total&&ge.list.length===0&&X!==1){W(X-1);return}return p==null||p(ge),ge}).catch(le=>(Ee.error(`\u67E5\u8BE2${i||""}\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5 ${(le==null?void 0:le.message)||""}`),null)),{refreshDeps:[z,X]});se.exports.useImperativeHandle(e,()=>({refreshSearchTable:ne,searchFormRef:B}));const ae=se.exports.useMemo(()=>n.find(le=>le.schema.field==="actions"),[n]),oe=n.some(le=>le.isSearch),pe=oe||N;return w(vu,{formRef:R,createRequest:N,updateRequest:le=>T(E?E(le):le),refreshRequest:ne,children:w(Li.Consumer,{children:({showType:le,setShowType:ge,createAction:Se,updateAction:b})=>{var Z;return te("div",{className:a,style:u,children:[oe?w(ut,ue(q({},m),{form:B,initialValues:S,formItemConfigList:zi(n,"isSearch"),onValuesChange:(V,I)=>{G(I)}})):null,pe?te("div",{className:Me("flex justify-between pr-2",oe?"py-6":"pb-6"),children:[oe?te(Ye,{size:16,children:[w(fe,{type:"default",loading:me,icon:w(ci,{}),onClick:()=>{B.clearFields(),B.setFieldsValue(M()),setTimeout(()=>{X===1?ne():W(1)})},children:"\u91CD\u7F6E"}),w(fe,{type:"primary",icon:w(di,{}),loading:me,onClick:()=>ne(),children:"\u67E5\u8BE2"})]}):null,te(Ye,{size:16,children:[(N||F)&&w(fe,ue(q({type:"primary",onClick:()=>{F?F():ge(et.create)},icon:w(Vr,{})},g),{children:d})),D==null?void 0:D()]})]}):null,k==null?void 0:k(),w(Kr,ue(q({rowKey:o,pagination:{pageSize:z,current:X,total:(U==null?void 0:U.total)||((Z=f==null?void 0:f.data)==null?void 0:Z.length),showTotal:!0,sizeCanChange:!0,onChange(V,I){W(V),$(I)}},data:U==null?void 0:U.list,loading:me},f),{columns:[..._u(n.filter(V=>!V.hideTable&&V.schema.field!=="actions")),...s?[ue(q({title:"\u64CD\u4F5C",key:"actions",width:315},ae),{render:(V,I,P)=>{var j;return te(Ye,{size:0,children:[C&&w(fe,{type:"text",icon:w(oo,{}),onClick:()=>{C(I)},children:"\u67E5\u770B"}),(j=ae==null?void 0:ae.render)==null?void 0:j.call(ae,V,I,P),T&&w(fe,{type:"text",status:"warning",icon:w(fi,{}),onClick:()=>{ge(et.edit,A?A(I):I)},children:"\u7F16\u8F91"}),L&&(O?O(I):!0)?w(rn,{buttonProps:{type:"text"},onOk:()=>{v?Je({content:w(wt,{ref:K,placeholder:`\u8BF7\u8F93\u5165\u5220\u9664\u540D\u79F0(${I[v]})`}),onOk(){K.current.dom.value===I[v]?we(()=>L(I[o])).then(()=>{ne()}):Ee.error("\u540D\u79F0\u586B\u5199\u9519\u8BEF\uFF01")}}):we(()=>L(I[o])).then(()=>{ne()})}}):null]})}})]:[]]})),w(Be,ue(q(ue(q({},To),{confirmLoading:(Se==null?void 0:Se.loading)||(b==null?void 0:b.loading),onCancel:()=>{ge(null),R.resetFields()},onOk:async()=>{const V=await R.validate();switch(le){case et.create:Se.run(V);break;case et.edit:b.run(V);break}},visible:!!le,title:`${Ro[le]}${i}`,unmountOnExit:!0}),h),{children:w(ut,q({initialValues:c,form:R,labelLength:8,span:12,className:"pb-4 pt-6",formItemConfigList:[...zi(n,"isCreate",{showType:le}),{schema:{field:o},formItemProps:{hidden:!0}}]},y))}))]})}})})});function zi(t,e,i={}){return t.filter(r=>r[e]).map(r=>q(ue(q({},Ce.exports.omit(r,["isCreate","isSearch","dynamicHandle"])),{schema:ue(q({},r.schema),{required:e==="isSearch"?!1:r.schema.required,rules:e==="isSearch"?null:r.schema.rules})}),r.dynamicHandle?r.dynamicHandle(i):{}))}function _u(t){return t.filter(i=>{var n;return!((n=i.formItemProps)==null?void 0:n.hidden)}).map(i=>ue(q({},i),{title:i.title||i.schema.label,dataIndex:i.schema.field}))}var nn=bu,an=t=>{var n;const{data:e,className:i}=t;return te("div",{className:`p-2 w-full flex items-center ${i}`,children:[w(hr,{className:"size-16",src:Ce.exports.isArray(e.productImg)?(n=e.productImg)==null?void 0:n[0]:e.productImg}),w("div",{className:"ml-2 flex-1 w-0",children:te("div",{className:"text-sm text-gray-500",children:[w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"SKU",value:e.sku}),w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u5546\u54C1\u540D\u79F0",value:e.productName}),w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u5546\u54C1\u7F16\u7801",value:e.productCode}),(e==null?void 0:e.platformItemId)?w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u5E73\u53F0\u5546\u54C1ID",value:e.platformItemId}):null]})})]})},Eu=t=>{const{value:e,onChange:i}=t,[n,r]=se.exports.useState(!1),[a,u]=se.exports.useState([...e||[]]),[o,f]=se.exports.useState();return te("div",{children:[w(fe,{onClick:()=>{r(!0)},children:"\u70B9\u51FB\u9009\u62E9"}),(e==null?void 0:e.length)?w(nn,{className:"mt-4",name:"\u5546\u54C1\u9009\u62E9",tableProps:{data:e},formItemConfigList:[{schema:{label:"\u5546\u54C1\u540D\u79F0",field:"productName"},width:300,render:(m,l)=>w(an,{data:l})},{schema:{label:"\u6570\u91CF",field:"num"},render(m,l){return w(Go,{value:m,title:"\u4FEE\u6539\u6570\u91CF",type:Vo.Number,onChange:c=>(l.num=c,console.log(e),i([...e]),Promise.resolve({data:{code:0}}))})}},{schema:{label:"\u64CD\u4F5C",field:"actions"},render(m,l){return w(fe,{type:"text",onClick:()=>{i(e.filter(c=>c!==l))},children:"\u79FB\u9664"})}}]}):null,w(Be,{style:{width:"850px"},visible:n,title:"\u5546\u54C1\u9009\u62E9",onConfirm:()=>{i(a),r(!1)},onCancel:()=>{r(!1)},children:w(nn,{getListRequest:(...m)=>mu.getProductList(...m).then(l=>(f(l.data.data.list),u([]),l)),name:"\u5546\u54C1\u9009\u62E9",showActions:!1,tableProps:{rowKey:"id",rowSelection:{type:"checkbox",selectedRowKeys:a.map(m=>m.id),onChange:m=>{u(o.filter(l=>m.includes(l.id)).map(l=>ue(q({},l),{num:20})))},onSelectAll:m=>{u(m?o.map(l=>ue(q({},l),{num:20})):[])}}},formItemConfigList:[{schema:{label:"\u5546\u54C1\u540D\u79F0",field:"productName"},render:(m,l)=>te("div",{className:"flex items-center",children:[w(hr,{className:"size-14 mr-1 overflow-hidden object-cover",src:l.productImg}),w("div",{className:"w-44",children:l.productName})]}),isSearch:!0},{schema:{label:"SKU",field:"sku"}}]})})]})};const wu={get(t){return ie.post("/api/role/list",t)},create(t){return ie.post("/api/role/insert",q({menuIds:[],roleCode:Ce.exports.random(0,1e3).toString(),systemAcquiesce:0,tenantryId:0},t))},remove(t){return ie.get(`/api/role/remove/${t}`)},update(t){return ie.post("/api/role/update",t)},info(t){return ie.get(`/api/role/info/${t}`)}},xu={get(t){return ie.post("/api/tenantry/role/list",t)},create(t){return ie.post("/api/tenantry/role/insert",q({menuIds:[],roleCode:Ce.exports.random(0,1e3).toString(),systemAcquiesce:0,tenantryId:0},t))},remove(t){return ie.get(`/api/tenantry/role/remove/${t}`)},update(t){return ie.post("/api/tenantry/role/update",t)},info(t){return ie.get(`/api/tenantry/role/info/${t}`)},getRoleUsers(t){return ie.get(`/api/tenantry/role/user/info/${t}`)},saveRoleMenu(t){return ie.post("/api/tenantry/role/menu/save/or/update",t)},saveRoleUser(t){return ie.post("/api/tenantry/role/user/save/or/update",t)},saveRoleUserByAdmin(t){return ie.post("/api/tenantry/role/save/or/update/user",t)},saveRoleMenuByAdmin(t){return ie.post("/api/tenantry/role/save/or/update/menu",t)}};let on,un;function Ou(){return on=on||wu.get({pageNum:1,pageSize:50}).then(t=>{var e;return(e=t.data.data)==null?void 0:e.list.map(i=>({label:i.roleName,value:i.id}))}),on}function Su(){return un=un||xu.get({pageNum:1,pageSize:50}).then(t=>{var e;return(e=t.data.data)==null?void 0:e.list.map(i=>({label:i.roleName,value:i.id}))}),un}function ji(){return ve(()=>Ze()?Ou():Su())}function G0(t){var n;const{value:e}=t,{data:i}=ji();return w(ye,{children:(n=i==null?void 0:i.find(r=>String(r.value)===String(e)))==null?void 0:n.label})}const Fu=t=>{const e=ji();return w(Wr,ue(q({placeholder:"\u8BF7\u9009\u62E9"},t),{options:e.data,loading:e.loading}))};function Au(t,e){return e.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(n){if(n!=="default"&&!(n in t)){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}})}),Object.freeze(t)}function Hi(t,e){return new Promise(function(i,n){let r;return Cu(t).then(function(a){try{return r=a,i(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(u){return n(u)}},n)})}const Cu=t=>new Promise((e,i)=>{const n=new FileReader;n.addEventListener("load",({target:{result:r}})=>{const a=new DataView(r);let u=0;if(a.getUint16(u)!==65496)return i("not a valid JPEG");for(u+=2;;){const o=a.getUint16(u);if(o===65498)break;const f=a.getUint16(u+2);if(o===65505&&a.getUint32(u+4)===1165519206){const m=u+10;let l;switch(a.getUint16(m)){case 18761:l=!0;break;case 19789:l=!1;break;default:return i("TIFF header contains invalid endian")}if(a.getUint16(m+2,l)!==42)return i("TIFF header contains invalid version");const c=a.getUint32(m+4,l),s=m+c+2+12*a.getUint16(m+c,l);for(let d=m+c+2;d<s;d+=12)if(a.getUint16(d,l)==274){if(a.getUint16(d+2,l)!==3)return i("Orientation data type is invalid");if(a.getUint32(d+4,l)!==1)return i("Orientation data count is invalid");a.setUint16(d+8,1,l);break}return e(r.slice(u,u+2+f))}u+=2+f}return e(new Blob)}),n.readAsArrayBuffer(t)});var vr={},ku={get exports(){return vr},set exports(t){vr=t}};(function(t){var e,i,n={};ku.exports=n,n.parse=function(r,a){for(var u=n.bin.readUshort,o=n.bin.readUint,f=0,m={},l=new Uint8Array(r),c=l.length-4;o(l,c)!=101010256;)c--;f=c,f+=4;var s=u(l,f+=4);u(l,f+=2);var d=o(l,f+=2),g=o(l,f+=4);f+=4,f=g;for(var h=0;h<s;h++){o(l,f),f+=4,f+=4,f+=4,o(l,f+=4),d=o(l,f+=4);var y=o(l,f+=4),v=u(l,f+=4),_=u(l,f+2),E=u(l,f+4);f+=6;var A=o(l,f+=8);f+=4,f+=v+_+E,n._readLocal(l,A,m,d,y,a)}return m},n._readLocal=function(r,a,u,o,f,m){var l=n.bin.readUshort,c=n.bin.readUint;c(r,a),l(r,a+=4),l(r,a+=2);var s=l(r,a+=2);c(r,a+=2),c(r,a+=4),a+=4;var d=l(r,a+=8),g=l(r,a+=2);a+=2;var h=n.bin.readUTF8(r,a,d);if(a+=d,a+=g,m)u[h]={size:f,csize:o};else{var y=new Uint8Array(r.buffer,a);if(s==0)u[h]=new Uint8Array(y.buffer.slice(a,a+o));else{if(s!=8)throw"unknown compression method: "+s;var v=new Uint8Array(f);n.inflateRaw(y,v),u[h]=v}}},n.inflateRaw=function(r,a){return n.F.inflate(r,a)},n.inflate=function(r,a){return r[0],r[1],n.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),a)},n.deflate=function(r,a){a==null&&(a={level:6});var u=0,o=new Uint8Array(50+Math.floor(1.1*r.length));o[u]=120,o[u+1]=156,u+=2,u=n.F.deflateRaw(r,o,u,a.level);var f=n.adler(r,0,r.length);return o[u+0]=f>>>24&255,o[u+1]=f>>>16&255,o[u+2]=f>>>8&255,o[u+3]=f>>>0&255,new Uint8Array(o.buffer,0,u+4)},n.deflateRaw=function(r,a){a==null&&(a={level:6});var u=new Uint8Array(50+Math.floor(1.1*r.length)),o=n.F.deflateRaw(r,u,o,a.level);return new Uint8Array(u.buffer,0,o)},n.encode=function(r,a){a==null&&(a=!1);var u=0,o=n.bin.writeUint,f=n.bin.writeUshort,m={};for(var l in r){var c=!n._noNeed(l)&&!a,s=r[l],d=n.crc.crc(s,0,s.length);m[l]={cpr:c,usize:s.length,crc:d,file:c?n.deflateRaw(s):s}}for(var l in m)u+=m[l].file.length+30+46+2*n.bin.sizeUTF8(l);u+=22;var g=new Uint8Array(u),h=0,y=[];for(var l in m){var v=m[l];y.push(h),h=n._writeHeader(g,h,l,v,0)}var _=0,E=h;for(var l in m)v=m[l],y.push(h),h=n._writeHeader(g,h,l,v,1,y[_++]);var A=h-E;return o(g,h,101010256),h+=4,f(g,h+=4,_),f(g,h+=2,_),o(g,h+=2,A),o(g,h+=4,E),h+=4,h+=2,g.buffer},n._noNeed=function(r){var a=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},n._writeHeader=function(r,a,u,o,f,m){var l=n.bin.writeUint,c=n.bin.writeUshort,s=o.file;return l(r,a,f==0?67324752:33639248),a+=4,f==1&&(a+=2),c(r,a,20),c(r,a+=2,0),c(r,a+=2,o.cpr?8:0),l(r,a+=2,0),l(r,a+=4,o.crc),l(r,a+=4,s.length),l(r,a+=4,o.usize),c(r,a+=4,n.bin.sizeUTF8(u)),c(r,a+=2,0),a+=2,f==1&&(a+=2,a+=2,l(r,a+=6,m),a+=4),a+=n.bin.writeUTF8(r,a,u),f==0&&(r.set(s,a),a+=s.length),a},n.crc={table:function(){for(var r=new Uint32Array(256),a=0;a<256;a++){for(var u=a,o=0;o<8;o++)1&u?u=3988292384^u>>>1:u>>>=1;r[a]=u}return r}(),update:function(r,a,u,o){for(var f=0;f<o;f++)r=n.crc.table[255&(r^a[u+f])]^r>>>8;return r},crc:function(r,a,u){return 4294967295^n.crc.update(4294967295,r,a,u)}},n.adler=function(r,a,u){for(var o=1,f=0,m=a,l=a+u;m<l;){for(var c=Math.min(m+5552,l);m<c;)f+=o+=r[m++];o%=65521,f%=65521}return f<<16|o},n.bin={readUshort:function(r,a){return r[a]|r[a+1]<<8},writeUshort:function(r,a,u){r[a]=255&u,r[a+1]=u>>8&255},readUint:function(r,a){return 16777216*r[a+3]+(r[a+2]<<16|r[a+1]<<8|r[a])},writeUint:function(r,a,u){r[a]=255&u,r[a+1]=u>>8&255,r[a+2]=u>>16&255,r[a+3]=u>>24&255},readASCII:function(r,a,u){for(var o="",f=0;f<u;f++)o+=String.fromCharCode(r[a+f]);return o},writeASCII:function(r,a,u){for(var o=0;o<u.length;o++)r[a+o]=u.charCodeAt(o)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,a,u){for(var o,f="",m=0;m<u;m++)f+="%"+n.bin.pad(r[a+m].toString(16));try{o=decodeURIComponent(f)}catch{return n.bin.readASCII(r,a,u)}return o},writeUTF8:function(r,a,u){for(var o=u.length,f=0,m=0;m<o;m++){var l=u.charCodeAt(m);if((4294967168&l)==0)r[a+f]=l,f++;else if((4294965248&l)==0)r[a+f]=192|l>>6,r[a+f+1]=128|l>>0&63,f+=2;else if((4294901760&l)==0)r[a+f]=224|l>>12,r[a+f+1]=128|l>>6&63,r[a+f+2]=128|l>>0&63,f+=3;else{if((4292870144&l)!=0)throw"e";r[a+f]=240|l>>18,r[a+f+1]=128|l>>12&63,r[a+f+2]=128|l>>6&63,r[a+f+3]=128|l>>0&63,f+=4}}return f},sizeUTF8:function(r){for(var a=r.length,u=0,o=0;o<a;o++){var f=r.charCodeAt(o);if((4294967168&f)==0)u++;else if((4294965248&f)==0)u+=2;else if((4294901760&f)==0)u+=3;else{if((4292870144&f)!=0)throw"e";u+=4}}return u}},n.F={},n.F.deflateRaw=function(r,a,u,o){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],m=n.F.U,l=n.F._goodIndex;n.F._hash;var c=n.F._putsE,s=0,d=u<<3,g=0,h=r.length;if(o==0){for(;s<h;)c(a,d,s+(L=Math.min(65535,h-s))==h?1:0),d=n.F._copyExact(r,s,L,a,d+8),s+=L;return d>>>3}var y=m.lits,v=m.strt,_=m.prev,E=0,A=0,D=0,C=0,N=0,F=0;for(h>2&&(v[F=n.F._hash(r,0)]=0),s=0;s<h;s++){if(N=F,s+1<h-2){F=n.F._hash(r,s+1);var x=s+1&32767;_[x]=v[F],v[F]=x}if(g<=s){(E>14e3||A>26697)&&h-s>100&&(g<s&&(y[E]=s-g,E+=2,g=s),d=n.F._writeBlock(s==h-1||g==h?1:0,y,E,C,r,D,s-D,a,d),E=A=C=0,D=s);var T=0;s<h-2&&(T=n.F._bestMatch(r,s,_,N,Math.min(f[2],h-s),f[3]));var L=T>>>16,O=65535&T;if(T!=0){O=65535&T;var k=l(L=T>>>16,m.of0);m.lhst[257+k]++;var p=l(O,m.df0);m.dhst[p]++,C+=m.exb[k]+m.dxb[p],y[E]=L<<23|s-g,y[E+1]=O<<16|k<<8|p,E+=2,g=s+L}else m.lhst[r[s]]++;A++}}for(D==s&&r.length!=0||(g<s&&(y[E]=s-g,E+=2,g=s),d=n.F._writeBlock(1,y,E,C,r,D,s-D,a,d),E=0,A=0,E=A=C=0,D=s);(7&d)!=0;)d++;return d>>>3},n.F._bestMatch=function(r,a,u,o,f,m){var l=32767&a,c=u[l],s=l-c+32768&32767;if(c==l||o!=n.F._hash(r,a-s))return 0;for(var d=0,g=0,h=Math.min(32767,a);s<=h&&--m!=0&&c!=l;){if(d==0||r[a+d]==r[a+d-s]){var y=n.F._howLong(r,a,s);if(y>d){if(g=s,(d=y)>=f)break;s+2<y&&(y=s+2);for(var v=0,_=0;_<y-2;_++){var E=a-s+_+32768&32767,A=E-u[E]+32768&32767;A>v&&(v=A,c=E)}}}s+=(l=c)-(c=u[l])+32768&32767}return d<<16|g},n.F._howLong=function(r,a,u){if(r[a]!=r[a-u]||r[a+1]!=r[a+1-u]||r[a+2]!=r[a+2-u])return 0;var o=a,f=Math.min(r.length,a+258);for(a+=3;a<f&&r[a]==r[a-u];)a++;return a-o},n.F._hash=function(r,a){return(r[a]<<8|r[a+1])+(r[a+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(r,a,u,o,f,m,l,c,s){var d,g,h,y,v,_,E,A,D,C=n.F.U,N=n.F._putsF,F=n.F._putsE;C.lhst[256]++,g=(d=n.F.getTrees())[0],h=d[1],y=d[2],v=d[3],_=d[4],E=d[5],A=d[6],D=d[7];var x=32+((s+3&7)==0?0:8-(s+3&7))+(l<<3),T=o+n.F.contSize(C.fltree,C.lhst)+n.F.contSize(C.fdtree,C.dhst),L=o+n.F.contSize(C.ltree,C.lhst)+n.F.contSize(C.dtree,C.dhst);L+=14+3*E+n.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var O=0;O<286;O++)C.lhst[O]=0;for(O=0;O<30;O++)C.dhst[O]=0;for(O=0;O<19;O++)C.ihst[O]=0;var k=x<T&&x<L?0:T<L?1:2;if(N(c,s,r),N(c,s+1,k),s+=3,k==0){for(;(7&s)!=0;)s++;s=n.F._copyExact(f,m,l,c,s)}else{var p,R;if(k==1&&(p=C.fltree,R=C.fdtree),k==2){n.F.makeCodes(C.ltree,g),n.F.revCodes(C.ltree,g),n.F.makeCodes(C.dtree,h),n.F.revCodes(C.dtree,h),n.F.makeCodes(C.itree,y),n.F.revCodes(C.itree,y),p=C.ltree,R=C.dtree,F(c,s,v-257),F(c,s+=5,_-1),F(c,s+=5,E-4),s+=4;for(var B=0;B<E;B++)F(c,s+3*B,C.itree[1+(C.ordr[B]<<1)]);s+=3*E,s=n.F._codeTiny(A,C.itree,c,s),s=n.F._codeTiny(D,C.itree,c,s)}for(var S=m,G=0;G<u;G+=2){for(var M=a[G],K=M>>>23,z=S+(8388607&M);S<z;)s=n.F._writeLit(f[S++],p,c,s);if(K!=0){var $=a[G+1],X=$>>16,W=$>>8&255,U=255&$;F(c,s=n.F._writeLit(257+W,p,c,s),K-C.of0[W]),s+=C.exb[W],N(c,s=n.F._writeLit(U,R,c,s),X-C.df0[U]),s+=C.dxb[U],S+=K}}s=n.F._writeLit(256,p,c,s)}return s},n.F._copyExact=function(r,a,u,o,f){var m=f>>>3;return o[m]=u,o[m+1]=u>>>8,o[m+2]=255-o[m],o[m+3]=255-o[m+1],m+=4,o.set(new Uint8Array(r.buffer,a,u),m),f+(u+4<<3)},n.F.getTrees=function(){for(var r=n.F.U,a=n.F._hufTree(r.lhst,r.ltree,15),u=n.F._hufTree(r.dhst,r.dtree,15),o=[],f=n.F._lenCodes(r.ltree,o),m=[],l=n.F._lenCodes(r.dtree,m),c=0;c<o.length;c+=2)r.ihst[o[c]]++;for(c=0;c<m.length;c+=2)r.ihst[m[c]]++;for(var s=n.F._hufTree(r.ihst,r.itree,7),d=19;d>4&&r.itree[1+(r.ordr[d-1]<<1)]==0;)d--;return[a,u,s,f,l,d,o,m]},n.F.getSecond=function(r){for(var a=[],u=0;u<r.length;u+=2)a.push(r[u+1]);return a},n.F.nonZero=function(r){for(var a="",u=0;u<r.length;u+=2)r[u+1]!=0&&(a+=(u>>1)+",");return a},n.F.contSize=function(r,a){for(var u=0,o=0;o<a.length;o++)u+=a[o]*r[1+(o<<1)];return u},n.F._codeTiny=function(r,a,u,o){for(var f=0;f<r.length;f+=2){var m=r[f],l=r[f+1];o=n.F._writeLit(m,a,u,o);var c=m==16?2:m==17?3:7;m>15&&(n.F._putsE(u,o,l,c),o+=c)}return o},n.F._lenCodes=function(r,a){for(var u=r.length;u!=2&&r[u-1]==0;)u-=2;for(var o=0;o<u;o+=2){var f=r[o+1],m=o+3<u?r[o+3]:-1,l=o+5<u?r[o+5]:-1,c=o==0?-1:r[o-1];if(f==0&&m==f&&l==f){for(var s=o+5;s+2<u&&r[s+2]==f;)s+=2;(d=Math.min(s+1-o>>>1,138))<11?a.push(17,d-3):a.push(18,d-11),o+=2*d-2}else if(f==c&&m==f&&l==f){for(s=o+5;s+2<u&&r[s+2]==f;)s+=2;var d=Math.min(s+1-o>>>1,6);a.push(16,d-3),o+=2*d-2}else a.push(f,0)}return u>>>1},n.F._hufTree=function(r,a,u){var o=[],f=r.length,m=a.length,l=0;for(l=0;l<m;l+=2)a[l]=0,a[l+1]=0;for(l=0;l<f;l++)r[l]!=0&&o.push({lit:l,f:r[l]});var c=o.length,s=o.slice(0);if(c==0)return 0;if(c==1){var d=o[0].lit;return s=d==0?1:0,a[1+(d<<1)]=1,a[1+(s<<1)]=1,1}o.sort(function(A,D){return A.f-D.f});var g=o[0],h=o[1],y=0,v=1,_=2;for(o[0]={lit:-1,f:g.f+h.f,l:g,r:h,d:0};v!=c-1;)g=y!=v&&(_==c||o[y].f<o[_].f)?o[y++]:o[_++],h=y!=v&&(_==c||o[y].f<o[_].f)?o[y++]:o[_++],o[v++]={lit:-1,f:g.f+h.f,l:g,r:h};var E=n.F.setDepth(o[v-1],0);for(E>u&&(n.F.restrictDepth(s,u,E),E=u),l=0;l<c;l++)a[1+(s[l].lit<<1)]=s[l].d;return E},n.F.setDepth=function(r,a){return r.lit!=-1?(r.d=a,a):Math.max(n.F.setDepth(r.l,a+1),n.F.setDepth(r.r,a+1))},n.F.restrictDepth=function(r,a,u){var o=0,f=1<<u-a,m=0;for(r.sort(function(c,s){return s.d==c.d?c.f-s.f:s.d-c.d}),o=0;o<r.length&&r[o].d>a;o++){var l=r[o].d;r[o].d=a,m+=f-(1<<u-l)}for(m>>>=u-a;m>0;)(l=r[o].d)<a?(r[o].d++,m-=1<<a-l-1):o++;for(;o>=0;o--)r[o].d==a&&m<0&&(r[o].d--,m++);m!=0&&console.log("debt left")},n.F._goodIndex=function(r,a){var u=0;return a[16|u]<=r&&(u|=16),a[8|u]<=r&&(u|=8),a[4|u]<=r&&(u|=4),a[2|u]<=r&&(u|=2),a[1|u]<=r&&(u|=1),u},n.F._writeLit=function(r,a,u,o){return n.F._putsF(u,o,a[r<<1]),o+a[1+(r<<1)]},n.F.inflate=function(r,a){var u=Uint8Array;if(r[0]==3&&r[1]==0)return a||new u(0);var o=n.F,f=o._bitsF,m=o._bitsE,l=o._decodeTiny,c=o.makeCodes,s=o.codes2map,d=o._get17,g=o.U,h=a==null;h&&(a=new u(r.length>>>2<<3));for(var y,v,_=0,E=0,A=0,D=0,C=0,N=0,F=0,x=0,T=0;_==0;)if(_=f(r,T,1),E=f(r,T+1,2),T+=3,E!=0){if(h&&(a=n.F._check(a,x+(1<<17))),E==1&&(y=g.flmap,v=g.fdmap,N=511,F=31),E==2){A=m(r,T,5)+257,D=m(r,T+5,5)+1,C=m(r,T+10,4)+4,T+=14;for(var L=0;L<38;L+=2)g.itree[L]=0,g.itree[L+1]=0;var O=1;for(L=0;L<C;L++){var k=m(r,T+3*L,3);g.itree[1+(g.ordr[L]<<1)]=k,k>O&&(O=k)}T+=3*C,c(g.itree,O),s(g.itree,O,g.imap),y=g.lmap,v=g.dmap,T=l(g.imap,(1<<O)-1,A+D,r,T,g.ttree);var p=o._copyOut(g.ttree,0,A,g.ltree);N=(1<<p)-1;var R=o._copyOut(g.ttree,A,D,g.dtree);F=(1<<R)-1,c(g.ltree,p),s(g.ltree,p,y),c(g.dtree,R),s(g.dtree,R,v)}for(;;){var B=y[d(r,T)&N];T+=15&B;var S=B>>>4;if(S>>>8==0)a[x++]=S;else{if(S==256)break;var G=x+S-254;if(S>264){var M=g.ldef[S-257];G=x+(M>>>3)+m(r,T,7&M),T+=7&M}var K=v[d(r,T)&F];T+=15&K;var z=K>>>4,$=g.ddef[z],X=($>>>4)+f(r,T,15&$);for(T+=15&$,h&&(a=n.F._check(a,x+(1<<17)));x<G;)a[x]=a[x++-X],a[x]=a[x++-X],a[x]=a[x++-X],a[x]=a[x++-X];x=G}}}else{(7&T)!=0&&(T+=8-(7&T));var W=4+(T>>>3),U=r[W-4]|r[W-3]<<8;h&&(a=n.F._check(a,x+U)),a.set(new u(r.buffer,r.byteOffset+W,U),x),T=W+U<<3,x+=U}return a.length==x?a:a.slice(0,x)},n.F._check=function(r,a){var u=r.length;if(a<=u)return r;var o=new Uint8Array(Math.max(u<<1,a));return o.set(r,0),o},n.F._decodeTiny=function(r,a,u,o,f,m){for(var l=n.F._bitsE,c=n.F._get17,s=0;s<u;){var d=r[c(o,f)&a];f+=15&d;var g=d>>>4;if(g<=15)m[s]=g,s++;else{var h=0,y=0;g==16?(y=3+l(o,f,2),f+=2,h=m[s-1]):g==17?(y=3+l(o,f,3),f+=3):g==18&&(y=11+l(o,f,7),f+=7);for(var v=s+y;s<v;)m[s]=h,s++}}return f},n.F._copyOut=function(r,a,u,o){for(var f=0,m=0,l=o.length>>>1;m<u;){var c=r[m+a];o[m<<1]=0,o[1+(m<<1)]=c,c>f&&(f=c),m++}for(;m<l;)o[m<<1]=0,o[1+(m<<1)]=0,m++;return f},n.F.makeCodes=function(r,a){for(var u,o,f,m,l=n.F.U,c=r.length,s=l.bl_count,d=0;d<=a;d++)s[d]=0;for(d=1;d<c;d+=2)s[r[d]]++;var g=l.next_code;for(u=0,s[0]=0,o=1;o<=a;o++)u=u+s[o-1]<<1,g[o]=u;for(f=0;f<c;f+=2)(m=r[f+1])!=0&&(r[f]=g[m],g[m]++)},n.F.codes2map=function(r,a,u){for(var o=r.length,f=n.F.U.rev15,m=0;m<o;m+=2)if(r[m+1]!=0)for(var l=m>>1,c=r[m+1],s=l<<4|c,d=a-c,g=r[m]<<d,h=g+(1<<d);g!=h;)u[f[g]>>>15-a]=s,g++},n.F.revCodes=function(r,a){for(var u=n.F.U.rev15,o=15-a,f=0;f<r.length;f+=2){var m=r[f]<<a-r[f+1];r[f]=u[m]>>>o}},n.F._putsE=function(r,a,u){u<<=7&a;var o=a>>>3;r[o]|=u,r[o+1]|=u>>>8},n.F._putsF=function(r,a,u){u<<=7&a;var o=a>>>3;r[o]|=u,r[o+1]|=u>>>8,r[o+2]|=u>>>16},n.F._bitsE=function(r,a,u){return(r[a>>>3]|r[1+(a>>>3)]<<8)>>>(7&a)&(1<<u)-1},n.F._bitsF=function(r,a,u){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16)>>>(7&a)&(1<<u)-1},n.F._get17=function(r,a){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16)>>>(7&a)},n.F._get25=function(r,a){return(r[a>>>3]|r[1+(a>>>3)]<<8|r[2+(a>>>3)]<<16|r[3+(a>>>3)]<<24)>>>(7&a)},n.F.U=(e=Uint16Array,i=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var r=n.F.U,a=0;a<32768;a++){var u=a;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,r.rev15[a]=(u>>>16|u<<16)>>>17}function o(f,m,l){for(;m--!=0;)f.push(0,l)}for(a=0;a<32;a++)r.ldef[a]=r.of0[a]<<3|r.exb[a],r.ddef[a]=r.df0[a]<<4|r.dxb[a];o(r.fltree,144,8),o(r.fltree,112,9),o(r.fltree,24,7),o(r.fltree,8,8),n.F.makeCodes(r.fltree,9),n.F.codes2map(r.fltree,9,r.flmap),n.F.revCodes(r.fltree,9),o(r.fdtree,32,5),n.F.makeCodes(r.fdtree,5),n.F.codes2map(r.fdtree,5,r.fdmap),n.F.revCodes(r.fdtree,5),o(r.itree,19,0),o(r.ltree,286,0),o(r.dtree,30,0),o(r.ttree,320,0)}()})();var Du=Au({__proto__:null,default:vr},[vr]);const it=function(){var t={nextZero(l,c){for(;l[c]!=0;)c++;return c},readUshort:(l,c)=>l[c]<<8|l[c+1],writeUshort(l,c,s){l[c]=s>>8&255,l[c+1]=255&s},readUint:(l,c)=>16777216*l[c]+(l[c+1]<<16|l[c+2]<<8|l[c+3]),writeUint(l,c,s){l[c]=s>>24&255,l[c+1]=s>>16&255,l[c+2]=s>>8&255,l[c+3]=255&s},readASCII(l,c,s){let d="";for(let g=0;g<s;g++)d+=String.fromCharCode(l[c+g]);return d},writeASCII(l,c,s){for(let d=0;d<s.length;d++)l[c+d]=s.charCodeAt(d)},readBytes(l,c,s){const d=[];for(let g=0;g<s;g++)d.push(l[c+g]);return d},pad:l=>l.length<2?`0${l}`:l,readUTF8(l,c,s){let d,g="";for(let h=0;h<s;h++)g+=`%${t.pad(l[c+h].toString(16))}`;try{d=decodeURIComponent(g)}catch{return t.readASCII(l,c,s)}return d}};function e(l,c,s,d){const g=c*s,h=a(d),y=Math.ceil(c*h/8),v=new Uint8Array(4*g),_=new Uint32Array(v.buffer),{ctype:E}=d,{depth:A}=d,D=t.readUshort;if(E==6){const M=g<<2;if(A==8)for(var C=0;C<M;C+=4)v[C]=l[C],v[C+1]=l[C+1],v[C+2]=l[C+2],v[C+3]=l[C+3];if(A==16)for(C=0;C<M;C++)v[C]=l[C<<1]}else if(E==2){const M=d.tabs.tRNS;if(M==null){if(A==8)for(C=0;C<g;C++){var N=3*C;_[C]=255<<24|l[N+2]<<16|l[N+1]<<8|l[N]}if(A==16)for(C=0;C<g;C++)N=6*C,_[C]=255<<24|l[N+4]<<16|l[N+2]<<8|l[N]}else{var F=M[0];const K=M[1],z=M[2];if(A==8)for(C=0;C<g;C++){var x=C<<2;N=3*C,_[C]=255<<24|l[N+2]<<16|l[N+1]<<8|l[N],l[N]==F&&l[N+1]==K&&l[N+2]==z&&(v[x+3]=0)}if(A==16)for(C=0;C<g;C++)x=C<<2,N=6*C,_[C]=255<<24|l[N+4]<<16|l[N+2]<<8|l[N],D(l,N)==F&&D(l,N+2)==K&&D(l,N+4)==z&&(v[x+3]=0)}}else if(E==3){const M=d.tabs.PLTE,K=d.tabs.tRNS,z=K?K.length:0;if(A==1)for(var T=0;T<s;T++){var L=T*y,O=T*c;for(C=0;C<c;C++){x=O+C<<2;var k=3*(p=l[L+(C>>3)]>>7-((7&C)<<0)&1);v[x]=M[k],v[x+1]=M[k+1],v[x+2]=M[k+2],v[x+3]=p<z?K[p]:255}}if(A==2)for(T=0;T<s;T++)for(L=T*y,O=T*c,C=0;C<c;C++)x=O+C<<2,k=3*(p=l[L+(C>>2)]>>6-((3&C)<<1)&3),v[x]=M[k],v[x+1]=M[k+1],v[x+2]=M[k+2],v[x+3]=p<z?K[p]:255;if(A==4)for(T=0;T<s;T++)for(L=T*y,O=T*c,C=0;C<c;C++)x=O+C<<2,k=3*(p=l[L+(C>>1)]>>4-((1&C)<<2)&15),v[x]=M[k],v[x+1]=M[k+1],v[x+2]=M[k+2],v[x+3]=p<z?K[p]:255;if(A==8)for(C=0;C<g;C++){var p;x=C<<2,k=3*(p=l[C]),v[x]=M[k],v[x+1]=M[k+1],v[x+2]=M[k+2],v[x+3]=p<z?K[p]:255}}else if(E==4){if(A==8)for(C=0;C<g;C++){x=C<<2;var R=l[B=C<<1];v[x]=R,v[x+1]=R,v[x+2]=R,v[x+3]=l[B+1]}if(A==16)for(C=0;C<g;C++){var B;x=C<<2,R=l[B=C<<2],v[x]=R,v[x+1]=R,v[x+2]=R,v[x+3]=l[B+2]}}else if(E==0)for(F=d.tabs.tRNS?d.tabs.tRNS:-1,T=0;T<s;T++){const M=T*y,K=T*c;if(A==1)for(var S=0;S<c;S++){var G=(R=255*(l[M+(S>>>3)]>>>7-(7&S)&1))==255*F?0:255;_[K+S]=G<<24|R<<16|R<<8|R}else if(A==2)for(S=0;S<c;S++)G=(R=85*(l[M+(S>>>2)]>>>6-((3&S)<<1)&3))==85*F?0:255,_[K+S]=G<<24|R<<16|R<<8|R;else if(A==4)for(S=0;S<c;S++)G=(R=17*(l[M+(S>>>1)]>>>4-((1&S)<<2)&15))==17*F?0:255,_[K+S]=G<<24|R<<16|R<<8|R;else if(A==8)for(S=0;S<c;S++)G=(R=l[M+S])==F?0:255,_[K+S]=G<<24|R<<16|R<<8|R;else if(A==16)for(S=0;S<c;S++)R=l[M+(S<<1)],G=D(l,M+(S<<1))==F?0:255,_[K+S]=G<<24|R<<16|R<<8|R}return v}function i(l,c,s,d){const g=a(l),h=Math.ceil(s*g/8),y=new Uint8Array((h+1+l.interlace)*d);return c=l.tabs.CgBI?r(c,y):n(c,y),l.interlace==0?c=u(c,l,0,s,d):l.interlace==1&&(c=function(_,E){const A=E.width,D=E.height,C=a(E),N=C>>3,F=Math.ceil(A*C/8),x=new Uint8Array(D*F);let T=0;const L=[0,0,4,0,2,0,1],O=[0,4,0,2,0,1,0],k=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let R=0;for(;R<7;){const S=k[R],G=p[R];let M=0,K=0,z=L[R];for(;z<D;)z+=S,K++;let $=O[R];for(;$<A;)$+=G,M++;const X=Math.ceil(M*C/8);u(_,E,T,M,K);let W=0,U=L[R];for(;U<D;){let ne=O[R],me=T+W*X<<3;for(;ne<A;){var B;if(C==1&&(B=(B=_[me>>3])>>7-(7&me)&1,x[U*F+(ne>>3)]|=B<<7-((7&ne)<<0)),C==2&&(B=(B=_[me>>3])>>6-(7&me)&3,x[U*F+(ne>>2)]|=B<<6-((3&ne)<<1)),C==4&&(B=(B=_[me>>3])>>4-(7&me)&15,x[U*F+(ne>>1)]|=B<<4-((1&ne)<<2)),C>=8){const ae=U*F+ne*N;for(let oe=0;oe<N;oe++)x[ae+oe]=_[(me>>3)+oe]}me+=C,ne+=G}W++,U+=S}M*K!=0&&(T+=K*(1+X)),R+=1}return x}(c,l)),c}function n(l,c){return r(new Uint8Array(l.buffer,2,l.length-6),c)}var r=function(){const l={H:{}};return l.H.N=function(c,s){const d=Uint8Array;let g,h,y=0,v=0,_=0,E=0,A=0,D=0,C=0,N=0,F=0;if(c[0]==3&&c[1]==0)return s||new d(0);const x=l.H,T=x.b,L=x.e,O=x.R,k=x.n,p=x.A,R=x.Z,B=x.m,S=s==null;for(S&&(s=new d(c.length>>>2<<5));y==0;)if(y=T(c,F,1),v=T(c,F+1,2),F+=3,v!=0){if(S&&(s=l.H.W(s,N+(1<<17))),v==1&&(g=B.J,h=B.h,D=511,C=31),v==2){_=L(c,F,5)+257,E=L(c,F+5,5)+1,A=L(c,F+10,4)+4,F+=14;let M=1;for(var G=0;G<38;G+=2)B.Q[G]=0,B.Q[G+1]=0;for(G=0;G<A;G++){const $=L(c,F+3*G,3);B.Q[1+(B.X[G]<<1)]=$,$>M&&(M=$)}F+=3*A,k(B.Q,M),p(B.Q,M,B.u),g=B.w,h=B.d,F=O(B.u,(1<<M)-1,_+E,c,F,B.v);const K=x.V(B.v,0,_,B.C);D=(1<<K)-1;const z=x.V(B.v,_,E,B.D);C=(1<<z)-1,k(B.C,K),p(B.C,K,g),k(B.D,z),p(B.D,z,h)}for(;;){const M=g[R(c,F)&D];F+=15&M;const K=M>>>4;if(K>>>8==0)s[N++]=K;else{if(K==256)break;{let z=N+K-254;if(K>264){const ne=B.q[K-257];z=N+(ne>>>3)+L(c,F,7&ne),F+=7&ne}const $=h[R(c,F)&C];F+=15&$;const X=$>>>4,W=B.c[X],U=(W>>>4)+T(c,F,15&W);for(F+=15&W;N<z;)s[N]=s[N++-U],s[N]=s[N++-U],s[N]=s[N++-U],s[N]=s[N++-U];N=z}}}}else{(7&F)!=0&&(F+=8-(7&F));const M=4+(F>>>3),K=c[M-4]|c[M-3]<<8;S&&(s=l.H.W(s,N+K)),s.set(new d(c.buffer,c.byteOffset+M,K),N),F=M+K<<3,N+=K}return s.length==N?s:s.slice(0,N)},l.H.W=function(c,s){const d=c.length;if(s<=d)return c;const g=new Uint8Array(d<<1);return g.set(c,0),g},l.H.R=function(c,s,d,g,h,y){const v=l.H.e,_=l.H.Z;let E=0;for(;E<d;){const A=c[_(g,h)&s];h+=15&A;const D=A>>>4;if(D<=15)y[E]=D,E++;else{let C=0,N=0;D==16?(N=3+v(g,h,2),h+=2,C=y[E-1]):D==17?(N=3+v(g,h,3),h+=3):D==18&&(N=11+v(g,h,7),h+=7);const F=E+N;for(;E<F;)y[E]=C,E++}}return h},l.H.V=function(c,s,d,g){let h=0,y=0;const v=g.length>>>1;for(;y<d;){const _=c[y+s];g[y<<1]=0,g[1+(y<<1)]=_,_>h&&(h=_),y++}for(;y<v;)g[y<<1]=0,g[1+(y<<1)]=0,y++;return h},l.H.n=function(c,s){const d=l.H.m,g=c.length;let h,y,v,_;const E=d.j;for(var A=0;A<=s;A++)E[A]=0;for(A=1;A<g;A+=2)E[c[A]]++;const D=d.K;for(h=0,E[0]=0,y=1;y<=s;y++)h=h+E[y-1]<<1,D[y]=h;for(v=0;v<g;v+=2)_=c[v+1],_!=0&&(c[v]=D[_],D[_]++)},l.H.A=function(c,s,d){const g=c.length,h=l.H.m.r;for(let y=0;y<g;y+=2)if(c[y+1]!=0){const v=y>>1,_=c[y+1],E=v<<4|_,A=s-_;let D=c[y]<<A;const C=D+(1<<A);for(;D!=C;)d[h[D]>>>15-s]=E,D++}},l.H.l=function(c,s){const d=l.H.m.r,g=15-s;for(let h=0;h<c.length;h+=2){const y=c[h]<<s-c[h+1];c[h]=d[y]>>>g}},l.H.M=function(c,s,d){d<<=7&s;const g=s>>>3;c[g]|=d,c[g+1]|=d>>>8},l.H.I=function(c,s,d){d<<=7&s;const g=s>>>3;c[g]|=d,c[g+1]|=d>>>8,c[g+2]|=d>>>16},l.H.e=function(c,s,d){return(c[s>>>3]|c[1+(s>>>3)]<<8)>>>(7&s)&(1<<d)-1},l.H.b=function(c,s,d){return(c[s>>>3]|c[1+(s>>>3)]<<8|c[2+(s>>>3)]<<16)>>>(7&s)&(1<<d)-1},l.H.Z=function(c,s){return(c[s>>>3]|c[1+(s>>>3)]<<8|c[2+(s>>>3)]<<16)>>>(7&s)},l.H.i=function(c,s){return(c[s>>>3]|c[1+(s>>>3)]<<8|c[2+(s>>>3)]<<16|c[3+(s>>>3)]<<24)>>>(7&s)},l.H.m=function(){const c=Uint16Array,s=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new s(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new s(286),Y:new s(30),a:new s(19),t:new s(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=l.H.m;for(var s=0;s<32768;s++){let g=s;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,c.r[s]=(g>>>16|g<<16)>>>17}function d(g,h,y){for(;h--!=0;)g.push(0,y)}for(s=0;s<32;s++)c.q[s]=c.S[s]<<3|c.T[s],c.c[s]=c.p[s]<<4|c.z[s];d(c._,144,8),d(c._,112,9),d(c._,24,7),d(c._,8,8),l.H.n(c._,9),l.H.A(c._,9,c.J),l.H.l(c._,9),d(c.$,32,5),l.H.n(c.$,5),l.H.A(c.$,5,c.h),l.H.l(c.$,5),d(c.Q,19,0),d(c.C,286,0),d(c.D,30,0),d(c.v,320,0)}(),l.H.N}();function a(l){return[1,null,3,1,2,null,4][l.ctype]*l.depth}function u(l,c,s,d,g){let h=a(c);const y=Math.ceil(d*h/8);let v,_;h=Math.ceil(h/8);let E=l[s],A=0;if(E>1&&(l[s]=[0,0,1][E-2]),E==3)for(A=h;A<y;A++)l[A+1]=l[A+1]+(l[A+1-h]>>>1)&255;for(let D=0;D<g;D++)if(v=s+D*y,_=v+D+1,E=l[_-1],A=0,E==0)for(;A<y;A++)l[v+A]=l[_+A];else if(E==1){for(;A<h;A++)l[v+A]=l[_+A];for(;A<y;A++)l[v+A]=l[_+A]+l[v+A-h]}else if(E==2)for(;A<y;A++)l[v+A]=l[_+A]+l[v+A-y];else if(E==3){for(;A<h;A++)l[v+A]=l[_+A]+(l[v+A-y]>>>1);for(;A<y;A++)l[v+A]=l[_+A]+(l[v+A-y]+l[v+A-h]>>>1)}else{for(;A<h;A++)l[v+A]=l[_+A]+o(0,l[v+A-y],0);for(;A<y;A++)l[v+A]=l[_+A]+o(l[v+A-h],l[v+A-y],l[v+A-h-y])}return l}function o(l,c,s){const d=l+c-s,g=d-l,h=d-c,y=d-s;return g*g<=h*h&&g*g<=y*y?l:h*h<=y*y?c:s}function f(l,c,s){s.width=t.readUint(l,c),c+=4,s.height=t.readUint(l,c),c+=4,s.depth=l[c],c++,s.ctype=l[c],c++,s.compress=l[c],c++,s.filter=l[c],c++,s.interlace=l[c],c++}function m(l,c,s,d,g,h,y,v,_){const E=Math.min(c,g),A=Math.min(s,h);let D=0,C=0;for(let R=0;R<A;R++)for(let B=0;B<E;B++)if(y>=0&&v>=0?(D=R*c+B<<2,C=(v+R)*g+y+B<<2):(D=(-v+R)*c-y+B<<2,C=R*g+B<<2),_==0)d[C]=l[D],d[C+1]=l[D+1],d[C+2]=l[D+2],d[C+3]=l[D+3];else if(_==1){var N=l[D+3]*(1/255),F=l[D]*N,x=l[D+1]*N,T=l[D+2]*N,L=d[C+3]*(1/255),O=d[C]*L,k=d[C+1]*L,p=d[C+2]*L;const S=1-N,G=N+L*S,M=G==0?0:1/G;d[C+3]=255*G,d[C+0]=(F+O*S)*M,d[C+1]=(x+k*S)*M,d[C+2]=(T+p*S)*M}else if(_==2)N=l[D+3],F=l[D],x=l[D+1],T=l[D+2],L=d[C+3],O=d[C],k=d[C+1],p=d[C+2],N==L&&F==O&&x==k&&T==p?(d[C]=0,d[C+1]=0,d[C+2]=0,d[C+3]=0):(d[C]=F,d[C+1]=x,d[C+2]=T,d[C+3]=N);else if(_==3){if(N=l[D+3],F=l[D],x=l[D+1],T=l[D+2],L=d[C+3],O=d[C],k=d[C+1],p=d[C+2],N==L&&F==O&&x==k&&T==p)continue;if(N<220&&L>20)return!1}return!0}return{decode:function(c){const s=new Uint8Array(c);let d=8;const g=t,h=g.readUshort,y=g.readUint,v={tabs:{},frames:[]},_=new Uint8Array(s.length);let E,A=0,D=0;const C=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(s[N]!=C[N])throw"The input is not a PNG file!";for(;d<s.length;){const R=g.readUint(s,d);d+=4;const B=g.readASCII(s,d,4);if(d+=4,B=="IHDR")f(s,d,v);else if(B=="iCCP"){for(var F=d;s[F]!=0;)F++;g.readASCII(s,d,F-d),s[F+1];const S=s.slice(F+2,d+R);let G=null;try{G=n(S)}catch{G=r(S)}v.tabs[B]=G}else if(B=="CgBI")v.tabs[B]=s.slice(d,d+4);else if(B=="IDAT"){for(N=0;N<R;N++)_[A+N]=s[d+N];A+=R}else if(B=="acTL")v.tabs[B]={num_frames:y(s,d),num_plays:y(s,d+4)},E=new Uint8Array(s.length);else if(B=="fcTL"){D!=0&&((p=v.frames[v.frames.length-1]).data=i(v,E.slice(0,D),p.rect.width,p.rect.height),D=0);const S={x:y(s,d+12),y:y(s,d+16),width:y(s,d+4),height:y(s,d+8)};let G=h(s,d+22);G=h(s,d+20)/(G==0?100:G);const M={rect:S,delay:Math.round(1e3*G),dispose:s[d+24],blend:s[d+25]};v.frames.push(M)}else if(B=="fdAT"){for(N=0;N<R-4;N++)E[D+N]=s[d+N+4];D+=R-4}else if(B=="pHYs")v.tabs[B]=[g.readUint(s,d),g.readUint(s,d+4),s[d+8]];else if(B=="cHRM")for(v.tabs[B]=[],N=0;N<8;N++)v.tabs[B].push(g.readUint(s,d+4*N));else if(B=="tEXt"||B=="zTXt"){v.tabs[B]==null&&(v.tabs[B]={});var x=g.nextZero(s,d),T=g.readASCII(s,d,x-d),L=d+R-x-1;if(B=="tEXt")k=g.readASCII(s,x+1,L);else{var O=n(s.slice(x+2,x+2+L));k=g.readUTF8(O,0,O.length)}v.tabs[B][T]=k}else if(B=="iTXt"){v.tabs[B]==null&&(v.tabs[B]={}),x=0,F=d,x=g.nextZero(s,F),T=g.readASCII(s,F,x-F);const S=s[F=x+1];var k;s[F+1],F+=2,x=g.nextZero(s,F),g.readASCII(s,F,x-F),F=x+1,x=g.nextZero(s,F),g.readUTF8(s,F,x-F),L=R-((F=x+1)-d),S==0?k=g.readUTF8(s,F,L):(O=n(s.slice(F,F+L)),k=g.readUTF8(O,0,O.length)),v.tabs[B][T]=k}else if(B=="PLTE")v.tabs[B]=g.readBytes(s,d,R);else if(B=="hIST"){const S=v.tabs.PLTE.length/3;for(v.tabs[B]=[],N=0;N<S;N++)v.tabs[B].push(h(s,d+2*N))}else if(B=="tRNS")v.ctype==3?v.tabs[B]=g.readBytes(s,d,R):v.ctype==0?v.tabs[B]=h(s,d):v.ctype==2&&(v.tabs[B]=[h(s,d),h(s,d+2),h(s,d+4)]);else if(B=="gAMA")v.tabs[B]=g.readUint(s,d)/1e5;else if(B=="sRGB")v.tabs[B]=s[d];else if(B=="bKGD")v.ctype==0||v.ctype==4?v.tabs[B]=[h(s,d)]:v.ctype==2||v.ctype==6?v.tabs[B]=[h(s,d),h(s,d+2),h(s,d+4)]:v.ctype==3&&(v.tabs[B]=s[d]);else if(B=="IEND")break;d+=R,g.readUint(s,d),d+=4}var p;return D!=0&&((p=v.frames[v.frames.length-1]).data=i(v,E.slice(0,D),p.rect.width,p.rect.height)),v.data=i(v,_,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(c){const s=c.width,d=c.height;if(c.tabs.acTL==null)return[e(c.data,s,d,c).buffer];const g=[];c.frames[0].data==null&&(c.frames[0].data=c.data);const h=s*d*4,y=new Uint8Array(h),v=new Uint8Array(h),_=new Uint8Array(h);for(let A=0;A<c.frames.length;A++){const D=c.frames[A],C=D.rect.x,N=D.rect.y,F=D.rect.width,x=D.rect.height,T=e(D.data,F,x,c);if(A!=0)for(var E=0;E<h;E++)_[E]=y[E];if(D.blend==0?m(T,F,x,y,s,d,C,N,0):D.blend==1&&m(T,F,x,y,s,d,C,N,1),g.push(y.buffer.slice(0)),D.dispose!=0){if(D.dispose==1)m(v,F,x,y,s,d,C,N,0);else if(D.dispose==2)for(E=0;E<h;E++)y[E]=_[E]}}return g},_paeth:o,_copyTile:m,_bin:t}}();(function(){const{_copyTile:t}=it,{_bin:e}=it,i=it._paeth;var n={table:function(){const F=new Uint32Array(256);for(let x=0;x<256;x++){let T=x;for(let L=0;L<8;L++)1&T?T=3988292384^T>>>1:T>>>=1;F[x]=T}return F}(),update(F,x,T,L){for(let O=0;O<L;O++)F=n.table[255&(F^x[T+O])]^F>>>8;return F},crc:(F,x,T)=>4294967295^n.update(4294967295,F,x,T)};function r(F,x,T,L){x[T]+=F[0]*L>>4,x[T+1]+=F[1]*L>>4,x[T+2]+=F[2]*L>>4,x[T+3]+=F[3]*L>>4}function a(F){return Math.max(0,Math.min(255,F))}function u(F,x){const T=F[0]-x[0],L=F[1]-x[1],O=F[2]-x[2],k=F[3]-x[3];return T*T+L*L+O*O+k*k}function o(F,x,T,L,O,k,p){p==null&&(p=1);const R=L.length,B=[];for(var S=0;S<R;S++){const U=L[S];B.push([U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255])}for(S=0;S<R;S++){let U=4294967295;for(var G=0,M=0;M<R;M++){var K=u(B[S],B[M]);M!=S&&K<U&&(U=K,G=M)}}const z=new Uint32Array(O.buffer),$=new Int16Array(x*T*4),X=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(S=0;S<X.length;S++)X[S]=255*((X[S]+.5)/16-.5);for(let U=0;U<T;U++)for(let ne=0;ne<x;ne++){var W;S=4*(U*x+ne),p!=2?W=[a(F[S]+$[S]),a(F[S+1]+$[S+1]),a(F[S+2]+$[S+2]),a(F[S+3]+$[S+3])]:(K=X[4*(3&U)+(3&ne)],W=[a(F[S]+K),a(F[S+1]+K),a(F[S+2]+K),a(F[S+3]+K)]),G=0;let me=16777215;for(M=0;M<R;M++){const pe=u(W,B[M]);pe<me&&(me=pe,G=M)}const ae=B[G],oe=[W[0]-ae[0],W[1]-ae[1],W[2]-ae[2],W[3]-ae[3]];p==1&&(ne!=x-1&&r(oe,$,S+4,7),U!=T-1&&(ne!=0&&r(oe,$,S+4*x-4,3),r(oe,$,S+4*x,5),ne!=x-1&&r(oe,$,S+4*x+4,1))),k[S>>2]=G,z[S>>2]=L[G]}}function f(F,x,T,L,O){O==null&&(O={});const{crc:k}=n,p=e.writeUint,R=e.writeUshort,B=e.writeASCII;let S=8;const G=F.frames.length>1;let M,K=!1,z=33+(G?20:0);if(O.sRGB!=null&&(z+=13),O.pHYs!=null&&(z+=21),O.iCCP!=null&&(M=pako.deflate(O.iCCP),z+=21+M.length+4),F.ctype==3){for(var $=F.plte.length,X=0;X<$;X++)F.plte[X]>>>24!=255&&(K=!0);z+=8+3*$+4+(K?8+1*$+4:0)}for(var W=0;W<F.frames.length;W++)G&&(z+=38),z+=(ae=F.frames[W]).cimg.length+12,W!=0&&(z+=4);z+=12;const U=new Uint8Array(z),ne=[137,80,78,71,13,10,26,10];for(X=0;X<8;X++)U[X]=ne[X];if(p(U,S,13),S+=4,B(U,S,"IHDR"),S+=4,p(U,S,x),S+=4,p(U,S,T),S+=4,U[S]=F.depth,S++,U[S]=F.ctype,S++,U[S]=0,S++,U[S]=0,S++,U[S]=0,S++,p(U,S,k(U,S-17,17)),S+=4,O.sRGB!=null&&(p(U,S,1),S+=4,B(U,S,"sRGB"),S+=4,U[S]=O.sRGB,S++,p(U,S,k(U,S-5,5)),S+=4),O.iCCP!=null){const oe=13+M.length;p(U,S,oe),S+=4,B(U,S,"iCCP"),S+=4,B(U,S,"ICC profile"),S+=11,S+=2,U.set(M,S),S+=M.length,p(U,S,k(U,S-(oe+4),oe+4)),S+=4}if(O.pHYs!=null&&(p(U,S,9),S+=4,B(U,S,"pHYs"),S+=4,p(U,S,O.pHYs[0]),S+=4,p(U,S,O.pHYs[1]),S+=4,U[S]=O.pHYs[2],S++,p(U,S,k(U,S-13,13)),S+=4),G&&(p(U,S,8),S+=4,B(U,S,"acTL"),S+=4,p(U,S,F.frames.length),S+=4,p(U,S,O.loop!=null?O.loop:0),S+=4,p(U,S,k(U,S-12,12)),S+=4),F.ctype==3){for(p(U,S,3*($=F.plte.length)),S+=4,B(U,S,"PLTE"),S+=4,X=0;X<$;X++){const oe=3*X,pe=F.plte[X],le=255&pe,ge=pe>>>8&255,Se=pe>>>16&255;U[S+oe+0]=le,U[S+oe+1]=ge,U[S+oe+2]=Se}if(S+=3*$,p(U,S,k(U,S-3*$-4,3*$+4)),S+=4,K){for(p(U,S,$),S+=4,B(U,S,"tRNS"),S+=4,X=0;X<$;X++)U[S+X]=F.plte[X]>>>24&255;S+=$,p(U,S,k(U,S-$-4,$+4)),S+=4}}let me=0;for(W=0;W<F.frames.length;W++){var ae=F.frames[W];G&&(p(U,S,26),S+=4,B(U,S,"fcTL"),S+=4,p(U,S,me++),S+=4,p(U,S,ae.rect.width),S+=4,p(U,S,ae.rect.height),S+=4,p(U,S,ae.rect.x),S+=4,p(U,S,ae.rect.y),S+=4,R(U,S,L[W]),S+=2,R(U,S,1e3),S+=2,U[S]=ae.dispose,S++,U[S]=ae.blend,S++,p(U,S,k(U,S-30,30)),S+=4);const oe=ae.cimg;p(U,S,($=oe.length)+(W==0?0:4)),S+=4;const pe=S;B(U,S,W==0?"IDAT":"fdAT"),S+=4,W!=0&&(p(U,S,me++),S+=4),U.set(oe,S),S+=$,p(U,S,k(U,pe,S-pe)),S+=4}return p(U,S,0),S+=4,B(U,S,"IEND"),S+=4,p(U,S,k(U,S-4,4)),S+=4,U.buffer}function m(F,x,T){for(let L=0;L<F.frames.length;L++){const O=F.frames[L];O.rect.width;const k=O.rect.height,p=new Uint8Array(k*O.bpl+k);O.cimg=d(O.img,k,O.bpp,O.bpl,p,x,T)}}function l(F,x,T,L,O){const k=O[0],p=O[1],R=O[2],B=O[3],S=O[4],G=O[5];let M=6,K=8,z=255;for(var $=0;$<F.length;$++){const V=new Uint8Array(F[$]);for(var X=V.length,W=0;W<X;W+=4)z&=V[W+3]}const U=z!=255,ne=function(I,P,j,Q,Y,H){const J=[];for(var re=0;re<I.length;re++){const De=new Uint8Array(I[re]),Ae=new Uint32Array(De.buffer);var ee;let Re=0,_e=0,Ue=P,nt=j,Ke=Q?1:0;if(re!=0){const or=H||Q||re==1||J[re-2].dispose!=0?1:2;let Gt=0,ur=1e9;for(let bt=0;bt<or;bt++){var ce=new Uint8Array(I[re-1-bt]);const sr=new Uint32Array(I[re-1-bt]);let je=P,qe=j,It=-1,Vt=-1;for(let _t=0;_t<j;_t++)for(let Et=0;Et<P;Et++)Ae[de=_t*P+Et]!=sr[de]&&(Et<je&&(je=Et),Et>It&&(It=Et),_t<qe&&(qe=_t),_t>Vt&&(Vt=_t));It==-1&&(je=qe=It=Vt=0),Y&&((1&je)==1&&je--,(1&qe)==1&&qe--);const ri=(It-je+1)*(Vt-qe+1);ri<ur&&(ur=ri,Gt=bt,Re=je,_e=qe,Ue=It-je+1,nt=Vt-qe+1)}ce=new Uint8Array(I[re-1-Gt]),Gt==1&&(J[re-1].dispose=2),ee=new Uint8Array(Ue*nt*4),t(ce,P,j,ee,Ue,nt,-Re,-_e,0),Ke=t(De,P,j,ee,Ue,nt,-Re,-_e,3)?1:0,Ke==1?s(De,P,j,ee,{x:Re,y:_e,width:Ue,height:nt}):t(De,P,j,ee,Ue,nt,-Re,-_e,0)}else ee=De.slice(0);J.push({rect:{x:Re,y:_e,width:Ue,height:nt},img:ee,blend:Ke,dispose:0})}if(Q)for(re=0;re<J.length;re++){if((Ie=J[re]).blend==1)continue;const De=Ie.rect,Ae=J[re-1].rect,Re=Math.min(De.x,Ae.x),_e=Math.min(De.y,Ae.y),Ue={x:Re,y:_e,width:Math.max(De.x+De.width,Ae.x+Ae.width)-Re,height:Math.max(De.y+De.height,Ae.y+Ae.height)-_e};J[re-1].dispose=1,re-1!=0&&c(I,P,j,J,re-1,Ue,Y),c(I,P,j,J,re,Ue,Y)}let be=0;if(I.length!=1)for(var de=0;de<J.length;de++){var Ie;be+=(Ie=J[de]).rect.width*Ie.rect.height}return J}(F,x,T,k,p,R),me={},ae=[],oe=[];if(L!=0){const V=[];for(W=0;W<ne.length;W++)V.push(ne[W].img.buffer);const I=function(Y){let H=0;for(var J=0;J<Y.length;J++)H+=Y[J].byteLength;const re=new Uint8Array(H);let ee=0;for(J=0;J<Y.length;J++){const ce=new Uint8Array(Y[J]),be=ce.length;for(let de=0;de<be;de+=4){let Ie=ce[de],De=ce[de+1],Ae=ce[de+2];const Re=ce[de+3];Re==0&&(Ie=De=Ae=0),re[ee+de]=Ie,re[ee+de+1]=De,re[ee+de+2]=Ae,re[ee+de+3]=Re}ee+=be}return re.buffer}(V),P=h(I,L);for(W=0;W<P.plte.length;W++)ae.push(P.plte[W].est.rgba);let j=0;for(W=0;W<ne.length;W++){const Q=(le=ne[W]).img.length;var pe=new Uint8Array(P.inds.buffer,j>>2,Q>>2);oe.push(pe);const Y=new Uint8Array(P.abuf,j,Q);G&&o(le.img,le.rect.width,le.rect.height,ae,Y,pe),le.img.set(Y),j+=Q}}else for($=0;$<ne.length;$++){var le=ne[$];const V=new Uint32Array(le.img.buffer);var ge=le.rect.width;for(X=V.length,pe=new Uint8Array(X),oe.push(pe),W=0;W<X;W++){const I=V[W];if(W!=0&&I==V[W-1])pe[W]=pe[W-1];else if(W>ge&&I==V[W-ge])pe[W]=pe[W-ge];else{let P=me[I];if(P==null&&(me[I]=P=ae.length,ae.push(I),ae.length>=300))break;pe[W]=P}}}const Se=ae.length;for(Se<=256&&S==0&&(K=Se<=2?1:Se<=4?2:Se<=16?4:8,K=Math.max(K,B)),$=0;$<ne.length;$++){(le=ne[$]).rect.x,le.rect.y,ge=le.rect.width;const V=le.rect.height;let I=le.img;new Uint32Array(I.buffer);let P=4*ge,j=4;if(Se<=256&&S==0){P=Math.ceil(K*ge/8);var b=new Uint8Array(P*V);const Q=oe[$];for(let Y=0;Y<V;Y++){W=Y*P;const H=Y*ge;if(K==8)for(var Z=0;Z<ge;Z++)b[W+Z]=Q[H+Z];else if(K==4)for(Z=0;Z<ge;Z++)b[W+(Z>>1)]|=Q[H+Z]<<4-4*(1&Z);else if(K==2)for(Z=0;Z<ge;Z++)b[W+(Z>>2)]|=Q[H+Z]<<6-2*(3&Z);else if(K==1)for(Z=0;Z<ge;Z++)b[W+(Z>>3)]|=Q[H+Z]<<7-1*(7&Z)}I=b,M=3,j=1}else if(U==0&&ne.length==1){b=new Uint8Array(ge*V*3);const Q=ge*V;for(W=0;W<Q;W++){const Y=3*W,H=4*W;b[Y]=I[H],b[Y+1]=I[H+1],b[Y+2]=I[H+2]}I=b,M=2,j=3,P=3*ge}le.img=I,le.bpl=P,le.bpp=j}return{ctype:M,depth:K,plte:ae,frames:ne}}function c(F,x,T,L,O,k,p){const R=Uint8Array,B=Uint32Array,S=new R(F[O-1]),G=new B(F[O-1]),M=O+1<F.length?new R(F[O+1]):null,K=new R(F[O]),z=new B(K.buffer);let $=x,X=T,W=-1,U=-1;for(let me=0;me<k.height;me++)for(let ae=0;ae<k.width;ae++){const oe=k.x+ae,pe=k.y+me,le=pe*x+oe,ge=z[le];ge==0||L[O-1].dispose==0&&G[le]==ge&&(M==null||M[4*le+3]!=0)||(oe<$&&($=oe),oe>W&&(W=oe),pe<X&&(X=pe),pe>U&&(U=pe))}W==-1&&($=X=W=U=0),p&&((1&$)==1&&$--,(1&X)==1&&X--),k={x:$,y:X,width:W-$+1,height:U-X+1};const ne=L[O];ne.rect=k,ne.blend=1,ne.img=new Uint8Array(k.width*k.height*4),L[O-1].dispose==0?(t(S,x,T,ne.img,k.width,k.height,-k.x,-k.y,0),s(K,x,T,ne.img,k)):t(K,x,T,ne.img,k.width,k.height,-k.x,-k.y,0)}function s(F,x,T,L,O){t(F,x,T,L,O.width,O.height,-O.x,-O.y,2)}function d(F,x,T,L,O,k,p){const R=[];let B,S=[0,1,2,3,4];k!=-1?S=[k]:(x*L>5e5||T==1)&&(S=[0]),p&&(B={level:0});const G=Du;for(var M=0;M<S.length;M++){for(let $=0;$<x;$++)g(O,F,$,L,T,S[M]);R.push(G.deflate(O,B))}let K,z=1e9;for(M=0;M<R.length;M++)R[M].length<z&&(K=M,z=R[M].length);return R[K]}function g(F,x,T,L,O,k){const p=T*L;let R=p+T;if(F[R]=k,R++,k==0)if(L<500)for(var B=0;B<L;B++)F[R+B]=x[p+B];else F.set(new Uint8Array(x.buffer,p,L),R);else if(k==1){for(B=0;B<O;B++)F[R+B]=x[p+B];for(B=O;B<L;B++)F[R+B]=x[p+B]-x[p+B-O]+256&255}else if(T==0){for(B=0;B<O;B++)F[R+B]=x[p+B];if(k==2)for(B=O;B<L;B++)F[R+B]=x[p+B];if(k==3)for(B=O;B<L;B++)F[R+B]=x[p+B]-(x[p+B-O]>>1)+256&255;if(k==4)for(B=O;B<L;B++)F[R+B]=x[p+B]-i(x[p+B-O],0,0)+256&255}else{if(k==2)for(B=0;B<L;B++)F[R+B]=x[p+B]+256-x[p+B-L]&255;if(k==3){for(B=0;B<O;B++)F[R+B]=x[p+B]+256-(x[p+B-L]>>1)&255;for(B=O;B<L;B++)F[R+B]=x[p+B]+256-(x[p+B-L]+x[p+B-O]>>1)&255}if(k==4){for(B=0;B<O;B++)F[R+B]=x[p+B]+256-i(0,x[p+B-L],0)&255;for(B=O;B<L;B++)F[R+B]=x[p+B]+256-i(x[p+B-O],x[p+B-L],x[p+B-O-L])&255}}}function h(F,x){const T=new Uint8Array(F),L=T.slice(0),O=new Uint32Array(L.buffer),k=y(L,x),p=k[0],R=k[1],B=T.length,S=new Uint8Array(B>>2);let G;if(T.length<2e7)for(var M=0;M<B;M+=4)G=v(p,K=T[M]*(1/255),z=T[M+1]*(1/255),$=T[M+2]*(1/255),X=T[M+3]*(1/255)),S[M>>2]=G.ind,O[M>>2]=G.est.rgba;else for(M=0;M<B;M+=4){var K=T[M]*(1/255),z=T[M+1]*(1/255),$=T[M+2]*(1/255),X=T[M+3]*(1/255);for(G=p;G.left;)G=_(G.est,K,z,$,X)<=0?G.left:G.right;S[M>>2]=G.ind,O[M>>2]=G.est.rgba}return{abuf:L.buffer,inds:S,plte:R}}function y(F,x,T){T==null&&(T=1e-4);const L=new Uint32Array(F.buffer),O={i0:0,i1:F.length,bst:null,est:null,tdst:0,left:null,right:null};O.bst=D(F,O.i0,O.i1),O.est=C(O.bst);const k=[O];for(;k.length<x;){let R=0,B=0;for(var p=0;p<k.length;p++)k[p].est.L>R&&(R=k[p].est.L,B=p);if(R<T)break;const S=k[B],G=E(F,L,S.i0,S.i1,S.est.e,S.est.eMq255);if(S.i0>=G||S.i1<=G){S.est.L=0;continue}const M={i0:S.i0,i1:G,bst:null,est:null,tdst:0,left:null,right:null};M.bst=D(F,M.i0,M.i1),M.est=C(M.bst);const K={i0:G,i1:S.i1,bst:null,est:null,tdst:0,left:null,right:null};for(K.bst={R:[],m:[],N:S.bst.N-M.bst.N},p=0;p<16;p++)K.bst.R[p]=S.bst.R[p]-M.bst.R[p];for(p=0;p<4;p++)K.bst.m[p]=S.bst.m[p]-M.bst.m[p];K.est=C(K.bst),S.left=M,S.right=K,k[B]=M,k.push(K)}for(k.sort((R,B)=>B.bst.N-R.bst.N),p=0;p<k.length;p++)k[p].ind=p;return[O,k]}function v(F,x,T,L,O){if(F.left==null)return F.tdst=function(M,K,z,$,X){const W=K-M[0],U=z-M[1],ne=$-M[2],me=X-M[3];return W*W+U*U+ne*ne+me*me}(F.est.q,x,T,L,O),F;const k=_(F.est,x,T,L,O);let p=F.left,R=F.right;k>0&&(p=F.right,R=F.left);const B=v(p,x,T,L,O);if(B.tdst<=k*k)return B;const S=v(R,x,T,L,O);return S.tdst<B.tdst?S:B}function _(F,x,T,L,O){const{e:k}=F;return k[0]*x+k[1]*T+k[2]*L+k[3]*O-F.eMq}function E(F,x,T,L,O,k){for(L-=4;T<L;){for(;A(F,T,O)<=k;)T+=4;for(;A(F,L,O)>k;)L-=4;if(T>=L)break;const p=x[T>>2];x[T>>2]=x[L>>2],x[L>>2]=p,T+=4,L-=4}for(;A(F,T,O)>k;)T-=4;return T+4}function A(F,x,T){return F[x]*T[0]+F[x+1]*T[1]+F[x+2]*T[2]+F[x+3]*T[3]}function D(F,x,T){const L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O=[0,0,0,0],k=T-x>>2;for(let p=x;p<T;p+=4){const R=F[p]*(1/255),B=F[p+1]*(1/255),S=F[p+2]*(1/255),G=F[p+3]*(1/255);O[0]+=R,O[1]+=B,O[2]+=S,O[3]+=G,L[0]+=R*R,L[1]+=R*B,L[2]+=R*S,L[3]+=R*G,L[5]+=B*B,L[6]+=B*S,L[7]+=B*G,L[10]+=S*S,L[11]+=S*G,L[15]+=G*G}return L[4]=L[1],L[8]=L[2],L[9]=L[6],L[12]=L[3],L[13]=L[7],L[14]=L[11],{R:L,m:O,N:k}}function C(F){const{R:x}=F,{m:T}=F,{N:L}=F,O=T[0],k=T[1],p=T[2],R=T[3],B=L==0?0:1/L,S=[x[0]-O*O*B,x[1]-O*k*B,x[2]-O*p*B,x[3]-O*R*B,x[4]-k*O*B,x[5]-k*k*B,x[6]-k*p*B,x[7]-k*R*B,x[8]-p*O*B,x[9]-p*k*B,x[10]-p*p*B,x[11]-p*R*B,x[12]-R*O*B,x[13]-R*k*B,x[14]-R*p*B,x[15]-R*R*B],G=S,M=N;let K=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,$=0;if(L!=0)for(let W=0;W<16&&(K=M.multVec(G,K),$=Math.sqrt(M.dot(K,K)),K=M.sml(1/$,K),!(W!=0&&Math.abs($-z)<1e-9));W++)z=$;const X=[O*B,k*B,p*B,R*B];return{Cov:S,q:X,e:K,L:z,eMq255:M.dot(M.sml(255,X),K),eMq:M.dot(K,X),rgba:(Math.round(255*X[3])<<24|Math.round(255*X[2])<<16|Math.round(255*X[1])<<8|Math.round(255*X[0])<<0)>>>0}}var N={multVec:(F,x)=>[F[0]*x[0]+F[1]*x[1]+F[2]*x[2]+F[3]*x[3],F[4]*x[0]+F[5]*x[1]+F[6]*x[2]+F[7]*x[3],F[8]*x[0]+F[9]*x[1]+F[10]*x[2]+F[11]*x[3],F[12]*x[0]+F[13]*x[1]+F[14]*x[2]+F[15]*x[3]],dot:(F,x)=>F[0]*x[0]+F[1]*x[1]+F[2]*x[2]+F[3]*x[3],sml:(F,x)=>[F*x[0],F*x[1],F*x[2],F*x[3]]};it.encode=function(x,T,L,O,k,p,R){O==null&&(O=0),R==null&&(R=!1);const B=l(x,T,L,O,[!1,!1,!1,0,R,!1]);return m(B,-1),f(B,T,L,k,p)},it.encodeLL=function(x,T,L,O,k,p,R,B){const S={ctype:0+(O==1?0:2)+(k==0?0:4),depth:p,frames:[]},G=(O+k)*p,M=G*T;for(let K=0;K<x.length;K++)S.frames.push({rect:{x:0,y:0,width:T,height:L},img:new Uint8Array(x[K]),blend:0,dispose:1,bpp:Math.ceil(G/8),bpl:Math.ceil(M/8)});return m(S,0,!0),f(S,T,L,R,B)},it.encode.compress=l,it.encode.dither=o,it.quantize=h,it.quantize.getKDtree=y,it.quantize.getNearest=v})();const Wi={toArrayBuffer(t,e){const i=t.width,n=t.height,r=i<<2,a=t.getContext("2d").getImageData(0,0,i,n),u=new Uint32Array(a.data.buffer),o=(32*i+31)/32<<2,f=o*n,m=122+f,l=new ArrayBuffer(m),c=new DataView(l),s=1<<20;let d,g,h,y,v=s,_=0,E=0,A=0;function D(F){c.setUint16(E,F,!0),E+=2}function C(F){c.setUint32(E,F,!0),E+=4}function N(F){E+=F}D(19778),C(m),N(4),C(122),C(108),C(i),C(-n>>>0),D(1),D(32),C(3),C(f),C(2835),C(2835),N(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),function F(){for(;_<n&&v>0;){for(y=122+_*o,d=0;d<r;)v--,g=u[A++],h=g>>>24,c.setUint32(y+d,g<<8|h),d+=4;_++}A<u.length?(v=s,setTimeout(F,Wi._dly)):e(l)}()},toBlob(t,e){this.toArrayBuffer(t,i=>{e(new Blob([i],{type:"image/bmp"}))})},_dly:9};var He={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Bu={[He.CHROME]:16384,[He.FIREFOX]:11180,[He.DESKTOP_SAFARI]:16384,[He.IE]:8192,[He.IOS]:4096,[He.ETC]:8192};const sn=typeof window!="undefined",Gi=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,yr=sn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Pu=(sn||Gi)&&(yr&&yr.getOriginalSymbol(window,"File")||typeof File!="undefined"&&File),Vi=(sn||Gi)&&(yr&&yr.getOriginalSymbol(window,"FileReader")||typeof FileReader!="undefined"&&FileReader);function ln(t,e,i=Date.now()){return new Promise(n=>{const r=t.split(","),a=r[0].match(/:(.*?);/)[1],u=globalThis.atob(r[1]);let o=u.length;const f=new Uint8Array(o);for(;o--;)f[o]=u.charCodeAt(o);const m=new Blob([f],{type:a});m.name=e,m.lastModified=i,n(m)})}function Ki(t){return new Promise((e,i)=>{const n=new Vi;n.onload=()=>e(n.result),n.onerror=r=>i(r),n.readAsDataURL(t)})}function qi(t){return new Promise((e,i)=>{const n=new Image;n.onload=()=>e(n),n.onerror=r=>i(r),n.src=t})}function St(){if(St.cachedResult!==void 0)return St.cachedResult;let t=He.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=He.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=He.IOS:/Safari/i.test(e)?t=He.DESKTOP_SAFARI:/Firefox/i.test(e)?t=He.FIREFOX:(/MSIE/i.test(e)||!!document.documentMode)&&(t=He.IE),St.cachedResult=t,St.cachedResult}function Zi(t,e){const i=St(),n=Bu[i];let r=t,a=e,u=r*a;const o=r>a?a/r:r/a;for(;u>n*n;){const f=(n+r)/2,m=(n+a)/2;f<m?(a=m,r=m*o):(a=f*o,r=f),u=r*a}return{width:r,height:a}}function br(t,e){let i,n;try{if(i=new OffscreenCanvas(t,e),n=i.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),n=i.getContext("2d")}return i.width=t,i.height=e,[i,n]}function Xi(t,e){const{width:i,height:n}=Zi(t.width,t.height),[r,a]=br(i,n);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,r.width,r.height)),a.drawImage(t,0,0,r.width,r.height),r}function _r(){return _r.cachedResult!==void 0||(_r.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document!="undefined"&&"ontouchend"in document),_r.cachedResult}function Er(t,e={}){return new Promise(function(i,n){let r,a;var u=function(){try{return a=Xi(r,e.fileType||t.type),i([r,a])}catch(f){return n(f)}},o=function(f){try{var m=function(l){try{throw l}catch(c){return n(c)}};try{let l;return Ki(t).then(function(c){try{return l=c,qi(l).then(function(s){try{return r=s,function(){try{return u()}catch(d){return n(d)}}()}catch(d){return m(d)}},m)}catch(s){return m(s)}},m)}catch(l){m(l)}}catch(l){return n(l)}};try{if(_r()||[He.DESKTOP_SAFARI,He.MOBILE_SAFARI].includes(St()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(f){try{return r=f,u()}catch{return o()}},o)}catch{o()}})}function wr(t,e,i,n,r=1){return new Promise(function(a,u){let o;if(e==="image/png"){let m,l,c;return m=t.getContext("2d"),{data:l}=m.getImageData(0,0,t.width,t.height),c=it.encode([l.buffer],t.width,t.height,4096*r),o=new Blob([c],{type:e}),o.name=i,o.lastModified=n,f.call(this)}{let m=function(){return f.call(this)};if(e==="image/bmp")return new Promise(l=>Wi.toBlob(t,l)).then(function(l){try{return o=l,o.name=i,o.lastModified=n,m.call(this)}catch(c){return u(c)}}.bind(this),u);{let l=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:r}).then(function(c){try{return o=c,o.name=i,o.lastModified=n,l.call(this)}catch(s){return u(s)}}.bind(this),u);{let c;return c=t.toDataURL(e,r),ln(c,i,n).then(function(s){try{return o=s,l.call(this)}catch(d){return u(d)}}.bind(this),u)}}}function f(){return a(o)}})}function ot(t){t.width=0,t.height=0}function Rt(){return new Promise(function(t,e){let i,n,r,a;return Rt.cachedResult!==void 0?t(Rt.cachedResult):ln("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(u){try{return i=u,Er(i).then(function(o){try{return n=o[1],wr(n,i.type,i.name,i.lastModified).then(function(f){try{return r=f,ot(n),Er(r).then(function(m){try{return a=m[0],Rt.cachedResult=a.width===1&&a.height===2,t(Rt.cachedResult)}catch(l){return e(l)}},e)}catch(m){return e(m)}},e)}catch(f){return e(f)}},e)}catch(o){return e(o)}},e)})}function Qi(t){return new Promise((e,i)=>{const n=new Vi;n.onload=r=>{const a=new DataView(r.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const u=a.byteLength;let o=2;for(;o<u;){if(a.getUint16(o+2,!1)<=8)return e(-1);const f=a.getUint16(o,!1);if(o+=2,f==65505){if(a.getUint32(o+=2,!1)!=1165519206)return e(-1);const m=a.getUint16(o+=6,!1)==18761;o+=a.getUint32(o+4,m);const l=a.getUint16(o,m);o+=2;for(let c=0;c<l;c++)if(a.getUint16(o+12*c,m)==274)return e(a.getUint16(o+12*c+8,m))}else{if((65280&f)!=65280)break;o+=a.getUint16(o,!1)}}return e(-1)},n.onerror=r=>i(r),n.readAsArrayBuffer(t)})}function Yi(t,e){const{width:i}=t,{height:n}=t,{maxWidthOrHeight:r}=e;let a,u=t;return isFinite(r)&&(i>r||n>r)&&([u,a]=br(i,n),i>n?(u.width=r,u.height=n/i*r):(u.width=i/n*r,u.height=r),a.drawImage(t,0,0,u.width,u.height),ot(t)),u}function Ji(t,e){const{width:i}=t,{height:n}=t,[r,a]=br(i,n);switch(e>4&&e<9?(r.width=n,r.height=i):(r.width=i,r.height=n),e){case 2:a.transform(-1,0,0,1,i,0);break;case 3:a.transform(-1,0,0,-1,i,n);break;case 4:a.transform(1,0,0,-1,0,n);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,n,0);break;case 7:a.transform(0,-1,-1,0,n,i);break;case 8:a.transform(0,-1,1,0,0,i)}return a.drawImage(t,0,0,i,n),ot(t),r}function ea(t,e,i=0){return new Promise(function(n,r){let a,u,o,f,m,l,c,s,d,g,h,y,v,_,E,A,D,C,N,F;function x(L=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=L,e.onProgress(Math.min(a,100))}function T(L){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(L,a),100),e.onProgress(a)}return a=i,u=e.maxIteration||10,o=1024*e.maxSizeMB*1024,x(),Er(t,e).then(function(L){try{return[,f]=L,x(),m=Yi(f,e),x(),new Promise(function(O,k){var p;if(!(p=e.exifOrientation))return Qi(t).then(function(B){try{return p=B,R.call(this)}catch(S){return k(S)}}.bind(this),k);function R(){return O(p)}return R.call(this)}).then(function(O){try{return l=O,x(),Rt().then(function(k){try{return c=k?m:Ji(m,l),x(),s=e.initialQuality||1,d=e.fileType||t.type,wr(c,d,t.name,t.lastModified,s).then(function(p){try{{let B=function(){if(u--&&(E>o||E>v)){let G,M;return G=F?.95*N.width:N.width,M=F?.95*N.height:N.height,[D,C]=br(G,M),C.drawImage(N,0,0,G,M),s*=d==="image/png"?.85:.95,wr(D,d,t.name,t.lastModified,s).then(function(K){try{return A=K,ot(N),N=D,E=A.size,T(Math.min(99,Math.floor((_-E)/(_-o)*100))),B}catch(z){return r(z)}},r)}return[1]},S=function(){return ot(N),ot(D),ot(m),ot(c),ot(f),T(100),n(A)};if(g=p,x(),h=g.size>o,y=g.size>t.size,!h&&!y)return T(100),n(g);var R;return v=t.size,_=g.size,E=_,N=c,F=!e.alwaysKeepResolution&&h,(R=function(G){for(;G;){if(G.then)return void G.then(R,r);try{if(G.pop){if(G.length)return G.pop()?S.call(this):G;G=B}else G=G.call(this)}catch(M){return r(M)}}}.bind(this))(B)}}catch(B){return r(B)}}.bind(this),r)}catch(p){return r(p)}}.bind(this),r)}catch(k){return r(k)}}.bind(this),r)}catch(O){return r(O)}}.bind(this),r)})}const Iu=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let cn;function Tu(t,e){return new Promise((i,n)=>{cn||(cn=function(u){const o=[];return typeof u=="function"?o.push(`(${u})()`):o.push(u),URL.createObjectURL(new Blob(o))}(Iu));const r=new Worker(cn);r.addEventListener("message",function(u){if(e.signal&&e.signal.aborted)r.terminate();else if(u.data.progress===void 0){if(u.data.error)return n(new Error(u.data.error)),void r.terminate();i(u.data.file),r.terminate()}else e.onProgress(u.data.progress)}),r.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),r.terminate()}),r.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:ue(q({},e),{onProgress:void 0,signal:void 0})})})}function $e(t,e){return new Promise(function(i,n){let r,a,u,o,f,m;if(r=q({},e),u=0,{onProgress:o}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=d=>{u=d,typeof o=="function"&&o(u)},!(t instanceof Blob||t instanceof Pu))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||m)return ea(t,r).then(function(d){try{return a=d,s.call(this)}catch(g){return n(g)}}.bind(this),n);var l=function(){try{return s.call(this)}catch(d){return n(d)}}.bind(this),c=function(d){try{return ea(t,r).then(function(g){try{return a=g,l()}catch(h){return n(h)}},n)}catch(g){return n(g)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Tu(t,r).then(function(d){try{return a=d,l()}catch{return c()}},c)}catch{c()}function s(){try{a.name=t.name,a.lastModified=t.lastModified}catch{}try{r.preserveExif&&t.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===t.type)&&(a=Hi(t,a))}catch{}return i(a)}})}$e.getDataUrlFromFile=Ki,$e.getFilefromDataUrl=ln,$e.loadImage=qi,$e.drawImageInCanvas=Xi,$e.drawFileInCanvas=Er,$e.canvasToFile=wr,$e.getExifOrientation=Qi,$e.handleMaxWidthOrHeight=Yi,$e.followExifOrientation=Ji,$e.cleanupCanvasMemory=ot,$e.isAutoOrientationInBrowser=Rt,$e.approximateBelowMaximumCanvasSizeOfBrowser=Zi,$e.copyExifWithoutOrientation=Hi,$e.getBrowserName=St,$e.version="2.0.2";var Ru=t=>{const l=t,{value:e,onChange:i,autoCard:n=!1,fileSize:r=2}=l,a=ht(l,["value","onChange","autoCard","fileSize"]),u=Bo(e).filter(Boolean),[o,f]=se.exports.useState(u.map(c=>({uid:c.split("/").pop(),url:c}))),m=`${_i.baseUrl}/api/file/upload`;return w(uo,q({multiple:!1,action:m,fileList:o,imagePreview:!0,accept:"image/*",beforeUpload:async c=>{if(c.size>r*1024*1024){const d=`\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7${r}M`;return Ee.error(d),Promise.reject(new Error(d))}const s={maxSizeMB:1,useWebWorker:!0};try{const d=await $e(c,s);return new File([d],c.name,{type:d.type})}catch(d){return console.error("\u538B\u7F29\u5931\u8D25",d),!1}},onRemove:c=>{f(o.filter(s=>s.url!==c.url))},listType:n?o.length?"picture-card":"text":"picture-card",onChange:c=>{const s=c.map(g=>{var h;return ue(q({},g),{url:g.url||((h=g.response)==null?void 0:h.data)})});f(s);const d=s.map(g=>g.url).filter(Boolean);if(a.limit===1){const g=d[0];i(g)}else i(d)},tip:`\u4EC5\u652F\u6301${r}M\u4EE5\u4E0B`,onProgress:c=>{f(s=>s.map(d=>d.uid===c.uid?c:d))}},a))},xr;(function(t){t.default="default",t.preview="preview"})(xr||(xr={}));const Nu={flex:1};function Lu(t){var c,s;const l=Ce.exports.omit(t,["formItemProps","hideTable"]),{schema:e,control:i,controlProps:n,formType:r}=l,a=ht(l,["schema","control","controlProps","formType"]),{label:u=""}=e,{value:o,checked:f}=a,m=r===xr.preview;if(typeof i=="function")return i(q(q({},e),a));if(typeof i=="object")return i;switch(i){case void 0:case"input":return m?w("span",{children:o||"-"}):w(wt,q(q({placeholder:`\u8BF7\u8F93\u5165${u}`,allowClear:!0},n),a));case"radio":return m?w("span",{children:((s=(c=n==null?void 0:n.options)==null?void 0:c.find(d=>d.value===o))==null?void 0:s.label)||"-"}):w(Tt.Group,q(q({type:"button"},n),a));case"textarea":return m?w("span",{children:o}):w(wt.TextArea,q(q({placeholder:"\u8BF7\u8F93\u5165",rows:3},n),a));case"switch":return m?w("span",{children:f?(n==null?void 0:n.checkedText)||"\u662F":(n==null?void 0:n.unCheckedText)||"\u5426"}):w(pi,q(q({checkedText:"\u662F",uncheckedText:"\u5426"},n),a));case"select":return w(Wr,q(q({allowClear:!0,placeholder:`\u8BF7\u9009\u62E9${u}`},n),a));case"upload":return w(Ru,q(q({},n),a));case"number":return m?w("span",{children:o}):w(qr,q(q({placeholder:`\u8BF7\u8F93\u5165${u}`},n),a));case"datePicker":return m?w("span",{children:o}):w(hi,q(q(q({},Lo),n),a));case"datePickerRange":return m?w("span",{children:o}):w(hi.RangePicker,q(q(q({className:"w-full"},No),n),a));case"entrepotRadio":return w(pu,q(q({},n),a));case"entrepotSelector":return w(zo,q(q({},n),a));case"role":return w(Fu,q(q({},n),a));case"dictSelector":return w(Oi,q(q({},n),a));case"regionSelector":return w(Ko,q(q({},n),a));case"shopRadio":return w(iu,q(q({},n),a));case"shopSelector":return w(au,q(q({},n),a));case"productSelector":return w(Eu,q(q({},n),a));default:return w("span",{children:i})}}const Mu=t=>{const h=t,{schema:e,control:i,formItemProps:n,controlProps:r,formType:a}=h,u=ht(h,["schema","control","formItemProps","controlProps","formType"]),{field:o,label:f="",tips:m,position:l,rules:c,defaultValue:s,required:d}=e;xr.preview;const g=s!==void 0?{initialValue:s}:{};return w(Pe.Item,ue(q(q(q({colon:f?":":"",label:w(hu,{label:f,tips:m,position:l}),field:o,rules:(c==null?void 0:c.length)||d?[{required:!0,message:["input","number"].includes(i)?`\u8BF7\u8F93\u5165${f}`:`\u8BF7\u5B8C\u5584${f}`}]:[],labelCol:{style:q({},f?{}:{display:"none"})},wrapperCol:Nu},g),n),Ce.exports.omit(u,["render","showItemHandle","hideTable"])),{children:w(Lu,q({},t))}),o)};function $u(t){return t.reduce((e,i)=>(i.schema.defaultValue!==void 0&&(e[i.schema.field]=i.schema.defaultValue),e),{})}const Uu=li.forwardRef((c,l)=>{var s=c,{formItemConfigList:t,className:e="",labelCol:i,onValuesChange:n,gutter:r=[0,10],span:a=8,labelLength:u,initialValues:o,formType:f}=s,m=ht(s,["formItemConfigList","className","labelCol","onValuesChange","gutter","span","labelLength","initialValues","formType"]);const d=se.exports.useRef(),[g,h]=se.exports.useState();se.exports.useImperativeHandle(l,()=>d.current),se.exports.useEffect(()=>{const _=q(q(q({},o),d.current.getFieldsValue()),$u(t));setTimeout(()=>{var E;(E=d.current)==null||E.setFieldsValue(_),h(_)})},[t.map(_=>_.schema.field).toString()]);const y=t.some(_=>{var E,A,D;return _.schema.required||((E=_.formItemProps)==null?void 0:E.required)||((D=(A=_.formItemProps)==null?void 0:A.rules)==null?void 0:D.some(C=>C.required))})?.6:0,v=u||Ce.exports.max(t.map(_=>Ce.exports.isString(_.schema.label)?_.schema.label.length:0))+2+y;return w(Pe,ue(q({ref:d,layout:"inline",labelCol:ue(q({},i),{style:q({flex:`0 0 ${v}em`},i==null?void 0:i.style)}),onSubmit:_=>{console.log(_)},wrapperCol:q({className:"w-0 flex-1"},m.wrapperCol||{}),onValuesChange:_=>{var A;const E=(A=d.current)==null?void 0:A.getFieldsValue();E&&(n==null||n(_,E),h(E))},initialValues:o},m),{className:`${e} bg-white`,children:w(xt.Row,{gutter:r,className:"w-full",children:[...t].filter(_=>_.schema.field||_.schema.key).map(_=>{var E,A,D,C,N,F,x;return(_.showItemHandle?_.showItemHandle(g):!0)?w(xt.Col,{className:Me(((E=_.formItemProps)==null?void 0:E.hidden)?qo:""),span:_.schema.span||a,children:Mu(ue(q({},_),{formItemProps:ue(q({},_.formItemProps),{labelCol:ue(q(q({},i),(A=_.formItemProps)==null?void 0:A.labelCol),{style:_.schema.label?q(q({flex:`0 0 ${v}em`},i==null?void 0:i.style),(C=(D=_.formItemProps)==null?void 0:D.labelCol)==null?void 0:C.style):{display:"none"}}),rules:((N=_.formItemProps)==null?void 0:N.rules)||((F=_.schema)==null?void 0:F.rules)||[]}),schema:ue(q({},_.schema),{defaultValue:(x=o==null?void 0:o[_.schema.field])!=null?x:_.schema.defaultValue}),formType:f}))},_.schema.field||_.schema.key):null})})}))});var ut=Uu;const zu=t=>{const{visible:e,sendWarehouse:i,trackingNo:n,setVisible:r,onSuccess:a}=t,[u]=Pe.useForm(),o=ve(async()=>{const f=await u.validate();await we(()=>Zt.returnOperation(f)),a==null||a(),r(!1)},{manual:!0});return w(Be,{title:"\u65B0\u589E\u9000\u4EF6\u5FEB\u9012",visible:e,confirmLoading:o.loading,onCancel:()=>{r(!1)},onOk:()=>{o.run()},children:w(ut,{initialValues:{sendWarehouse:i,trackingNo:n},span:24,form:u,formItemConfigList:[{schema:{field:"sendWarehouse",label:"\u6253\u5305\u4ED3\u5E93"},control:"entrepotSelector"},{schema:{field:"trackingNo",label:"\u7269\u6D41\u5355\u53F7",required:!0}},{schema:{field:"recipientsInfo",label:"\u6536\u4EF6\u4FE1\u606F",required:!0},formItemProps:{extra:"\u4F8B\uFF1A\u5F20\u4E09\uFF0C15270848182\uFF0C\u4E1C\u839E\u5E02xx\u9547\u5357\u57CE\u8857\u9053A\u533A3\u680Bxx\u53F7"},control:"textarea"},{schema:{field:"storeRemark",label:"\u5907\u6CE8"},formItemProps:{extra:w("span",{className:"text-red-600",children:"\u5982\u662F\u4E0A\u95E8\u53D6\u4EF6\uFF0C\u8BF7\u52A1\u5FC5\u586B\u5199\u53D6\u4EF6\u7801\uFF01"})},control:"textarea"}]})})};var ju=zu,Hu=({value:t})=>w(fr,{className:"!px-0",href:`https://www.baidu.com/s?wd=${t}`,target:"_blank",children:t}),st;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.PICKED=1]="PICKED",t[t.UNPICKED=2]="UNPICKED"})(st||(st={}));const Wu=({item:t})=>{var e,i;return te("div",{className:"h-full p-2",children:[w(he,{label:"\u5FEB\u9012",value:te(Le,{color:"magenta",children:["\u5E93\u5B58\u53D1\u8D27 x",t.stockUse]})}),w(he,{label:"\u5E93\u5B58SKU",value:w(Ot.Text,{copyable:{text:(e=t.logisticsProduct)==null?void 0:e.sku},children:w(Le,{color:"blue",children:(i=t.logisticsProduct)==null?void 0:i.sku})})})]})},Gu=["","green","orangered","gold","red","blue","arcoblue","purple","pinkpurple","magenta","gray","lime","orange"];function Vu(t){var r;const{data:e}=Yr({dictCode:"tracking_status"}),i=(r=e==null?void 0:e.find(a=>a.value===t.trackingStatus))==null?void 0:r.label,n=Gu[Number(t.trackingStatus)];return w(ye,{children:w(Wo,{status:"default",style:{transform:" translateY(-2px)"},color:n,text:i})})}function Ku(t){const{item:e,sendWarehouse:i,orderId:n}=t,[r,a]=se.exports.useState(!1),u=ve(async()=>{await we(()=>Zt.addReject({orderId:n,trackingNo:e.trackingNo}),"\u5FEB\u9012\u62D2\u6536\u7533\u8BF7"),Fe.emit(xe.refreshOrderPage)},{manual:!0}),o=ve(async()=>{await we(()=>Zt.orderCancelReject({orderId:n,trackingNo:e.trackingNo}),"\u53D6\u6D88\u62D2\u6536"),Fe.emit(xe.refreshOrderPage)},{manual:!0});if(e.trackingNo)switch(e.trackingStatus){case"0":return w("div",{children:w(Le,{className:"cursor-pointer",bordered:!0,size:"small",color:"orange",checked:!0,onClick:async()=>{await Je({confirmLoading:u.loading,content:`\u6240\u6709\u8DDF\u5FEB\u9012\u5355\u53F7"${e.trackingNo}"\u6709\u5173\u8054\u7684\u8BA2\u5355\u90FD\u4F1A\u62D2\u6536\uFF0C\u786E\u5B9A\u8981\u7EE7\u7EED\u5417\uFF1F`}),u.run()},children:"\u62D2\u6536"})});case"1":return te("div",{children:[w(Le,{className:"cursor-pointer",bordered:!0,size:"small",color:"orange",checked:!0,onClick:async()=>{a(!0)},children:"\u9000\u4EF6"}),w(ju,{visible:r,setVisible:a,sendWarehouse:i,trackingNo:e.trackingNo,onSuccess:()=>{Fe.emit(xe.refreshOrderPage)}})]});case"2":return w("div",{children:w(rn,{title:"\u786E\u5B9A\u53D6\u6D88\u62D2\u6536\u5417\uFF1F",onOk:async()=>{o.run()},children:w(Le,{className:"cursor-pointer",bordered:!0,size:"small",color:"orange",checked:!0,children:"\u53D6\u6D88\u62D2\u6536"})})});case"4":return w("div",{children:w(rn,{title:"\u786E\u5B9A\u53D6\u6D88\u9000\u4EF6\u5417\uFF1F",onOk:async()=>{await we(()=>Zt.orderCancelReturn({orderId:n,trackingNo:e.trackingNo}),"\u9000\u4EF6\u53D6\u6D88"),Fe.emit(xe.refreshOrderPage)},children:w(Le,{className:"cursor-pointer",bordered:!0,size:"small",color:"orange",checked:!0,children:"\u53D6\u6D88\u9000\u4EF6"})})})}return w("div",{children:"-"})}const qu=({item:t,orderStatus:e,sendWarehouse:i,orderId:n})=>{let r=null;const a=ve(async o=>we(()=>ke.updatePickingStatus(o)).then(()=>{Fe.emit(xe.refreshOrderPage)}),{manual:!0});t.stockOutStatus?r=w(Le,{color:"orangered",icon:w(ho,{}),children:"\u7F3A\u8D27\u6253\u5305"}):t.trackingNo?r=w(Ot.Text,{copyable:{text:t.trackingNo},children:w(Hu,{value:t.trackingNo})}):r=w(Le,{children:"\u672A\u586B"});const u={fontSize:22,cursor:"pointer",color:"#86909c"};return te("div",{className:"h-full p-2 flex justify-between",children:[te("div",{children:[w(he,{label:"\u5FEB\u9012",value:r}),t.trackingNo?te(ye,{children:[w(he,{label:"\u72B6\u6001",value:w(Vu,q({},t))}),["0","1","2"].includes(e)&&mt()?w(he,{valueClassName:"inline-flex",label:"\u64CD\u4F5C",value:w(Ku,{orderId:n,item:t,sendWarehouse:i})}):null]}):null,t.freightSpaceName?w(he,{label:"\u4ED3\u4F4D",value:t.freightSpaceName}):null]}),te("div",{className:"flex flex-col pr-10",children:[w("div",{className:"mb-1",onClick:()=>{a.run({productId:t.id,pickingStatus:t.pickingStatus===st.PICKED?st.DEFAULT:st.PICKED})},children:t.pickingStatus===st.PICKED?w(so,{style:ue(q({},u),{color:"green"})}):w(lo,{style:u})}),w("div",{onClick:()=>{a.run({productId:t.id,pickingStatus:t.pickingStatus===st.UNPICKED?st.DEFAULT:st.UNPICKED})},children:t.pickingStatus===st.UNPICKED?w(co,{style:ue(q({},u),{color:"red"})}):w(fo,{style:u})})]})]})},ta=t=>{const{item:e,orderStatus:i,sendWarehouse:n,orderId:r}=t;return e.deliveryMethod==="1"?w(Wu,{item:e,orderStatus:i,sendWarehouse:n,orderId:r}):w(qu,{item:e,orderStatus:i,sendWarehouse:n,orderId:r})},Zu=t=>{var i;const{data:e}=t;return w("div",{className:Me(cu["goods-info"],"pr-2 h-full"),children:(i=e.orderProductVOList)==null?void 0:i.map((n,r)=>w("div",{className:Me("h-[105px] border-r",r>0?"border-t":""),children:w(ta,{item:n,orderStatus:e.orderStatus,sendWarehouse:e.sendWarehouse,orderId:e.id})},n.id))})};var Xu={"goods-info":"_goods-info_7um5o_1"},Qu=t=>{const{value:e,className:i,onChange:n,stockNum:r,disabled:a}=t,[u,o]=se.exports.useState(!1),[f,m]=se.exports.useState([...e||[]]),[l,c]=se.exports.useState(),s=se.exports.useRef();return te("div",{className:i,children:[(e==null?void 0:e.length)?w("div",{children:e.map(d=>te("div",{className:"flex items-center relative",children:[w(an,{className:"!px-2",data:d.logisticsProduct}),w(qr,{disabled:a||!d.useAbleQuantity,value:d.useAbleQuantityChange,className:"w-24",placeholder:"\u6570\u91CF",min:1,max:d.useAbleQuantity||1,onChange:g=>{d.useAbleQuantityChange=g;const h=f.map(y=>y.id===d.id?ue(q({},y),{useAbleQuantityChange:g}):y);m(h),n(h)}}),w(fe,{className:"absolute -right-3 -top-3",status:"danger",icon:w(po,{}),shape:"circle",onClick:()=>{const g=f.filter(h=>h.id!==d.id);n(g),m(g)}})]},d.id))}):w(fe,{className:"mx-auto w-1/2",disabled:a,type:"primary",icon:w(Vr,{}),long:!0,onClick:()=>{o(!0)},children:"\u9009\u62E9\u5E93\u5B58"}),w(Be,{style:{width:"850px"},visible:u,title:"\u5E93\u5B58\u9009\u62E9",onConfirm:()=>{n(f.map(d=>ue(q({},d),{useAbleQuantityChange:r>=d.useAbleQuantity?d.useAbleQuantity:r}))),s.current.searchFormRef.resetFields(),o(!1)},onCancel:()=>{s.current.searchFormRef.resetFields(),o(!1)},children:w(nn,{getListRequest:(...d)=>gu.getList(...d).then(g=>(c(g.data.data.list),m([]),g)),name:"\u5546\u54C1\u9009\u62E9",ref:s,showActions:!1,tableProps:{rowKey:"id",rowSelection:{type:"radio",selectedRowKeys:f.map(d=>d.id),onChange:(d,g)=>{console.log(g,d),m(g.map(h=>q({},h)))},onSelectAll:d=>{m(d?l.map(g=>ue(q({},g),{num:20})):[])},checkboxProps:d=>({disabled:!d.useAbleQuantity})}},formItemConfigList:[{schema:{label:"\u5546\u54C1\u540D\u79F0",field:"productName"},render:(d,g)=>w(an,{data:g.logisticsProduct}),width:340,isSearch:!0},{schema:{label:"\u76F8\u5173\u4FE1\u606F",field:"lastCheckInTime"},render:(d,g)=>te("div",{children:[w(he,{label:"\u53EF\u7528\u5E93\u5B58",value:w(Le,{color:"blue",children:g.useAbleQuantity||0})}),w(he,{label:"\u5165\u5E93\u65F6\u95F4",value:g.lastCheckInTime})]})}]})})]})},dn=t=>{const{data:e,isEdit:i,onChange:n}=t,r=se.exports.useRef(e),[a,u]=se.exports.useState(""),o=se.exports.useRef([]);return te("div",{className:Me("arco-list-style","h-max overflow-hidden"),children:[i&&e.length>1?w("header",{className:"flex",children:w(wt.Search,{className:"w-1/2 ml-auto mb-2",value:a,onChange:u,placeholder:"\u8BF7\u8F93\u5165\u5FEB\u9012\u5355\u53F7",searchButton:"\u6279\u91CF\u66F4\u65B0",allowClear:!0,onSearch:f=>{f&&(o.current.forEach((m,l)=>{m.setFieldValue("trackingNo",f),r.current[l].trackingNo=f}),n==null||n(r.current),u(""))}})}):null,w(mi,{className:Me(Xu["goods-info"]),dataSource:e||[],bordered:i,render:(f,m)=>{var l;return te("div",{className:Me(["grid h-[105px] overflow-hidden",{"grid-cols-2":i},m>0?"border-t":""]),children:[te("div",{className:"p-2 w-full flex items-start",children:[w(hr,{className:"goods-image-main size-24",src:(l=f.productImg)==null?void 0:l[0],alt:"\u901F\u8FD0\u5B9D",preview:!0}),te("div",{className:"ml-2 flex-1 w-0",children:[w("div",{className:"truncate",children:f.productName}),te("div",{className:"text-sm text-gray-500",children:[te(Ye,{size:30,children:[w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u5355\u2003\u2003\u4EF7",value:f.unitPrice}),w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u6570\u2003\u2003\u91CF",value:f.quantity>1?w("span",{className:"text-red-500 font-bold",children:f.quantity}):f.quantity})]}),w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u89C4\u683C\u540D\u79F0",value:f.specificationName}),w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u89C4\u683CSKU",value:w(Yo,{value:f.sku,children:f.sku})})]})]})]}),i?w(ye,{children:w("div",{className:"border-l pl-2 pt-2",children:w(ut,{ref:c=>{c?o.current[m]=c:o.current.splice(m,1)},gutter:[0,0],initialValues:ue(q({},f),{deliveryMethod:f.deliveryMethod||"0",productInventoryVO:f.logisticsProduct?[ue(q({},f),{useAbleQuantityChange:f.stockUse})]:[]}),onChange:(c,s)=>{r.current[m]=s,n==null||n(r.current)},formItemConfigList:[{schema:{label:"\u53D1\u8D27\u65B9\u5F0F",field:"ccc",span:16,required:!0},formItemProps:{noStyle:!0},control:w(Pe.Item,{noStyle:!0,shouldUpdate:(c,s)=>c.menuType!==s.menuType,children:c=>w(Pe.Item,{disabled:c.stockOutStatus,className:"!mb-0",field:"deliveryMethod",label:"\u53D1\u8D27\u65B9\u5F0F",colon:!0,children:w(Oi,{type:"radio",dictCode:"delivery_method"})})})},{schema:{label:"",field:"stockOutStatus",span:8},formItemProps:{triggerPropName:"checked",className:"!mb-0"},control:"switch",controlProps:{checkedText:"\u7F3A\u8D27\u6253\u5305",uncheckedText:"\u7F3A\u8D27\u6253\u5305"}},{schema:{label:" ",field:"dddddd",span:24},formItemProps:{noStyle:!0},control:w(Pe.Item,{noStyle:!0,shouldUpdate:(c,s)=>c.menuType!==s.menuType,children:c=>{var s;return c.deliveryMethod==="0"?w(Pe.Item,{disabled:c.stockOutStatus,className:"mt-4",field:"trackingNo",label:"\u5FEB\u9012\u5355\u53F7",colon:!0,children:w(wt,{placeholder:"\u8BF7\u8F93\u5165\u5FEB\u9012\u5355\u53F7",allowClear:!0})}):w(Pe.Item,{disabled:c.stockOutStatus,field:"productInventoryVO",label:"",children:w(Qu,{stockNum:f.quantity,className:Me(((s=c.productInventoryVO)==null?void 0:s.length)?"-mt-[6px]":"mt-4")})})}})}]})})}):null]},f.id)}})]})},Yu=t=>{const{orderItem:e}=t,[i,n]=se.exports.useState(!1),[r]=Pe.useForm(),a=ve(async()=>{const{shrimpOrderNo:o}=await r.validate();return await Je({content:`[${o}]\u786E\u8BA4\u6362\u5355\u91CD\u51FA\uFF1F`}),we(()=>ke.overseasWarehouseReturnReOutOverseasWarehouseReturnOrder({id:e.id,orderNo:o}),"\u6362\u5355").then(()=>{n(!1),Fe.emit(xe.refreshOrderPage)})},{manual:!0}),u=ve(async()=>{const{shrimpOrderNo:o}=await r.validate();return ke.getList({selectLogisticsOrderVO:{shrimpOrderNo:o},selectOrderProductVO:{},selectLogisticsVO:{},pageNum:1,pageSize:1}).then(f=>f.data.data.list)},{manual:!0});return te(ye,{children:[w(fe,{status:"success",size:"small",onClick:()=>{n(!0)},children:"\u6362\u5355"}),te(mo,{title:`${e.shrimpOrderNo} - \u6362\u5355\u91CD\u51FA`,width:"65%",visible:i,onCancel:()=>{n(!1)},footer:null,children:[w(Pe,{form:r,children:w(xt.Row,{children:w(xt.Col,{span:12,children:w(Pe.Item,{field:"shrimpOrderNo",children:w(wt.Search,{placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u7F16\u53F7",searchButton:"\u67E5\u8BE2",onSearch:()=>{u.run()}})})})})}),w(Kr,{data:u.data,loading:u.loading,columns:[{title:"\u8BA2\u5355\u4FE1\u606F",dataIndex:"orderInfo",width:300,render(o,f){return te(Ye,{direction:"vertical",size:5,children:[w(he,{label:"\u8BA2\u5355\u7F16\u53F7",value:f.shrimpOrderNo}),w("span",{className:[dt.\u53D6\u6D88\u4E2D,dt.\u5DF2\u53D6\u6D88].includes(f.shopeeStatus)?"text-red-500 font-bold":"",children:w(he,{label:"Shopee\u72B6\u6001",value:w(gr,{dictCode:"shopee_status",value:f.shopeeStatus})})}),w(he,{label:"\u5E97\u94FA",value:w(Ii,{value:f.platformShopId})}),w(he,{label:"\u521B\u5EFA\u65F6\u95F4",value:f.createTime})]})}},{title:"\u5546\u54C1\u4FE1\u606F",dataIndex:"goodsInfo",render(o,f){return w(dn,{data:f.orderProductVOList})}},{title:"\u64CD\u4F5C",width:120,dataIndex:"actions",render(){return w(fe,{type:"text",status:"success",loading:a.loading,onClick:()=>{a.run()},children:"\u6362\u5355\u91CD\u51FA"})}}]})]})]})},Ju=t=>{const{buttonProps:e,id:i,abeyanceStatus:n}=t,r=ve(async()=>we(()=>ke.exceptionOnHold({id:i,abeyanceStatus:n?0:1}),n?"\u53D6\u6D88":"\u5F02\u5E38\u6401\u7F6E").then(()=>{Fe.emit(xe.refreshOrderPage)}),{manual:!0});return w(ye,{children:w(fe,ue(q({onClick:()=>{r.run()},type:"text",status:"danger",loading:r.loading},e),{children:n?"\u53D6\u6D88\u5F02\u5E38\u6401\u7F6E":"\u5F02\u5E38\u6401\u7F6E"}))})};const es=se.exports.forwardRef((t,e)=>w(fe,ue(q({ref:e,type:"text",status:"warning",disabled:t.disabled},t),{children:"\u5305\u88F9\u51FA\u5E93"})));var fn={},Or={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});function ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rs=function t(e,i){ts(this,t),this.data=e,this.text=i.text||e,this.options=i};ze.default=rs;Object.defineProperty(Or,"__esModule",{value:!0});Or.CODE39=void 0;var ns=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),is=ze,as=os(is);function os(t){return t&&t.__esModule?t:{default:t}}function us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ss(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ls(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cs=function(t){ls(e,t);function e(i,n){return us(this,e),i=i.toUpperCase(),n.mod43&&(i+=hs(ps(i))),ss(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return ns(e,[{key:"encode",value:function(){for(var n=hn("*"),r=0;r<this.data.length;r++)n+=hn(this.data[r])+"0";return n+=hn("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(as.default),ra=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],ds=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function hn(t){return fs(na(t))}function fs(t){return ds[t].toString(2)}function hs(t){return ra[t]}function na(t){return ra.indexOf(t)}function ps(t){for(var e=0,i=0;i<t.length;i++)e+=na(t[i]);return e=e%43,e}Or.CODE39=cs;var lt={},pn={},Nt={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var Xt;function mn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ia=Oe.SET_A=0,aa=Oe.SET_B=1,oa=Oe.SET_C=2;Oe.SHIFT=98;var ms=Oe.START_A=103,gs=Oe.START_B=104,vs=Oe.START_C=105;Oe.MODULO=103;Oe.STOP=106;Oe.FNC1=207;Oe.SET_BY_CODE=(Xt={},mn(Xt,ms,ia),mn(Xt,gs,aa),mn(Xt,vs,oa),Xt);Oe.SWAP={101:ia,100:aa,99:oa};Oe.A_START_CHAR=String.fromCharCode(208);Oe.B_START_CHAR=String.fromCharCode(209);Oe.C_START_CHAR=String.fromCharCode(210);Oe.A_CHARS="[\0-_\xC8-\xCF]";Oe.B_CHARS="[ -\x7F\xC8-\xCF]";Oe.C_CHARS="(\xCF*[0-9]{2}\xCF*)";Oe.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Nt,"__esModule",{value:!0});var ys=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),bs=ze,_s=Es(bs),Xe=Oe;function Es(t){return t&&t.__esModule?t:{default:t}}function ws(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xs(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Os(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ss=function(t){Os(e,t);function e(i,n){ws(this,e);var r=xs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.substring(1),n));return r.bytes=i.split("").map(function(a){return a.charCodeAt(0)}),r}return ys(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,r=n.shift()-105,a=Xe.SET_BY_CODE[r];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(Xe.FNC1);var u=e.next(n,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(r)+u.result+e.getBar((u.checksum+r)%Xe.MODULO)+e.getBar(Xe.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return Xe.BARS[n]?Xe.BARS[n].toString():""}},{key:"correctIndex",value:function(n,r){if(r===Xe.SET_A){var a=n.shift();return a<32?a+64:a-32}else return r===Xe.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,r,a){if(!n.length)return{result:"",checksum:0};var u=void 0,o=void 0;if(n[0]>=200){o=n.shift()-105;var f=Xe.SWAP[o];f!==void 0?u=e.next(n,r+1,f):((a===Xe.SET_A||a===Xe.SET_B)&&o===Xe.SHIFT&&(n[0]=a===Xe.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),u=e.next(n,r+1,a))}else o=e.correctIndex(n,a),u=e.next(n,r+1,a);var m=e.getBar(o),l=o*r;return{result:m+u.result,checksum:l+u.checksum}}}]),e}(_s.default);Nt.default=Ss;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});var gt=Oe,ua=function(e){return e.match(new RegExp("^"+gt.A_CHARS+"*"))[0].length},sa=function(e){return e.match(new RegExp("^"+gt.B_CHARS+"*"))[0].length},la=function(e){return e.match(new RegExp("^"+gt.C_CHARS+"*"))[0]};function vn(t,e){var i=e?gt.A_CHARS:gt.B_CHARS,n=t.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+String.fromCharCode(204)+ca(t.substring(n[1].length));var r=t.match(new RegExp("^"+i+"+"))[0];return r.length===t.length?t:r+String.fromCharCode(e?205:206)+vn(t.substring(r.length),!e)}function ca(t){var e=la(t),i=e.length;if(i===t.length)return t;t=t.substring(i);var n=ua(t)>=sa(t);return e+String.fromCharCode(n?206:205)+vn(t,n)}gn.default=function(t){var e=void 0,i=la(t).length;if(i>=2)e=gt.C_START_CHAR+ca(t);else{var n=ua(t)>sa(t);e=(n?gt.A_START_CHAR:gt.B_START_CHAR)+vn(t,n)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,a){return String.fromCharCode(203)+a})};Object.defineProperty(pn,"__esModule",{value:!0});var Fs=Nt,As=da(Fs),Cs=gn,ks=da(Cs);function da(t){return t&&t.__esModule?t:{default:t}}function Ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ps=function(t){Bs(e,t);function e(i,n){if(Ds(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var r=yn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,ks.default)(i),n));else var r=yn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return yn(r)}return e}(As.default);pn.default=Ps;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});var Is=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ts=Nt,Rs=Ns(Ts),fa=Oe;function Ns(t){return t&&t.__esModule?t:{default:t}}function Ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ms(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $s(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Us=function(t){$s(e,t);function e(i,n){return Ls(this,e),Ms(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,fa.A_START_CHAR+i,n))}return Is(e,[{key:"valid",value:function(){return new RegExp("^"+fa.A_CHARS+"+$").test(this.data)}}]),e}(Rs.default);bn.default=Us;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});var zs=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),js=Nt,Hs=Ws(js),ha=Oe;function Ws(t){return t&&t.__esModule?t:{default:t}}function Gs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vs(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ks(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qs=function(t){Ks(e,t);function e(i,n){return Gs(this,e),Vs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,ha.B_START_CHAR+i,n))}return zs(e,[{key:"valid",value:function(){return new RegExp("^"+ha.B_CHARS+"+$").test(this.data)}}]),e}(Hs.default);_n.default=qs;var En={};Object.defineProperty(En,"__esModule",{value:!0});var Zs=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Xs=Nt,Qs=Ys(Xs),pa=Oe;function Ys(t){return t&&t.__esModule?t:{default:t}}function Js(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function el(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rl=function(t){tl(e,t);function e(i,n){return Js(this,e),el(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,pa.C_START_CHAR+i,n))}return Zs(e,[{key:"valid",value:function(){return new RegExp("^"+pa.C_CHARS+"+$").test(this.data)}}]),e}(Qs.default);En.default=rl;Object.defineProperty(lt,"__esModule",{value:!0});lt.CODE128C=lt.CODE128B=lt.CODE128A=lt.CODE128=void 0;var nl=pn,il=Sr(nl),al=bn,ol=Sr(al),ul=_n,sl=Sr(ul),ll=En,cl=Sr(ll);function Sr(t){return t&&t.__esModule?t:{default:t}}lt.CODE128=il.default;lt.CODE128A=ol.default;lt.CODE128B=sl.default;lt.CODE128C=cl.default;var We={},wn={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.SIDE_BIN="101";tt.MIDDLE_BIN="01010";tt.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};tt.EAN2_STRUCTURE=["LL","LG","GL","GG"];tt.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];tt.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Fr={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});var dl=tt,fl=function(e,i,n){var r=e.split("").map(function(u,o){return dl.BINARIES[i[o]]}).map(function(u,o){return u?u[e[o]]:""});if(n){var a=e.length-1;r=r.map(function(u,o){return o<a?u+n:u})}return r.join("")};Ft.default=fl;Object.defineProperty(Fr,"__esModule",{value:!0});var hl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Lt=tt,pl=Ft,ma=ga(pl),ml=ze,gl=ga(ml);function ga(t){return t&&t.__esModule?t:{default:t}}function vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _l=function(t){bl(e,t);function e(i,n){vl(this,e);var r=yl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return hl(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,r){return this.text.substr(n,r)}},{key:"leftEncode",value:function(n,r){return(0,ma.default)(n,r)}},{key:"rightText",value:function(n,r){return this.text.substr(n,r)}},{key:"rightEncode",value:function(n,r){return(0,ma.default)(n,r)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:Lt.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:n},{data:Lt.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:n},{data:Lt.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){var n=[Lt.SIDE_BIN,this.leftEncode(),Lt.MIDDLE_BIN,this.rightEncode(),Lt.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),e}(gl.default);Fr.default=_l;Object.defineProperty(wn,"__esModule",{value:!0});var El=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Qt=function t(e,i,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(r===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,i,n)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(n)}},wl=tt,xl=Fr,Ol=Sl(xl);function Sl(t){return t&&t.__esModule?t:{default:t}}function Fl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Al(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var va=function(e){var i=e.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,r,a){return a%2?n+r*3:n+r},0);return(10-i%10)%10},kl=function(t){Cl(e,t);function e(i,n){Fl(this,e),i.search(/^[0-9]{12}$/)!==-1&&(i+=va(i));var r=Al(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.lastChar=n.lastChar,r}return El(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===va(this.data)}},{key:"leftText",value:function(){return Qt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),r=wl.EAN13_STRUCTURE[this.data[0]];return Qt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,r)}},{key:"rightText",value:function(){return Qt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return Qt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=Qt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(Ol.default);wn.default=kl;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});var Dl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ar=function t(e,i,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(r===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,i,n)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(n)}},Bl=Fr,Pl=Il(Bl);function Il(t){return t&&t.__esModule?t:{default:t}}function Tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ya=function(e){var i=e.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,r,a){return a%2?n+r:n+r*3},0);return(10-i%10)%10},Ll=function(t){Nl(e,t);function e(i,n){return Tl(this,e),i.search(/^[0-9]{7}$/)!==-1&&(i+=ya(i)),Rl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Dl(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===ya(this.data)}},{key:"leftText",value:function(){return Ar(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return Ar(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return Ar(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return Ar(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),e}(Pl.default);xn.default=Ll;var On={};Object.defineProperty(On,"__esModule",{value:!0});var Ml=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),$l=tt,Ul=Ft,zl=ba(Ul),jl=ze,Hl=ba(jl);function ba(t){return t&&t.__esModule?t:{default:t}}function Wl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kl=function(e){var i=e.split("").map(function(n){return+n}).reduce(function(n,r,a){return a%2?n+r*9:n+r*3},0);return i%10},ql=function(t){Vl(e,t);function e(i,n){return Wl(this,e),Gl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Ml(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=$l.EAN5_STRUCTURE[Kl(this.data)];return{data:"1011"+(0,zl.default)(this.data,n,"01"),text:this.text}}}]),e}(Hl.default);On.default=ql;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});var Zl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Xl=tt,Ql=Ft,Yl=_a(Ql),Jl=ze,ec=_a(Jl);function _a(t){return t&&t.__esModule?t:{default:t}}function tc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ic=function(t){nc(e,t);function e(i,n){return tc(this,e),rc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Zl(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=Xl.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,Yl.default)(this.data,n,"01"),text:this.text}}}]),e}(ec.default);Sn.default=ic;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});var ac=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Yt.checksum=Fn;var oc=Ft,Mt=Ea(oc),uc=ze,sc=Ea(uc);function Ea(t){return t&&t.__esModule?t:{default:t}}function lc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fc=function(t){dc(e,t);function e(i,n){lc(this,e),i.search(/^[0-9]{11}$/)!==-1&&(i+=Fn(i));var r=cc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.displayValue=n.displayValue,n.fontSize>n.width*10?r.fontSize=n.width*10:r.fontSize=n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return ac(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Fn(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,Mt.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,Mt.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,Mt.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,Mt.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,Mt.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,Mt.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),e}(sc.default);function Fn(t){var e=0,i;for(i=1;i<11;i+=2)e+=parseInt(t[i]);for(i=0;i<11;i+=2)e+=parseInt(t[i])*3;return(10-e%10)%10}Yt.default=fc;var An={};Object.defineProperty(An,"__esModule",{value:!0});var hc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),pc=Ft,mc=wa(pc),gc=ze,vc=wa(gc),yc=Yt;function wa(t){return t&&t.__esModule?t:{default:t}}function bc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ec=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],wc=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],xc=function(t){_c(e,t);function e(i,n){bc(this,e);var r=Cn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));if(r.isValid=!1,i.search(/^[0-9]{6}$/)!==-1)r.middleDigits=i,r.upcA=xa(i,"0"),r.text=n.text||""+r.upcA[0]+i+r.upcA[r.upcA.length-1],r.isValid=!0;else if(i.search(/^[01][0-9]{7}$/)!==-1)if(r.middleDigits=i.substring(1,i.length-1),r.upcA=xa(r.middleDigits,i[0]),r.upcA[r.upcA.length-1]===i[i.length-1])r.isValid=!0;else return Cn(r);else return Cn(r);return r.displayValue=n.displayValue,n.fontSize>n.width*10?r.fontSize=n.width*10:r.fontSize=n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return hc(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],r=this.upcA[this.upcA.length-1],a=wc[parseInt(r)][parseInt(n)];return(0,mc.default)(this.middleDigits,a)}}]),e}(vc.default);function xa(t,e){for(var i=parseInt(t[t.length-1]),n=Ec[i],r="",a=0,u=0;u<n.length;u++){var o=n[u];o==="X"?r+=t[a++]:r+=o}return r=""+e+r,""+r+(0,yc.checksum)(r)}An.default=xc;Object.defineProperty(We,"__esModule",{value:!0});We.UPCE=We.UPC=We.EAN2=We.EAN5=We.EAN8=We.EAN13=void 0;var Oc=wn,Sc=$t(Oc),Fc=xn,Ac=$t(Fc),Cc=On,kc=$t(Cc),Dc=Sn,Bc=$t(Dc),Pc=Yt,Ic=$t(Pc),Tc=An,Rc=$t(Tc);function $t(t){return t&&t.__esModule?t:{default:t}}We.EAN13=Sc.default;We.EAN8=Ac.default;We.EAN5=kc.default;We.EAN2=Bc.default;We.UPC=Ic.default;We.UPCE=Rc.default;var Ut={},Cr={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.START_BIN="1010";Jt.END_BIN="11101";Jt.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(Cr,"__esModule",{value:!0});var Nc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),kr=Jt,Lc=ze,Mc=$c(Lc);function $c(t){return t&&t.__esModule?t:{default:t}}function Uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hc=function(t){jc(e,t);function e(){return Uc(this,e),zc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Nc(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,r=this.data.match(/.{2}/g).map(function(a){return n.encodePair(a)}).join("");return{data:kr.START_BIN+r+kr.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var r=kr.BINARIES[n[1]];return kr.BINARIES[n[0]].split("").map(function(a,u){return(a==="1"?"111":"1")+(r[u]==="1"?"000":"0")}).join("")}}]),e}(Mc.default);Cr.default=Hc;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});var Wc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Gc=Cr,Vc=Kc(Gc);function Kc(t){return t&&t.__esModule?t:{default:t}}function qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oa=function(e){var i=e.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,r,a){return n+r*(3-a%2*2)},0);return Math.ceil(i/10)*10-i},Qc=function(t){Xc(e,t);function e(i,n){return qc(this,e),i.search(/^[0-9]{13}$/)!==-1&&(i+=Oa(i)),Zc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Wc(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===Oa(this.data)}}]),e}(Vc.default);kn.default=Qc;Object.defineProperty(Ut,"__esModule",{value:!0});Ut.ITF14=Ut.ITF=void 0;var Yc=Cr,Jc=Sa(Yc),ed=kn,td=Sa(ed);function Sa(t){return t&&t.__esModule?t:{default:t}}Ut.ITF=Jc.default;Ut.ITF14=td.default;var rt={},At={};Object.defineProperty(At,"__esModule",{value:!0});var rd=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),nd=ze,id=ad(nd);function ad(t){return t&&t.__esModule?t:{default:t}}function od(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ud(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ld=function(t){sd(e,t);function e(i,n){return od(this,e),ud(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return rd(e,[{key:"encode",value:function(){for(var n="110",r=0;r<this.data.length;r++){var a=parseInt(this.data[r]),u=a.toString(2);u=cd(u,4-u.length);for(var o=0;o<u.length;o++)n+=u[o]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(id.default);function cd(t,e){for(var i=0;i<e;i++)t="0"+t;return t}At.default=ld;var Dn={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.mod10=dd;Ct.mod11=fd;function dd(t){for(var e=0,i=0;i<t.length;i++){var n=parseInt(t[i]);(i+t.length)%2==0?e+=n:e+=n*2%10+Math.floor(n*2/10)}return(10-e%10)%10}function fd(t){for(var e=0,i=[2,3,4,5,6,7],n=0;n<t.length;n++){var r=parseInt(t[t.length-1-n]);e+=i[n%i.length]*r}return(11-e%11)%11}Object.defineProperty(Dn,"__esModule",{value:!0});var hd=At,pd=gd(hd),md=Ct;function gd(t){return t&&t.__esModule?t:{default:t}}function vd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yd(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _d=function(t){bd(e,t);function e(i,n){return vd(this,e),yd(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i+(0,md.mod10)(i),n))}return e}(pd.default);Dn.default=_d;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});var Ed=At,wd=Od(Ed),xd=Ct;function Od(t){return t&&t.__esModule?t:{default:t}}function Sd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fd(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ad(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cd=function(t){Ad(e,t);function e(i,n){return Sd(this,e),Fd(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i+(0,xd.mod11)(i),n))}return e}(wd.default);Bn.default=Cd;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});var kd=At,Dd=Bd(kd),Fa=Ct;function Bd(t){return t&&t.__esModule?t:{default:t}}function Pd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Id(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Td(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rd=function(t){Td(e,t);function e(i,n){return Pd(this,e),i+=(0,Fa.mod10)(i),i+=(0,Fa.mod10)(i),Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return e}(Dd.default);Pn.default=Rd;var In={};Object.defineProperty(In,"__esModule",{value:!0});var Nd=At,Ld=Md(Nd),Aa=Ct;function Md(t){return t&&t.__esModule?t:{default:t}}function $d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ud(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jd=function(t){zd(e,t);function e(i,n){return $d(this,e),i+=(0,Aa.mod11)(i),i+=(0,Aa.mod10)(i),Ud(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return e}(Ld.default);In.default=jd;Object.defineProperty(rt,"__esModule",{value:!0});rt.MSI1110=rt.MSI1010=rt.MSI11=rt.MSI10=rt.MSI=void 0;var Hd=At,Wd=er(Hd),Gd=Dn,Vd=er(Gd),Kd=Bn,qd=er(Kd),Zd=Pn,Xd=er(Zd),Qd=In,Yd=er(Qd);function er(t){return t&&t.__esModule?t:{default:t}}rt.MSI=Wd.default;rt.MSI10=Vd.default;rt.MSI11=qd.default;rt.MSI1010=Xd.default;rt.MSI1110=Yd.default;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.pharmacode=void 0;var Jd=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ef=ze,tf=rf(ef);function rf(t){return t&&t.__esModule?t:{default:t}}function nf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function af(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function of(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uf=function(t){of(e,t);function e(i,n){nf(this,e);var r=af(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.number=parseInt(i,10),r}return Jd(e,[{key:"encode",value:function(){for(var n=this.number,r="";!isNaN(n)&&n!=0;)n%2==0?(r="11100"+r,n=(n-2)/2):(r="100"+r,n=(n-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(tf.default);Dr.pharmacode=uf;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.codabar=void 0;var sf=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),lf=ze,cf=df(lf);function df(t){return t&&t.__esModule?t:{default:t}}function ff(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mf=function(t){pf(e,t);function e(i,n){ff(this,e),i.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(i="A"+i+"A");var r=hf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return sf(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],r=this.getEncodings(),a=0;a<this.data.length;a++)n.push(r[this.data.charAt(a)]),a!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{"0":"101010011","1":"101011001","2":"101001011","3":"110010101","4":"101101001","5":"110101001","6":"100101011","7":"100101101","8":"100110101","9":"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(cf.default);Br.codabar=mf;var zt={},Pr={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xFF"];tr.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];tr.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7F":["(%)","T"]};Object.defineProperty(Pr,"__esModule",{value:!0});var gf=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ir=tr,vf=ze,yf=bf(vf);function bf(t){return t&&t.__esModule?t:{default:t}}function _f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ef(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xf=function(t){wf(e,t);function e(i,n){return _f(this,e),Ef(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return gf(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(o){return Ir.MULTI_SYMBOLS[o]||o}),r=n.map(function(o){return e.getEncoding(o)}).join(""),a=e.checksum(n,20),u=e.checksum(n.concat(a),15);return{text:this.text,data:e.getEncoding("\xFF")+r+e.getEncoding(a)+e.getEncoding(u)+e.getEncoding("\xFF")+"1"}}}],[{key:"getEncoding",value:function(n){return Ir.BINARIES[e.symbolValue(n)]}},{key:"getSymbol",value:function(n){return Ir.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return Ir.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,r){var a=n.slice().reverse().reduce(function(u,o,f){var m=f%r+1;return u+e.symbolValue(o)*m},0);return e.getSymbol(a%47)}}]),e}(yf.default);Pr.default=xf;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});var Of=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Sf=Pr,Ff=Af(Sf);function Af(t){return t&&t.__esModule?t:{default:t}}function Cf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Df(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bf=function(t){Df(e,t);function e(i,n){return Cf(this,e),kf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Of(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Ff.default);Tn.default=Bf;Object.defineProperty(zt,"__esModule",{value:!0});zt.CODE93FullASCII=zt.CODE93=void 0;var Pf=Pr,If=Ca(Pf),Tf=Tn,Rf=Ca(Tf);function Ca(t){return t&&t.__esModule?t:{default:t}}zt.CODE93=If.default;zt.CODE93FullASCII=Rf.default;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.GenericBarcode=void 0;var Nf=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Lf=ze,Mf=$f(Lf);function $f(t){return t&&t.__esModule?t:{default:t}}function Uf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hf=function(t){jf(e,t);function e(i,n){return Uf(this,e),zf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Nf(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Mf.default);Tr.GenericBarcode=Hf;Object.defineProperty(fn,"__esModule",{value:!0});var Wf=Or,Rr=lt,jt=We,ka=Ut,rr=rt,Gf=Dr,Vf=Br,Da=zt,Kf=Tr;fn.default={CODE39:Wf.CODE39,CODE128:Rr.CODE128,CODE128A:Rr.CODE128A,CODE128B:Rr.CODE128B,CODE128C:Rr.CODE128C,EAN13:jt.EAN13,EAN8:jt.EAN8,EAN5:jt.EAN5,EAN2:jt.EAN2,UPC:jt.UPC,UPCE:jt.UPCE,ITF14:ka.ITF14,ITF:ka.ITF,MSI:rr.MSI,MSI10:rr.MSI10,MSI11:rr.MSI11,MSI1010:rr.MSI1010,MSI1110:rr.MSI1110,pharmacode:Gf.pharmacode,codabar:Vf.codabar,CODE93:Da.CODE93,CODE93FullASCII:Da.CODE93FullASCII,GenericBarcode:Kf.GenericBarcode};var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});var qf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};Ht.default=function(t,e){return qf({},t,e)};var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.default=Zf;function Zf(t){var e=[];function i(n){if(Array.isArray(n))for(var r=0;r<n.length;r++)i(n[r]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}return i(t),e}var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.default=Xf;function Xf(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var Ln={},Mn={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.default=Qf;function Qf(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var i in e)e.hasOwnProperty(i)&&(i=e[i],typeof t[i]=="string"&&(t[i]=parseInt(t[i],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});var Yf={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Lr.default=Yf;Object.defineProperty(Mn,"__esModule",{value:!0});var Jf=Nr,eh=Pa(Jf),th=Lr,Ba=Pa(th);function Pa(t){return t&&t.__esModule?t:{default:t}}function rh(t){var e={};for(var i in Ba.default)Ba.default.hasOwnProperty(i)&&(t.hasAttribute("jsbarcode-"+i.toLowerCase())&&(e[i]=t.getAttribute("jsbarcode-"+i.toLowerCase())),t.hasAttribute("data-"+i.toLowerCase())&&(e[i]=t.getAttribute("data-"+i.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,eh.default)(e),e}Mn.default=rh;var $n={},Un={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getTotalWidthOfEncodings=Qe.calculateEncodingAttributes=Qe.getBarcodePadding=Qe.getEncodingHeight=Qe.getMaximumHeightOfEncodings=void 0;var nh=Ht,ih=ah(nh);function ah(t){return t&&t.__esModule?t:{default:t}}function Ia(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function Ta(t,e,i){if(i.displayValue&&e<t){if(i.textAlign=="center")return Math.floor((t-e)/2);if(i.textAlign=="left")return 0;if(i.textAlign=="right")return Math.floor(t-e)}return 0}function oh(t,e,i){for(var n=0;n<t.length;n++){var r=t[n],a=(0,ih.default)(e,r.options),u;a.displayValue?u=lh(r.text,a,i):u=0;var o=r.data.length*a.width;r.width=Math.ceil(Math.max(u,o)),r.height=Ia(r,a),r.barcodePadding=Ta(u,o,a)}}function uh(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].width;return e}function sh(t){for(var e=0,i=0;i<t.length;i++)t[i].height>e&&(e=t[i].height);return e}function lh(t,e,i){var n;if(i)n=i;else if(typeof document!="undefined")n=document.createElement("canvas").getContext("2d");else return 0;n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var r=n.measureText(t);if(!r)return 0;var a=r.width;return a}Qe.getMaximumHeightOfEncodings=sh;Qe.getEncodingHeight=Ia;Qe.getBarcodePadding=Ta;Qe.calculateEncodingAttributes=oh;Qe.getTotalWidthOfEncodings=uh;Object.defineProperty(Un,"__esModule",{value:!0});var ch=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),dh=Ht,fh=hh(dh),zn=Qe;function hh(t){return t&&t.__esModule?t:{default:t}}function ph(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mh=function(){function t(e,i,n){ph(this,t),this.canvas=e,this.encodings=i,this.options=n}return ch(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var n=(0,fh.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(n,this.encodings[i]),this.drawCanvasText(n,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,zn.calculateEncodingAttributes)(this.encodings,this.options,i);var n=(0,zn.getTotalWidthOfEncodings)(this.encodings),r=(0,zn.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,n){var r=this.canvas.getContext("2d"),a=n.data,u;i.textPosition=="top"?u=i.marginTop+i.fontSize+i.textMargin:u=i.marginTop,r.fillStyle=i.lineColor;for(var o=0;o<a.length;o++){var f=o*i.width+n.barcodePadding;a[o]==="1"?r.fillRect(f,u,i.width,i.height):a[o]&&r.fillRect(f,u,i.width,i.height*a[o])}}},{key:"drawCanvasText",value:function(i,n){var r=this.canvas.getContext("2d"),a=i.fontOptions+" "+i.fontSize+"px "+i.font;if(i.displayValue){var u,o;i.textPosition=="top"?o=i.marginTop+i.fontSize-i.textMargin:o=i.height+i.textMargin+i.marginTop+i.fontSize,r.font=a,i.textAlign=="left"||n.barcodePadding>0?(u=0,r.textAlign="left"):i.textAlign=="right"?(u=n.width-1,r.textAlign="right"):(u=n.width/2,r.textAlign="center"),r.fillText(n.text,u,o)}}},{key:"moveCanvasDrawing",value:function(i){var n=this.canvas.getContext("2d");n.translate(i.width,0)}},{key:"restoreCanvas",value:function(){var i=this.canvas.getContext("2d");i.restore()}}]),t}();Un.default=mh;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});var gh=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),vh=Ht,yh=bh(vh),Hn=Qe;function bh(t){return t&&t.__esModule?t:{default:t}}function _h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Mr="http://www.w3.org/2000/svg",Eh=function(){function t(e,i,n){_h(this,t),this.svg=e,this.encodings=i,this.options=n,this.document=n.xmlDocument||document}return gh(t,[{key:"render",value:function(){var i=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var r=this.encodings[n],a=(0,yh.default)(this.options,r.options),u=this.createGroup(i,a.marginTop,this.svg);this.setGroupOptions(u,a),this.drawSvgBarcode(u,a,r),this.drawSVGText(u,a,r),i+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Hn.calculateEncodingAttributes)(this.encodings,this.options);var i=(0,Hn.getTotalWidthOfEncodings)(this.encodings),n=(0,Hn.getMaximumHeightOfEncodings)(this.encodings),r=i+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,n),this.options.background&&this.drawRect(0,0,r,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(i,n,r){var a=r.data,u;n.textPosition=="top"?u=n.fontSize+n.textMargin:u=0;for(var o=0,f=0,m=0;m<a.length;m++)f=m*n.width+r.barcodePadding,a[m]==="1"?o++:o>0&&(this.drawRect(f-n.width*o,u,n.width*o,n.height,i),o=0);o>0&&this.drawRect(f-n.width*(o-1),u,n.width*o,n.height,i)}},{key:"drawSVGText",value:function(i,n,r){var a=this.document.createElementNS(Mr,"text");if(n.displayValue){var u,o;a.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?o=n.fontSize-n.textMargin:o=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||r.barcodePadding>0?(u=0,a.setAttribute("text-anchor","start")):n.textAlign=="right"?(u=r.width-1,a.setAttribute("text-anchor","end")):(u=r.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",u),a.setAttribute("y",o),a.appendChild(this.document.createTextNode(r.text)),i.appendChild(a)}}},{key:"setSvgAttributes",value:function(i,n){var r=this.svg;r.setAttribute("width",i+"px"),r.setAttribute("height",n+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+i+" "+n),r.setAttribute("xmlns",Mr),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(i,n,r){var a=this.document.createElementNS(Mr,"g");return a.setAttribute("transform","translate("+i+", "+n+")"),r.appendChild(a),a}},{key:"setGroupOptions",value:function(i,n){i.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(i,n,r,a,u){var o=this.document.createElementNS(Mr,"rect");return o.setAttribute("x",i),o.setAttribute("y",n),o.setAttribute("width",r),o.setAttribute("height",a),u.appendChild(o),o}}]),t}();jn.default=Eh;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});var wh=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function xh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Oh=function(){function t(e,i,n){xh(this,t),this.object=e,this.encodings=i,this.options=n}return wh(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();Wn.default=Oh;Object.defineProperty($n,"__esModule",{value:!0});var Sh=Un,Fh=Gn(Sh),Ah=jn,Ch=Gn(Ah),kh=Wn,Dh=Gn(kh);function Gn(t){return t&&t.__esModule?t:{default:t}}$n.default={CanvasRenderer:Fh.default,SVGRenderer:Ch.default,ObjectRenderer:Dh.default};var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});function Vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bh=function(t){qn(e,t);function e(i,n){Vn(this,e);var r=Kn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidInputException",r.symbology=i,r.input=n,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return e}(Error),Ph=function(t){qn(e,t);function e(){Vn(this,e);var i=Kn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return e}(Error),Ih=function(t){qn(e,t);function e(){Vn(this,e);var i=Kn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return e}(Error);Wt.InvalidInputException=Bh;Wt.InvalidElementException=Ph;Wt.NoElementException=Ih;Object.defineProperty(Ln,"__esModule",{value:!0});var Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh=Mn,Zn=Ra(Rh),Nh=$n,nr=Ra(Nh),Lh=Wt;function Ra(t){return t&&t.__esModule?t:{default:t}}function Xn(t){if(typeof t=="string")return Mh(t);if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(Xn(t[i]));return e}else{if(typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLImageElement)return $h(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&t instanceof SVGElement)return{element:t,options:(0,Zn.default)(t),renderer:nr.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Zn.default)(t),renderer:nr.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:nr.default.CanvasRenderer};if(t&&(typeof t=="undefined"?"undefined":Th(t))==="object"&&!t.nodeName)return{element:t,renderer:nr.default.ObjectRenderer};throw new Lh.InvalidElementException}}function Mh(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var i=[],n=0;n<e.length;n++)i.push(Xn(e[n]));return i}}function $h(t){var e=document.createElement("canvas");return{element:e,options:(0,Zn.default)(t),renderer:nr.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}Ln.default=Xn;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});var Uh=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function zh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var jh=function(){function t(e){zh(this,t),this.api=e}return Uh(t,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var n=i.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(r){return this.handleCatch(r),this.api}}}]),t}();Qn.default=jh;var Hh=fn,kt=vt(Hh),Wh=Ht,ir=vt(Wh),Gh=Rn,Na=vt(Gh),Vh=Nn,La=vt(Vh),Kh=Ln,qh=vt(Kh),Zh=Nr,Xh=vt(Zh),Qh=Qn,Yh=vt(Qh),Ma=Wt,Jh=Lr,$a=vt(Jh);function vt(t){return t&&t.__esModule?t:{default:t}}var ft=function(){},$r=function(e,i,n){var r=new ft;if(typeof e=="undefined")throw Error("No element to render on was provided.");return r._renderProperties=(0,qh.default)(e),r._encodings=[],r._options=$a.default,r._errorHandler=new Yh.default(r),typeof i!="undefined"&&(n=n||{},n.format||(n.format=ja()),r.options(n)[n.format](i,n).render()),r};$r.getModule=function(t){return kt.default[t]};for(var Ua in kt.default)kt.default.hasOwnProperty(Ua)&&e0(kt.default,Ua);function e0(t,e){ft.prototype[e]=ft.prototype[e.toUpperCase()]=ft.prototype[e.toLowerCase()]=function(i,n){var r=this;return r._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text=="undefined"?void 0:""+n.text;var a=(0,ir.default)(r._options,n);a=(0,Xh.default)(a);var u=t[e],o=za(i,u,a);return r._encodings.push(o),r})}}function za(t,e,i){t=""+t;var n=new e(t,i);if(!n.valid())throw new Ma.InvalidInputException(n.constructor.name,t);var r=n.encode();r=(0,Na.default)(r);for(var a=0;a<r.length;a++)r[a].options=(0,ir.default)(i,r[a].options);return r}function ja(){return kt.default.CODE128?"CODE128":Object.keys(kt.default)[0]}ft.prototype.options=function(t){return this._options=(0,ir.default)(this._options,t),this};ft.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};ft.prototype.init=function(){if(!!this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var i=(0,ir.default)(this._options,t.options);i.format=="auto"&&(i.format=ja()),this._errorHandler.wrapBarcodeCall(function(){var n=i.value,r=kt.default[i.format.toUpperCase()],a=za(n,r,i);Yn(t,a,i)})}}};ft.prototype.render=function(){if(!this._renderProperties)throw new Ma.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Yn(this._renderProperties[t],this._encodings,this._options);else Yn(this._renderProperties,this._encodings,this._options);return this};ft.prototype._defaults=$a.default;function Yn(t,e,i){e=(0,Na.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,ir.default)(i,e[n].options),(0,La.default)(e[n].options);(0,La.default)(i);var r=t.renderer,a=new r(t.element,e,i);a.render(),t.afterRender&&t.afterRender()}typeof window!="undefined"&&(window.JsBarcode=$r);typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(t,e){var i=[];return jQuery(this).each(function(){i.push(this)}),$r(i,t,e)});var t0=$r;class r0{constructor(){this.callback=()=>{},this.socket=null}connect(){return new Promise((e,i)=>{if(this.socket)e(null);else{let n=new WebSocket("ws://localhost:13528"),r=this.getRequestObject("setPrinterConfig");r.printer.forceNoPageMargins=!1,r.printer.paperSize={width:90,height:90},n.onerror=function(a){i()},n.onmessage=a=>{const u=JSON.parse(a.data);u.cmd=="notifyPrintResult"&&(u.taskStatus=="printed"?(console.log(u),this.callback(u.taskStatus)):u.taskStatus=="failed"&&(console.log(u),Ee.error("\u6253\u5370\u5931\u8D25"),this.callback(u.taskStatus)))},n.onopen=a=>{this.socket=n,e(null)},n.onclose=a=>{this.socket=null}}})}disconnect(){this.socket&&this.socket.onclose}async doPrint(e,i){console.log("\u5F00\u59CB\u6253\u5370123"),this.callback=i;let n=this.getRequestObject("print");console.log("11111111111"),n.task.taskID=this.getUuid(8,10),n.task.preview=!1,n.task.previewType="",n.task.firstDocumentNumber=1,n.task.totalDocumentCount=1,n.task.printer="",n.task.documents=e,console.log(n.task),this.connect().then(()=>{console.info(222222222),this.callback("open"),this.socket.send(JSON.stringify(n))}).catch(r=>{console.info(33333333),this.callback("no open")})}getRequestObject(e){return{requestID:this.getUuid(8,16),version:"1.0",cmd:e,printer:{},task:{}}}getUuid(e,i){let n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[],a;if(i=i||n.length,e)for(a=0;a<e;a++)r[a]=n[0|Math.random()*i];else{let u;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",a=0;a<36;a++)r[a]||(u=0|Math.random()*16,r[a]=n[a==19?u&3|8:u])}return r.join("")}getCustomAreaData(e){return{templateURL:e.contents[0].templateURL,data:e.contents[0].data}}getWaybillJson(e){return e[0]}}const Ha=new r0,Dt={links:{CN:{url:"https://item.taobao.com/item.htm?id=",componentDownloadUrl:"https://page.cainiao.com/waybill/cloud_printing/home.html"},TEMPLATEURL:{documentUrl:"http://file.yimaivip.com/file/document-img-1.xml",documentUrlZpt:"http://file.yimaivip.com/file/document-img-3.xml",shippingNumberUrl:"https://suyunbao-1307397511.cos.ap-guangzhou.myqcloud.com/template/shipping_number.xml",shippingNumberQrcodeUrl:"http://file.yimaivip.com/file/shipping_number_qrcode.xml",shippingNumberBarCodeUrl:"https://suyunbao-1307397511.cos.ap-guangzhou.myqcloud.com/template/shipping_number_barcode.xml",shippingNumberBarCodeUrl02:"https://suyunbao-1307397511.cos.ap-guangzhou.myqcloud.com/template/shipping_number_barcode_100x100.xml",shippingNumberBarCodeUrl03:"https://suyunbao-1307397511.cos.ap-guangzhou.myqcloud.com/template/shipping_number_barcode_80x60.xml",customsClearanceUrl:"https://suyunbao-1307397511.cos.ap-guangzhou.myqcloud.com/template/customs_clearance.xml"}}},Wa={"\u7EBF\u4E0B7-ELEVEN":"x7E",\u7EBF\u4E0B\u65B0\u7AF9\u7269\u6D41:"xxz",\u7EBF\u4E0B\u5168\u5BB6:"xqj","OK Mart":"ok",\u840A\u723E\u5BCC:"lef",\u8766\u76AE\u5E97\u5230\u5E97:"ddd",\u8CE3\u5BB6\u5B85\u914D:"zp",\u5168\u5BB6:"qj","7-ELEVEN":"7E",\u5B85\u914D\u901A:"zpt",\u9ED1\u8C93\u5B85\u6025\u4FBF:"hm",\u65B0\u7AF9\u7269\u6D41:"xz",\u5609\u91CC\u5FEB\u905E:"jl",\u5E97\u5230\u5BB6\u5B85\u914D:"dddzp","\u8CE3\u5BB6\u5B85\u914D\uFF1A\u5927\u578B/\u8D85\u91CD\u7269\u54C1\u904B\u9001":"zpdx","\u8766\u76AE\u5E97\u5230\u5E97 - \u9694\u65E5\u5230\u8CA8":"xpdddt",\u8766\u76AE\u5B85\u914D:"xpzp","\u5E97\u5230\u5BB6\u5B85\u914D - \u6A19\u6E96\u5305\u88F9":"ddjbz","\u5E97\u5230\u5BB6\u5B85\u914D - \u5927\u578B\u5305\u88F9":"ddjdx"};let Ur=null;class n0{printShippingNumber(e,i){let n=e.map(u=>{var d;const{transportType:o,tenantryNo:f,shrimpOrderNo:m}=u,l=u.orderPackageList[0].shippingCarrier;return{sy:(d=Object.entries(Wa).find(([g,h])=>l.indexOf(g)!=-1))==null?void 0:d[1],headLogisticsSy:o,hhh:i.watermark?i.watermark:"",orderSn:m,checkOutTime:"",identifying:f+"  P13",ji:i.printJi,mo:i.printMo,virtualNumber:i.virtualNumber,recipients:i.recipients,recipientsMobile:i.recipientsMobile,recipientsAddress:i.recipientsAddress,senderName:i.senderName,senderMobile:i.senderMobile,senderAddress:i.senderAddress}}),r=[],a={documentID:"shippingNumber",contents:[{data:n[0],templateURL:Dt.links.TEMPLATEURL.shippingNumberUrl}]};return r.push(a),this.printOperation(r)}printQrCodeShippingNumber(e,i){let n=e.map(u=>({orderSn:u.shrimpOrderNo,hhh:i.watermark||""})),r=[],a={documentID:"printShippingNumberQrcoder",contents:[{data:n[0],templateURL:Dt.links.TEMPLATEURL.shippingNumberQrcodeUrl}]};return r.push(a),this.printOperation(r)}printBarCodeShippingNumber(e,i,n){let r=e.map(o=>{let f="xx";return{orderSn:o.shrimpOrderNo,hhh:i.watermark?i.watermark:"",shippingCarrier:f,invitationCode:n||"",headLogistics:o.transportType||""}}),a=Dt.links.TEMPLATEURL.shippingNumberBarCodeUrl;i.printTemplate==="2"?a=Dt.links.TEMPLATEURL.shippingNumberBarCodeUrl:i.printTemplate==="3"?a=Dt.links.TEMPLATEURL.shippingNumberBarCodeUrl02:i.printTemplate==="4"&&(a=Dt.links.TEMPLATEURL.shippingNumberBarCodeUrl03);const u=[{documentID:"printShippingNumberQrcoder",contents:[{data:r[0],templateURL:a}]}];return this.printOperation(u)}async quickPrint2(e,i,n){return new Promise((r,a)=>{if(i){const u=[{documentID:e.id+Math.random(),contents:[{data:{url:i.replaceAll("&","&amp;")},templateURL:n}]}];Ha.doPrint(u,o=>{o=="no open"?Ee.warning({content:"\u60A8\u8FD8\u672A\u5B89\u88C5\u6216\u8005\u672A\u5F00\u542F\u83DC\u9E1F\u5B98\u65B9\u6253\u5370\u7EC4\u4EF6\uFF0C\u8BF7\u5148\u5B89\u88C5\u6216\u8005\u5F00\u542F\uFF01"}):o=="failed"?a("\u6253\u5370\u5931\u8D25"):o=="open"||o=="printed"&&r(!0)});return}a("\u6253\u5370\u5931\u8D25\uFF0C\u9762\u5355\u4FE1\u606F\u4E3A\u7A7A")})}printOperation(e){return new Promise((i,n)=>{Ha.doPrint(e,r=>{if(["no open","failed"].includes(r)){const a=r==="no open"?"\u6253\u5370\u5931\u8D25\uFF0C\u672A\u5B89\u88C5\u6216\u8005\u672A\u5F00\u542F\u83DC\u9E1F\u5B98\u65B9\u6253\u5370\u7EC4\u4EF6":"\u6253\u5370\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6253\u5370\u673A\u662F\u5426\u8FDE\u63A5\u6B63\u5E38";this.printProcessing(a),n(new Error(a))}i(r)})})}printProcessing(e){Ur||(Ur=Be.confirm({title:"\u63D0\u793A",content:e,okText:"\u53BB\u4E0B\u8F7D",cancelText:"\u53BB\u5F00\u542F",onCancel:()=>{Ur=null},onOk:()=>{window.open(Dt.links.CN.componentDownloadUrl,"_blank"),Ur=null}}))}}const Jn=new n0;var Ge;(function(t){t.YUANTONG="0",t.QR_CODE="1",t.BAR_CODE="2"})(Ge||(Ge={}));const ei={[Ge.YUANTONG]:"\u5706\u901A\u901F\u8FD0",[Ge.QR_CODE]:"\u4E8C\u7EF4\u7801",[Ge.BAR_CODE]:"\u6761\u5F62\u7801"},V0=[{label:ei[Ge.YUANTONG],value:Ge.YUANTONG},{label:ei[Ge.QR_CODE],value:Ge.QR_CODE},{label:ei[Ge.BAR_CODE],value:Ge.BAR_CODE}];function i0(t){var e=document.createElement("canvas");return t0(e,t,{height:60,displayValue:!1}),e.toDataURL("image/png")}function a0(t){var i,n;return`<!DOCTYPE html>
<html>
    <header>
        <style>
        @page{
            margin: 0.2cm;
        }
            table {width: 330px; margin-bottom: 10px; border-collapse: collapse;}
            table td {font-size: 12px;}
            table.goodsList {
                border-top: 1px solid #000;border-left: 1px solid #000;
            }
            table.goodsList td {
                border-bottom: 1px solid #000;border-right: 1px solid #000;
            }
        </style>
    </header>
    <body style="margin: 0px;">
        
    <div style="width: 350px; padding: 10px; ">
             <div style="min-height: 480px;border: 2px solid #000; padding: 0px 10px;">
                <h3 style="text-align: center;margin: 10px;">\u62E3\u8D27\u5355</h3>
                <div style="border-bottom: dashed 1px #000;"></div>
                <table >
                    <tr>
                      <td style="text-align: center;padding: 5px 0px 0px;">
                        <img width="200" src="${i0(t.shrimpOrderNo)}"/> 
                       </td>
                    </tr>
                    <tr>
                        <td style="width: 200px; font-size: 14px;">
                            <div style="border-bottom: dashed 1px #000;"></div>
                            <div>\u8BA2\u5355\u7F16\u53F7\uFF1A<span style="font-size: 16px;">${t.shrimpOrderNo}</span></div>
                             <div>\u7528\u6237\u6807\u8BC6\uFF1A${t.tenantryNo}</div>
                            <div>\u6253\u5355\u4EBA\u5458\uFF1A${t.userName}</div>
                            <div>\u5C3E\u7A0B\u7269\u6D41\uFF1A${Wa[((n=(i=t.orderPackageList)==null?void 0:i[0])==null?void 0:n.shippingCarrier)||""]||""}</div>
                            <div>\u5907&emsp;&emsp;\u6CE8\uFF1A</div>
                            <div>\u5E97\u94FA\u540D\u79F0\uFF1A</div>
                            <div>\u6253\u5370\u65F6\u95F4\uFF1A${Ne().format("YYYY/MM/DD HH:mm:ss")}</div>
                            <div style="border-bottom: dashed 1px #000;"></div>
                        </td>
                    </tr>
                </table>
                <div style="text-align: center;margin-bottom: 10px">
                    <span style="text-align: center; margin-bottom: 10px;font-size: 16px;font-weight: bold">\u96C6\u8FD0\u4FE1\u606F</span>
                    <span style="float: right;">\u5171${Ce.exports.sum(t.orderProductVOList.map(r=>r.quantity))}\u4EF6</span>
                </div>
                <table border="1" class="goodsList">
                    <tr>
                        <td style="width: 70px;font-weight: bold;">\u4ED3\u4F4D</td>
                        <td style="width: 80px;font-weight: bold;">\u5355\u53F7</td>
                        <td style="font-weight: bold;">\u89C4\u683C/SKU</td>
                        <td style="font-weight: bold;">\u6570\u91CF</td>
                    </tr>
                    
                     ${t.orderProductVOList.map(r=>{var a,u;return`
                        <tr>
                            <td>${r.freightSpaceName}</td>
                            <td>${t.shrimpOrderNo}</td>
                            <td>
                              <div>${r.specificationName||((a=r.logisticsProduct)==null?void 0:a.productName)}</div>
                              <div>${((u=r.logisticsProduct)==null?void 0:u.sku)||r.sku}</div>
                            </td>
                            <td>${r.quantity}</td>
                        </tr>  
                      `})}
                </table>
             </div>   
             <p style="page-break-after: always"></p>
        </div>

    </body>
</html>
  `}function Ga({orderItem:t,userName:e}){const i=a0(ue(q({},t),{userName:e}));Ci({printable:i,type:"raw-html",base64:!1,targetStyles:["*"]})}function o0(t){const{userInfo:e}=Zr(i=>i);return{printHandle:()=>Ga({orderItem:t,userName:e==null?void 0:e.userName})}}async function ti(t){const{orderItem:e,sendWarehouse:i}=t,n=await Jr.getEntrepotParams(i).then(a=>a.data.data),r={printTemplate:"0",watermark:n.shippingNoteWatermarking||"",printJi:n.shippingOrderSet||"",printMo:n.endOfShipment||"",virtualNumber:n.shippingOrderVirtualNumber||"",recipients:n.recipientName||"",recipientsMobile:n.recipientPhone||"",recipientsAddress:n.recipientAddress||"",senderName:n.senderName||"",senderMobile:n.senderPhone||"",senderAddress:n.senderAddress||"",warehouseId:i};if(n.shippingOrderPrintingTemplate===Ge.YUANTONG)return Jn.printShippingNumber([e],r);if(n.shippingOrderPrintingTemplate===Ge.QR_CODE)return r.printTemplate="3",Jn.printQrCodeShippingNumber([e],r);if(n.shippingOrderPrintingTemplate===Ge.BAR_CODE)return r.printTemplate="4",Jn.printBarCodeShippingNumber([e],r,e.tenantryNo);throw new Error("\u51FA\u8D27\u5355\u6253\u5370\u6A21\u7248\u4E0D\u5B58\u5728,\u8BF7\u68C0\u67E5\u4ED3\u5E93\u8BBE\u7F6E\uFF01")}function u0(t){const{orderItem:e,buttonProps:i,onSuccess:n}=t,[r,a]=se.exports.useState(!1),[u,o]=se.exports.useState([]),[f,m]=se.exports.useState([]),[l,c]=se.exports.useState([]),[s,d]=se.exports.useState(),g=ve(async _=>{if(s&&await we(()=>ke.saveOrder(ue(q({},Ce.exports.omit(s,["orderProductVOList","orderPackageList"])),{logisticsOrderProductVOList:s.orderProductVOList.map((E,A)=>ue(q({},E),{actualQuantity:u[A]||E.actualQuantity,holdStock:f[A]||E.holdStock,stockOutStatus:l[A]||E.stockOutStatus})),logisticsOrderPackageList:s.orderPackageList})),"\u4FDD\u5B58"),!_){a(!1),Fe.emit(xe.refreshOrderPage);return}_&&e&&(await we(()=>Si.ScanOut({shrimpOrderNo:e.shrimpOrderNo,sendWarehouse:e.sendWarehouse})),ti({orderItem:e,sendWarehouse:e.sendWarehouse||""}),a(!1),setTimeout(()=>{Fe.emit(xe.focusScanInput)},200),n())},{manual:!0});se.exports.useEffect(()=>{r&&(e==null?void 0:e.orderProductVOList)&&(o(e.orderProductVOList.map(_=>_.actualQuantity)),m(e.orderProductVOList.map(_=>_.holdStock)))},[r]);const h=se.exports.useRef(),y=se.exports.useRef(),v=se.exports.useRef(_=>{console.log("\u6309\u94AE"),_.key==="Enter"&&(y.current.disabled?(console.log("\u4FDD\u5B58"),g.run()):(console.log("\u51FA\u5E93"),y.current.click()),_.preventDefault(),_.stopPropagation())});return se.exports.useEffect(()=>(r&&h.current&&(console.log("\u7ED1\u5B9A"),h.current.addEventListener("keydown",v.current)),()=>{var _;(_=h.current)==null||_.removeEventListener("keydown",v.current)}),[r,h.current]),te(ye,{children:[w(fe,ue(q({onClick:()=>{a(!0)},type:"text"},i),{children:["1","2"].includes(e.orderStatus)?"\u5305\u88F9\u51FA\u5E93":"\u5305\u88F9\u8BE6\u60C5"})),w(Be,{style:{width:1200},title:w("div",{children:`\u5305\u88F9\u8BE6\u60C5 - \u8BA2\u5355\u7F16\u53F7\uFF1A${e==null?void 0:e.shrimpOrderNo}`}),visible:r,onCancel:()=>a(!1),footer:te(Ye,{className:"ml-auto",children:[w(fe,{onClick:()=>{a(!1)},children:"\u5173\u95ED"}),w(fe,{type:"primary",loading:g.loading,onClick:()=>{g.run()},children:"\u4FDD\u5B58"}),w(es,{ref:y,type:"primary",status:"danger",loading:g.loading,disabled:e.orderStatus!=="2"||[dt.\u53D6\u6D88\u4E2D,dt.\u5DF2\u53D6\u6D88].includes(e.shopeeStatus),onClick:()=>{g.run(!0)}})]}),children:te("div",{className:"",tabIndex:-1,ref:h,children:[w(Kr,{rowKey:"id",pagination:!1,scroll:{y:400},border:{wrapper:!0,cell:!0},data:e.orderProductVOList,columns:[{title:"\u5546\u54C1\u4FE1\u606F",dataIndex:"0",width:450,render(_,E){var A;return w("div",{className:Me(["grid","h-[125px]"]),children:w(mi.Item.Meta,{className:"!items-center p-2 w-full",avatar:w(hr,{className:"size-24",src:(A=E.productImg)==null?void 0:A[0]}),title:`${E.productName.slice(0,25)}...`,description:te("div",{children:[w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u5355\u2003\u2003\u4EF7",value:E.unitPrice}),w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u6570\u2003\u2003\u91CF",value:E.quantity}),w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u89C4\u683C\u540D\u79F0",value:E.specificationName}),w(he,{className:"!mb-0",labelClassName:"!text-sm !pr-1 !align-baseline",valueClassName:"!text-sm",label:"\u89C4\u683CSKU",value:E.sku})]})})},E.id)}},{title:"\u53D1\u8D27\u4FE1\u606F",dataIndex:"fhxx",width:250,render(_,E){return w(ta,{item:E,orderStatus:e.orderStatus,sendWarehouse:e.sendWarehouse,orderId:e.id})}},{title:"\u6536\u8D27\u4FE1\u606F",dataIndex:"shxx",width:250,render(_,E,A){var D;return te("div",{children:[w(Pe.Item,{label:"\u5B9E\u9645\u6570\u91CF",labelCol:{span:8},wrapperCol:{span:16},colon:!0,children:w(qr,{placeholder:"\u8BF7\u8F93\u5165",value:u[A]||E.actualQuantity,onChange:C=>{u[A]=C,o([...u])}})}),w(Pe.Item,{label:"\u7F3A\u8D27\u6253\u5305",labelCol:{span:8},wrapperCol:{span:16},colon:!0,children:w(pi,{checked:(D=l[A])!=null?D:E.stockOutStatus,onChange:C=>{l[A]=C,c([...l])}})})]})}}]}),te(xt.Row,{className:"mt-4",children:[w(xt.Col,{span:12,children:te("div",{children:[w(he,{label:"\u5356\u5BB6\u5907\u6CE8",value:w("span",{className:"text-red-700 font-bold",children:e.remark})}),w(he,{label:"\u6253\u5305\u8981\u6C42",value:"\u6682\u65E0\u8981\u6C42"}),w(he,{label:"\u6E29\u99A8\u63D0\u793A",value:w("span",{className:"text-red-700 font-bold",children:w(gr,{dictCode:"tips",value:"xpddd"})})})]})}),w(xt.Col,{span:12,children:w("div",{className:"flex-1 border-l",children:te("div",{className:"flex",children:[w(ut,{className:"w-[300px]",size:"small",span:24,initialValues:ue(q({},Ce.exports.pick(e,["parcelType","parcelWeight","parcelLength","parcelWide","parcelHigh"])),{transportType:e.transportType||"KY",parcelType:e.parcelType||"0"}),onValuesChange:_=>{d(q(q({},e),_))},formItemConfigList:[{schema:{label:"\u8FD0\u8F93\u7C7B\u578B",field:"transportType"},control:"dictSelector",controlProps:{dictCode:"transport_type"}},{schema:{label:"\u5305\u88F9\u7C7B\u578B",field:"parcelType"},control:"dictSelector",controlProps:{dictCode:"parcel_type"}},{schema:{label:"\u5305\u88F9\u91CD\u91CF",field:"parcelWeight"},control:"number"},{schema:{label:"\u5305\u88F9\u957F\u5EA6",field:"parcelLength"},control:"number"},{schema:{label:"\u5305\u88F9\u5BBD\u5EA6",field:"parcelWide"},control:"number"},{schema:{label:"\u5305\u88F9\u9AD8\u5EA6",field:"parcelHigh"},control:"number"}]}),w("div",{className:"flex-1 border-l px-2",children:w(go,{column:1,colon:!0,data:[{label:"\u57FA\u672C\u8D39\u7528\uFF1A",value:"1"},{label:"\u5934\u7A0B\u8D39\u7528\uFF1A",value:e.firstLegCost},{label:"\u9644\u52A0\u8D39\u7528\uFF1A",value:e.appendCost},{label:"\u603B\u8D39\u7528\uFF1A",value:e.totalCost}],style:{marginBottom:20},labelStyle:{paddingRight:36}})})]})})})]})]})})]})}var yt;(function(t){t[t.PICKING=0]="PICKING",t[t.SHIPPING=1]="SHIPPING"})(yt||(yt={}));var Va=t=>{const{orderItem:e,buttonProps:i,printType:n,children:r}=t,{printHandle:a}=o0(e),{run:u,loading:o}=ve(async()=>{try{await ti({orderItem:e,sendWarehouse:e.sendWarehouse||""}),Ee.success("\u6253\u5370\u6210\u529F")}catch(m){Ee.error(m.message)}},{manual:!0});function f(){n===0?a():n===1&&u()}return w(ye,{children:w(fe,ue(q({type:"text",loading:o},i),{onClick:f,children:r}))})};function s0(t){const{buttonProps:e,id:i}=t,[n,r]=se.exports.useState(!1),[a]=Pe.useForm(),{run:u,loading:o}=ve(async f=>{await we(()=>ke.updateRemark({orderId:i,remark:f.remark}),"\u4FEE\u6539\u4ED3\u5E93\u5907\u6CE8"),Fe.emit(xe.refreshOrderPage)},{manual:!0});return te("div",{children:[w(fe,ue(q({type:"primary"},e),{onClick:()=>r(!0),children:"\u4ED3\u5E93\u5907\u6CE8"})),w(Be,{title:"\u64CD\u4F5C\u8BB0\u5F55",visible:n,onCancel:()=>r(!1),cancelText:"\u5173\u95ED",unmountOnExit:!0,onOk:async()=>{const f=a.getFieldValue("remark");u({remark:f!=null?f:""}),r(!1),a.resetFields()},confirmLoading:o,children:w(Pe,{form:a,children:w(Pe.Item,{label:"\u4ED3\u5E93\u5907\u6CE8",field:"remark",children:w(wt,{placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u5907\u6CE8"})})})})]})}function l0(t){const e=Math.floor(t/86400),i=Math.floor(t%86400/3600),n=Math.floor(t%3600/60),r=t%60;let a="";return e>0&&(a+=`${e}\u5929`),(i>0||e>0)&&(a+=`${i.toString().padStart(2,"0")}\u5C0F\u65F6`),(n>0||i>0||e>0)&&(a+=`${n.toString().padStart(2,"0")}\u5206`),a+=`${r.toString().padStart(2,"0")}\u79D2`,a}const c0=({targetTime:t,onComplete:e,interval:i=1e3,format:n=l0,showDays:r=!0})=>{const[a,u]=se.exports.useState({days:0,hours:0,minutes:0,seconds:0,totalSeconds:0}),o=se.exports.useRef(null);return se.exports.useEffect(()=>{const f=()=>{const l=Ne(),c=Ne(t),s=Math.max(0,c.diff(l,"second")),d=Math.floor(s/86400),g=Math.floor(s%86400/3600),h=Math.floor(s%3600/60),y=s%60;return{days:d,hours:g,minutes:h,seconds:y,totalSeconds:s}},m=f();return u(m),m.totalSeconds>0&&(o.current=setInterval(()=>{const l=f();u(l),l.totalSeconds<=0&&(o.current&&(clearInterval(o.current),o.current=null),e&&e())},i)),()=>{o.current&&clearInterval(o.current)}},[t,i,e]),r?w(ye,{children:n(a.totalSeconds)}):(Math.floor(a.totalSeconds/3600),Math.floor(a.totalSeconds%3600/60),a.totalSeconds%60,w(ye,{children:n(a.totalSeconds)}))};var d0=({buttonProps:t})=>{const[e]=Pe.useForm(),[i,n]=se.exports.useState(!1),[r,a]=se.exports.useState([]),{run:u,loading:o}=ve(async()=>{const{storeId:f,orderUpdateTime:m}=await e.validate();if(!f.length)return Ee.error("\u672A\u83B7\u53D6\u5230\u5E97\u94FA\u4FE1\u606F");try{const l=await Promise.race([at.syncOrder({orderUpdateStartTime:Ne(m[0]).format("YYYY-MM-DD HH:mm:ss"),orderUpdateEndTime:Ne(m[1]).format("YYYY-MM-DD HH:mm:ss"),storeId:f}),Xr(2e3)]);if((l==null?void 0:l.data)&&l.data.code!==Ei)return Be.error({title:"\u64CD\u4F5C\u5931\u8D25",content:l.data.msg});n(!1),Be.success({title:"\u64CD\u4F5C\u6210\u529F",content:"\u540C\u6B65\u4EFB\u52A1\u5DF2\u63D0\u4EA4\uFF0C\u8BF7\u7A0D\u540E\u5237\u65B0\u9875\u9762\u67E5\u770B"})}catch(l){Ee.error(l.message)}},{manual:!0});return te(ye,{children:[w(fe,ue(q({loading:o,icon:w(vo,{}),type:"outline",onClick:()=>{n(!0)}},t),{children:"\u540C\u6B65\u8BA2\u5355"})),w(Be,{title:"\u540C\u6B65\u8BA2\u5355",visible:i,style:{width:600},onCancel:()=>{n(!1)},confirmLoading:o,onConfirm:()=>{u()},children:w(ut,{form:e,span:24,formItemConfigList:[{schema:{label:"\u6240\u5C5E\u5E97\u94FA",field:"storeId",required:!0},control:"shopSelector",controlProps:{mode:"multiple"}},{schema:{label:"\u65F6\u95F4\u8303\u56F4",field:"orderUpdateTime",required:!0},control:"datePickerRange",controlProps:{onSelect:(f,m)=>{a(m)},onVisibleChange:f=>{f||a([])},disabledDate:f=>{if(r&&r.length){const m=r[0]&&Math.abs(f.diff(r[0],"day"))>14;return r[1]&&Math.abs(r[1].diff(f,"day"))>14||m}return!1},clearRangeOnReselect:!0,shortcuts:Mo}}]})})]})},Ka={exports:{}};(function(t,e){(function(i,n){n()})(ct,function(){function i(m,l){return typeof l=="undefined"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function n(m,l,c){var s=new XMLHttpRequest;s.open("GET",m),s.responseType="blob",s.onload=function(){f(s.response,l,c)},s.onerror=function(){console.error("could not download file")},s.send()}function r(m){var l=new XMLHttpRequest;l.open("HEAD",m,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function a(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(l)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ct=="object"&&ct.global===ct?ct:void 0,o=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(m,l,c){var s=u.URL||u.webkitURL,d=document.createElement("a");l=l||m.name||"download",d.download=l,d.rel="noopener",typeof m=="string"?(d.href=m,d.origin===location.origin?a(d):r(d.href)?n(m,l,c):a(d,d.target="_blank")):(d.href=s.createObjectURL(m),setTimeout(function(){s.revokeObjectURL(d.href)},4e4),setTimeout(function(){a(d)},0))}:"msSaveOrOpenBlob"in navigator?function(m,l,c){if(l=l||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(i(m,c),l);else if(r(m))n(m,l,c);else{var s=document.createElement("a");s.href=m,s.target="_blank",setTimeout(function(){a(s)})}}:function(m,l,c,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof m=="string")return n(m,l,c);var d=m.type==="application/octet-stream",g=/constructor/i.test(u.HTMLElement)||u.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||d&&g||o)&&typeof FileReader!="undefined"){var y=new FileReader;y.onloadend=function(){var E=y.result;E=h?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=E:location=E,s=null},y.readAsDataURL(m)}else{var v=u.URL||u.webkitURL,_=v.createObjectURL(m);s?s.location=_:location.href=_,s=null,setTimeout(function(){v.revokeObjectURL(_)},4e4)}});u.saveAs=f.saveAs=f,t.exports=f})})(Ka);var f0=t=>{var d,g,h,y;const{selectIds:e,getPageQuery:i}=t,[n,r]=se.exports.useState(!1),[a,u]=se.exports.useState(0),o=se.exports.useMemo(()=>`\u6279\u91CF\u4E0B\u8F7D\u9762\u5355 ${e.length?`(${e.length}\u4E2A)`:""}`,[e.length]),f=ve(()=>ke.countSheetFile(i({isBindSelect:!0})).then(v=>{const _=v.data.data;if(_.count===_.total){Ee.error("\u6CA1\u6709\u53EF\u4E0B\u8F7D\u7684\u9762\u5355\uFF0C\u8BF7\u68C0\u67E5\u76F8\u5173\u4FE1\u606F\uFF01");return}return r(!0),v.data.data}),{manual:!0}),{data:m,loading:l,run:c,mutate:s}=ve(async()=>{const _=(await ke.getDownloadSheetFile(i({isBindSelect:!0}))).data.data.list.map(E=>E.documentUrl);return Jo(_,E=>{u(E.percentage)}).then(E=>{var A;return((A=E==null?void 0:E.results)==null?void 0:A.failed)||(r(!1),Ee.success({duration:3e3,content:"\u4E0B\u8F7D\u6210\u529F"})),E})},{manual:!0});return te(ye,{children:[w(fe,{type:"outline",loading:f.loading,onClick:async()=>{s(null),f.mutate(null),f.run()},children:o}),w(Be,{title:o,onOk:()=>{c()},okText:l?"\u4E0B\u8F7D\u4E2D":`\u786E\u8BA4\u4E0B\u8F7D ${((d=f.data)==null?void 0:d.total)-((g=f.data)==null?void 0:g.count)} \u6761`,confirmLoading:l,visible:n,onCancel:()=>{r(!1)},cancelText:"\u5173\u95ED",children:l||m?te("div",{children:[te("div",{className:"flex gap-2",children:[w("span",{children:"\u4E0B\u8F7D\u8FDB\u5EA6\uFF1A"}),w(yo,{className:"flex-1",percent:a,status:"success",animation:!0,width:300})]}),((h=m==null?void 0:m.results)==null?void 0:h.failed)?w(bo,{className:"mt-4",showIcon:!0,type:"error",content:`\u4E0B\u8F7D\u5931\u8D25 ${m.results.failed} \u4E2A`}):null]}):w("div",{children:((y=f.data)==null?void 0:y.count)?`\u786E\u8BA4\u4E0B\u8F7D\u5168\u90E8\u9762\u5355\uFF1F\u5176\u4E2D\u6709 ${f.data.count} \u6761\u6570\u636E\u6682\u672A\u83B7\u53D6\u5230\u9762\u5355\uFF0C\u662F\u5426\u7EE7\u7EED\u4E0B\u8F7D\uFF1F`:"\u786E\u8BA4\u4E0B\u8F7D\u5168\u90E8\u9762\u5355\uFF1F"})})]})};function h0(t){const{data:e,selectIds:i,activeTab:n,dictCode:r,getPageQuery:a}=t,{userInfo:u}=Zr(h=>h),o=ve(async()=>{const h=a({isBindSelect:!0}),y=await ke.exportOrderList(h),v=y.headers["content-disposition"];let _="\u8BA2\u5355\u5BFC\u51FA.xlsx";if(v){const E=v.match(/filename="?([^"]+)"?/);E&&E[1]&&(_=decodeURIComponent(E[1]))}Ka.exports.saveAs(y.data,_),Be.success({content:"\u8BA2\u5355\u5BFC\u51FA\u6210\u529F\uFF0C\u8BF7\u6CE8\u610F\u67E5\u6536\uFF01",title:"\u6E29\u99A8\u63D0\u793A"})},{manual:!0}),f=ve(async()=>{await we(()=>{const h=Ce.exports.chunk(i,20).map(y=>()=>Si.outList({orderIdList:y}));return wi(h)},"\u51FA\u5E93"),Fe.emit(xe.refreshOrderPage)},{manual:!0}),m=ve(async h=>{const y=e.list.filter(A=>i.includes(A.id)),v=Ce.exports.uniq(y.map(A=>A.sendWarehouse)),_=(await Promise.all(v.map(A=>Jr.getSenderAll({entrepotId:A}).then(D=>({[A]:D}))))).reduce((A,D)=>q(q({},A),D),{});console.log("orderIds",h);const E=h.map(A=>{var D,C;return{orderId:A,senderRealName:((C=_[(D=e.list.find(N=>N.id===A))==null?void 0:D.sendWarehouse])==null?void 0:C.default)||uu}});if(console.log("batchList",E),!E.length)return Ee.info("\u5DF2\u5168\u90E8\u51FA\u8D27\u6210\u529F");await we(()=>{const A=Ce.exports.chunk(E,20).map(D=>()=>ke.shipmentBatch(D));return wi(A)},"\u6279\u91CF\u51FA\u8D27").then(A=>{var C,N;const D=(((N=(C=A.data)==null?void 0:C.data)==null?void 0:N.list)||[]).map(F=>{var x;return{msg:F.msg,orderId:((x=e.list.find(T=>T.id===F.orderId))==null?void 0:x.shrimpOrderNo)||"\u83B7\u53D6\u5931\u8D25"}});D.length&&Be.confirm({noticeType:"warning",title:D.length!==E.length?"\u90E8\u5206\u8BA2\u5355\u51FA\u8D27\u5931\u8D25":"\u6279\u91CF\u51FA\u8D27\u5931\u8D25",content:D.map(F=>`${F.msg}\uFF0C\u8BA2\u5355\u7F16\u53F7\uFF1A${F.orderId}`).join(`
`)})}),Fe.emit(xe.refreshOrderPage)},{manual:!0}),l=ve(async()=>we(()=>ke.overseasWarehouseReturnDestroyBatch(i),"\u9500\u6BC1").then(()=>{Fe.emit(xe.refreshOrderPage)}),{manual:!0}),c=ve(async()=>{if(!i.length)return Ee.error("\u8BF7\u9009\u62E9\u8BA2\u5355");Je({content:`\u786E\u5B9A\u6279\u91CF\u7533\u8BF7\u9762\u5355\uFF1F(${i.length}\u4E2A)`,onOk:async()=>{const h=i.map(y=>{var v;return(v=e.list.find(_=>_.id===y))==null?void 0:v.shrimpOrderNo});await we(()=>ke.batchGetTrackingNumber(h),"\u6279\u91CF\u7533\u8BF7\u9762\u5355"),Be.success({title:"\u6E29\u99A8\u63D0\u793A",content:"\u6279\u91CF\u7533\u8BF7\u9762\u5355\u5DF2\u63D0\u4EA4\uFF0C\u8BF7\u7B49\u5F85\u51E0\u5206\u949F\u540E\u518D\u4E0B\u8F7D\u9762\u5355\u3002"})}})},{manual:!0}),s=r!==Ve.OUT_ORDER_STATUS,{run:d,loading:g}=ve(async h=>{const y=i.length?e.list.filter(v=>i.includes(v.id)):e.list;if(!y.length)return Ee.error("\u672A\u627E\u5230\u8981\u6253\u5370\u7684\u8BA2\u5355");for(const v of y)try{h===yt.PICKING?(Ga({orderItem:v,userName:(u==null?void 0:u.userName)||""}),await Xr(500)):h===yt.SHIPPING&&(await ti({orderItem:v,sendWarehouse:v.sendWarehouse||""}),await Xr(300))}catch(_){console.error(`\u8BA2\u5355 ${v.shrimpOrderNo} \u6253\u5370\u5931\u8D25:`,_==null?void 0:_.message),Ee.error(`\u8BA2\u5355 ${v.shrimpOrderNo} \u6253\u5370\u5931\u8D25: ${_==null?void 0:_.message}`)}Ee.success("\u6253\u5370\u5B8C\u6210\uFF01")},{manual:!0});return te(Ye,{size:8,children:[w(ui,{title:"\u786E\u8BA4\u5BFC\u51FA\u8BA2\u5355\uFF1F",onOk:()=>o.run(),okButtonProps:{loading:o.loading},children:te(fe,{type:"outline",icon:w(gi,{}),loading:o.loading,children:["\u5BFC\u51FA\u8BA2\u5355"," ",i.length?`(${i.length}\u4E2A)`:""]})}),s?w(fe,{type:"outline",loading:f.loading,disabled:n>=Ni.\u5DF2\u51FA\u5E93,onClick:async()=>{if(!i.length)return Ee.error("\u8BF7\u9009\u62E9\u8BA2\u5355");await Je({content:`\u786E\u5B9A\u51FA\u5E93 ${i.length} \u4E2A\u8BA2\u5355\uFF1F`,okButtonProps:{status:"success"}}),f.run()},children:"\u6279\u91CF\u51FA\u5E93"}):null,w(Pi,{ids:i,buttonProps:{type:"outline",status:"default"},children:"\u6279\u91CF\u66F4\u65B0\u8BA2\u5355"}),w(fe,{type:"outline",status:"danger",loading:c.loading,onClick:()=>{c.run()},children:"\u6279\u91CF\u7533\u8BF7\u9762\u5355"}),s?te(ye,{children:[w(f0,{getPageQuery:a,selectIds:i}),w(fe,{type:"outline",loading:m.loading,disabled:n!==Ni.\u5DF2\u51FA\u5E93,onClick:async()=>{if(!i.length)return Ee.error("\u8BF7\u9009\u62E9\u8BA2\u5355");const h=e.list.filter(_=>Ri.some(E=>{var A,D;return(_.shippingCarrier||((D=(A=_.orderPackageList)==null?void 0:A[0])==null?void 0:D.shippingCarrier)).includes(E)})).map(_=>_.id),y=`\u53EA\u6709${Ri.join("\u3001")}\u7684\u8BA2\u5355\u624D\u80FD\u6279\u91CF\u51FA\u8D27`;if(!h.length){Ee.error(y);return}const v=i.filter(_=>h.includes(_));v.length?i.length!==v.length?await Je({content:`${y}\uFF0C\u5176\u4ED6\u627F\u8FD0\u5546\u7684\u8BA2\u5355\u8BF7\u624B\u52A8\u5355\u4E2A\u51FA\u8D27\uFF01`,okButtonProps:{status:"success"}}).then(()=>{m.run(v)}):m.run(v):Ee.error("\u4E0D\u7B26\u5408\u51FA\u8D27\u6761\u4EF6\uFF0C\u8BF7\u68C0\u67E5\u8BA2\u5355\u72B6\u6001\u548C\u627F\u8FD0\u5546\u4FE1\u606F\uFF01")},children:"\u6279\u91CF\u51FA\u8D27"}),w(_o,{droplist:te(Ye,{direction:"vertical",className:"bg-white w-[136px] py-2",children:[w(fe,{type:"primary",icon:w(Hr,{}),className:"block w-full",loading:g,onClick:()=>{d(yt.PICKING)},children:"\u6253\u5370\u62E3\u8D27\u5355"}),w(fe,{type:"primary",icon:w(Hr,{}),className:"block w-full",loading:g,onClick:()=>{d(yt.SHIPPING)},children:"\u6253\u5370\u51FA\u8D27\u5355"})]}),children:te(fe,{type:"outline",icon:w(Eo,{}),loading:g,children:["\u6279\u91CF\u6253\u5370\u9762\u5355",i.length?`(${i.length}\u4E2A)`:""]})})]}):null,s?null:w(fe,{type:"outline",status:"danger",loading:l.loading,onClick:async()=>{if(!i.length)return Ee.error("\u8BF7\u9009\u62E9\u8BA2\u5355");const h=e.list.filter(y=>i.includes(y.id)&&Ne().valueOf()<Ne(y.overseasWarehouseDelistingTime).valueOf());await Je({content:h.length>0?te("div",{children:[te("div",{children:["\u4EE5\u4E0B\u8BA2\u5355\u9000\u4EF6\u672A\u8FC7\u671F\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u9500\u6BC1\u9009\u4E2D\u7684",i.length,"\u4E2A\u8BA2\u5355\uFF1F"]}),w("div",{children:h.map(y=>te("div",{className:"mb-2",children:[te("div",{children:[w("span",{children:"\u8BA2\u5355\u7F16\u53F7\uFF1A"}),w(Ot.Text,{copyable:!0,children:y.shrimpOrderNo})]}),te("div",{children:[w("span",{children:"\u4E0B\u67B6\u65F6\u95F4\uFF1A"}),w("span",{children:y.overseasWarehouseDelistingTime})]})]}))})]}):`\u786E\u8BA4\u9500\u6BC1\u9009\u4E2D\u7684${i.length}\u4E2A\u8BA2\u5355\uFF1F`,onOk:()=>{l.run()}})},children:"\u6279\u91CF\u9500\u6BC1"})]})}const qa=["","green","orangered","gold","red","blue","arcoblue","purple","pinkpurple","magenta","gray","lime","orange"],p0=["\u5168\u90E8","\u5DF2\u88C5\u8239","\u5DF2\u5B8C\u6210","\u5DF2\u53D6\u6D88","\u5DF2\u5173\u95ED","\u5F02\u5E38\u6401\u7F6E","\u5DF2\u4EA4\u8FD0"];var Te;(function(t){t.SHOPEE="shopee",t.PACK_ORDER="pack_order",t.PENDING="pending",t.OUT_ORDER_STATUS="out_order_status"})(Te||(Te={}));var Ve;(function(t){t.SHOPEE="shopee_status",t.PACK_ORDER="order_status",t.PENDING="order_pending_status",t.OUT_ORDER_STATUS="out_order_status"})(Ve||(Ve={}));const ar="-1";var m0=t=>{var T;const{type:e}=t,i=wo(),n={[Te.SHOPEE]:Ve.SHOPEE,[Te.PACK_ORDER]:Ve.PACK_ORDER,[Te.PENDING]:Ve.PENDING,[Te.OUT_ORDER_STATUS]:Ve.OUT_ORDER_STATUS}[e],{userInfo:r}=Zr(L=>L),[a,u]=Gr(location.pathname,{defaultValue:ar}),[o,f]=se.exports.useState(),[m,l]=se.exports.useState([]),[c,s]=Gr(location.pathname+"-sortType",{defaultValue:2}),d=se.exports.useMemo(()=>Po(r),[r]),[g,h,y]=xo({selectLogisticsOrderVO:{},selectOrderProductVO:{deliveryMethod:d?"1":null}}),[v]=Pe.useForm();function _(L){h(q(q({},g),L))}const{data:E}=Yr({dictCode:n,displayName:""});a===void 0&&(E==null?void 0:E.length)&&u((T=E[0])==null?void 0:T.value);function A({otherQuery:L={},isBindSelect:O,isCount:k}){var W;const X=L,{selectLogisticsOrderVO:p={}}=X,R=ht(X,["selectLogisticsOrderVO"]);let B,S;e===Te.PACK_ORDER&&a!==ar&&(B=a);let G;k||(G=0,a===su&&(B=void 0,G=1)),e===Te.OUT_ORDER_STATUS&&(S=a,G=void 0);const M=Qr(q(ue(q(q(q(q(q({sortType:c},Ce.exports.omit(g.selectLogisticsOrderVO,["createdTimes","stockRemovalTimes","packTimes"])),pr(g.selectLogisticsOrderVO.packTimes,"packStartTime","packEndTime")),pr(g.selectLogisticsOrderVO.createdTimes,"createStartTime","createEndTime")),pr(g.selectLogisticsOrderVO.createdTimes,"createStartTime","createEndTime")),pr(g.selectLogisticsOrderVO.stockRemovalTimes,"stockRemovalStartTime","stockRemovalEndTime")),{orderStatus:B,returnStatus:S,abeyanceStatus:G}),m.length&&O?{shrimpOrderNo:D.list.filter(U=>m.includes(U.id)).map(U=>U.shrimpOrderNo).join(",")}:{}),["shrimpOrderNo","trackingNumber"]);switch(e){case Te.PACK_ORDER:M.whetherPack=!0;break;case Te.PENDING:M.handle=!0;break;case Te.OUT_ORDER_STATUS:M.whetherPack=!0;break;case Te.SHOPEE:M.abeyanceStatus=void 0,M.shrimpStatus=a===ar?null:a,M.storeFlag=!0;break}const K=Qr(ue(q({},g.selectOrderProductVO),{deliveryMethod:d?"1":(W=g==null?void 0:g.selectOrderProductVO)==null?void 0:W.deliveryMethod}),["trackingNo"]),z=Qr(q({},g.selectLogisticsVO),["trackingNumber"]);return q(ue(q({},g),{selectOrderProductVO:K,selectLogisticsOrderVO:M,selectLogisticsVO:z}),R)}const{data:D,run:C,pagination:N,loading:F,refresh:x}=Oo(async(L={pageSize:10,current:1})=>{if(Fe.emit(xe.clearSelectOrderList),!(E==null?void 0:E.length)||!r)return null;const O=A({otherQuery:{pageNum:(L==null?void 0:L.current)||N.current,pageSize:(L==null?void 0:L.pageSize)||N.pageSize}}),k={[Te.OUT_ORDER_STATUS]:ke.overseasWarehouseReturnList},p=(...M)=>(k[e]||at.getList)(...M).then(K=>{if(e===Te.PENDING){const z=K.data.data.total;i({type:"set-count-map",payload:{countMap:{[Io.CLIENT_ORDER_PENDING]:z}}}),f({"0":z})}return K}),R=ue(q({},Ce.exports.omit(O,["selectLogisticsOrderVO"])),{selectLogisticsOrderVO:q({},Ce.exports.omit(O.selectLogisticsOrderVO,["orderStatus","abeyanceStatus","shrimpStatus","returnStatus"]))}),S={[Te.OUT_ORDER_STATUS]:ke.overseasWarehouseReturnCount,[Te.PACK_ORDER]:at.getPackCount}[e]||at.getShopOrderCount,[G]=await Promise.all([p(O),...e===Te.PENDING?[]:[S(R).then(M=>{f(ue(q({},M.data.data),{[ar]:Ce.exports.sum(Object.values(M.data.data))}))})]]);return G.data.data},{defaultPageSize:10,defaultCurrent:1,manual:!1,debounceWait:200,refreshDeps:[a,E,c,r]});return se.exports.useEffect(()=>{console.log(g),C({current:1,pageSize:10})},[g]),xi(xe.refreshOrderPage,()=>{x()}),r?te("div",{className:"bg-white p-4",children:[w(ut,{form:v,size:"small",initialValues:{},formItemConfigList:Xo({type:e,isSpotRole:d}),onValuesChange:(L,O)=>{_(O)},onSubmit:L=>{console.log(L)}}),te("div",{className:"flex items-center py-6 pr-2",children:[te(Ye,{size:20,className:"",children:[w(fe,{type:"default",loading:F,icon:w(ci,{}),onClick:()=>{v.resetFields(),y(),setTimeout(()=>{N.changeCurrent(1)},0)},children:"\u91CD\u7F6E"}),w(fe,{type:"primary",icon:w(di,{}),loading:F,onClick:()=>C({current:1,pageSize:10}),children:"\u67E5\u8BE2"})]}),w(So,{className:"mx-8",type:"vertical"}),Ze()?w(h0,{data:D,selectIds:m,activeTab:a,dictCode:n,getPageQuery:A}):te(Ye,{size:8,children:[w(d0,{}),w(fe,{type:"outline",icon:w(gi,{}),children:"\u5BFC\u51FA\u8BA2\u5355"})]}),m.length?te(Le,{className:"ml-2",checked:!0,color:"pinkpurple",children:["\u5DF2\u9009\u4E2D"," ",m.length," ","\u4E2A\u8BA2\u5355"]}):null]}),w(vi,{lazyload:!0,className:"mb-4",activeTab:a,onChange:L=>u(L),extra:w(ye,{children:w(Tt.Group,{type:"button",value:c,onChange:L=>{s(L)},options:[{label:"\u6309\u6700\u65B0\u8BA2\u5355\u6392\u5E8F",value:2},{label:"\u6309\u6253\u5305\u65F6\u95F4\u6392\u5E8F",value:0},{label:"\u6309\u7D27\u6025\u7A0B\u5EA6\u6392\u5E8F",value:1}]})}),children:[...e!==Te.PENDING?[{label:"\u5168\u90E8",value:ar}]:[],...E||[]].map((L,O)=>w(vi.TabPane,{title:w(Fo,{className:"px-[5px]",style:{"--badge-color":p0.includes(L.label)?"var(--gray-4)":"var(--danger-6)"},offset:[15,-5],count:o==null?void 0:o[L.value],maxCount:9999,children:w("span",{children:L.label})})},L.value))}),w(Xa,{dictCode:n,run:C,data:D,loading:F,pagination:N,onSelect:L=>{l(L)}})]}):null},K0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get OrderPageType(){return Te},get OrderPageDict(){return Ve},default:m0});function g0(t){const{orderItem:e,dictCode:i}=t;let n=w(ye,{});return i===Ve.OUT_ORDER_STATUS?e.returnStatus==="2"?n=w(ye,{children:"-"}):n=te(ye,{children:[w(fe,{status:"danger",onClick:()=>Je({content:"\u786E\u5B9A\u8981\u9500\u6BC1\u9000\u4EF6\u5355\u5417\uFF1F",onOk(){return we(()=>ke.overseasWarehouseReturnDestroy(e.id),"\u9500\u6BC1\u9000\u4EF6\u5355").then(()=>Fe.emit(xe.refreshOrderPage))}}),children:"\u9500\u6BC1"}),Ze()?w(fe,{status:"warning",onClick:()=>Je({content:"\u786E\u5B9A\u8981\u64A4\u9500\u9000\u4EF6\u5417\uFF1F",onOk(){return we(()=>ke.overseasWarehouseReturnRevocation(e.id),"\u64A4\u9500\u9000\u4EF6").then(()=>Fe.emit(xe.refreshOrderPage))}}),children:"\u64A4\u9500\u9000\u4EF6"}):w(Yu,{orderItem:e})]}):n=te(ye,{children:[w(u0,{buttonProps:{size:"small"},orderItem:e,onSuccess:()=>{Fe.emit(xe.refreshOrderPage)}}),w(Va,{orderItem:e,printType:yt.SHIPPING,children:"\u6253\u5370\u51FA\u8D27\u5355"}),w(Va,{orderItem:e,printType:yt.PICKING,children:"\u6253\u5370\u6361\u8D27\u5355"}),w(Fi,{buttonProps:{type:"text",icon:null},id:e.id}),w(Ju,{id:e.id,abeyanceStatus:e.abeyanceStatus}),w(fe,{type:"text",size:"small",disabled:["5","6"].includes(e.orderStatus),onClick:async()=>{await Je({content:"\u786E\u5B9A\u8981\u53D6\u6D88\u6253\u5305\u5417\uFF1F",onOk(){return we(()=>ke.cancel([e.id]),"\u53D6\u6D88\u6253\u5305")}}),Fe.emit(xe.refreshOrderPage)},children:"\u53D6\u6D88\u8BA2\u5355"}),Ze()&&w(s0,{id:e.id,buttonProps:{type:"text",size:"small"}})]}),te("div",{className:"h-full p-2 flex justify-center flex-col",children:[i===Ve.OUT_ORDER_STATUS&&Ze()&&te("div",{className:"mb-4",children:[w("div",{children:"\u4E0B\u67B6\u5012\u8BA1\u65F6\uFF1A"}),w(c0,{targetTime:e.overseasWarehouseDelistingTime})]}),w(Ye,{direction:"vertical",size:4,children:n})]})}const v0=t=>({sender_real_name:{schema:{label:"\u5BC4\u4EF6\u4EBA\u59D3\u540D",field:"senderRealName",required:!0},control:"select",controlProps:{options:t}},tracking_no:{schema:{label:"\u5FEB\u9012\u5355\u53F7",field:"trackingNo",required:!0}}});var y0=t=>{var _;const v=t,{orderItem:e,buttonProps:i,onSuccess:n}=v,r=ht(v,["orderItem","buttonProps","onSuccess"]),[a,u]=se.exports.useState([]),[o,f]=se.exports.useState([]),[m,l]=se.exports.useState({}),c=se.exports.useRef({}),[s]=Pe.useForm(),d=async()=>{const E=await s.validate();if(c.current&&o.length){const A=ue(q({},c.current),{pickUp:JSON.stringify({address_list:[o.find(C=>C.address_id===E.addressList)]})}),D=await ke.updateParameter(A);if(D.data.code!==Ei){Ee.error(D.data.msg||"\u66F4\u65B0\u6536\u4EF6\u6570\u636E\u5931\u8D25\uFF01");return}}await we(()=>ke.shipment(ue(q({},E),{orderId:e.id})),"\u51FA\u8D27"),Fe.emit(xe.refreshOrderPage),u([]),c.current=null,f([])},{loading:g,run:h}=ve(d,{manual:!0}),y=ve(async()=>{var x,T,L,O,k,p,R;const[E,A]=await Promise.all([ke.getShippingParameter(e.id),Jr.getSenderAll({entrepotId:e.sendWarehouse})]);l({senderRealName:A.default});const D=(L=(T=(x=E==null?void 0:E.data)==null?void 0:x.data)==null?void 0:T.infoNeeded)==null?void 0:L.dropoff,C=v0(A.options),N=(D==null?void 0:D.map(B=>C[B]))||[],F=((p=JSON.parse(((k=(O=E==null?void 0:E.data)==null?void 0:O.data)==null?void 0:k.pickUp)||"{}"))==null?void 0:p.address_list)||[];if(F.length&&(c.current=(R=E==null?void 0:E.data)==null?void 0:R.data,f(F),N.push({schema:{label:"\u5BC4\u4EF6\u5730\u5740",field:"addressList",required:!0},control:"select",controlProps:{options:F.map(B=>({label:`${B.state} ${B.city} ${B.address}`,value:B.address_id}))}})),u(N),N.length)Ao.success({title:"\u901F\u8FD0\u5B9D\u6E29\u99A8\u63D0\u793A",content:"\u76F8\u5173\u4FE1\u606F\u83B7\u53D6\u6210\u529F\uFF0C\u8BF7\u624B\u52A8\u9009\u62E9\uFF01",duration:8e3});else return d()},{manual:!0});return te(ye,{children:[w(fe,ue(q({type:"text",status:"success",loading:y.loading,disabled:!!((_=e==null?void 0:e.orderPackageList)==null?void 0:_.some(E=>E.documentUrl)),onClick:()=>{y.run()}},i),{children:"\u5B89\u6392\u51FA\u8D27"})),w(Be,{title:"\u7533\u8BF7\u5BC4\u4EF6\u7F16\u53F7",visible:!!a.length,style:{width:700},onCancel:()=>{u([]),c.current=null,f([])},maskClosable:!1,unmountOnExit:!0,confirmLoading:g,onOk:async()=>{h()},children:w(ut,{span:24,form:s,initialValues:m,formItemConfigList:a})})]})},b0=({orderItem:t})=>{var a,u,o,f,m,l;const[e,i]=se.exports.useState(!1),n=ve(async()=>{var c;return((c=n.data)==null?void 0:c.length)?(i(!0),n.data):Zt.getOrderTrack(t.id).then(s=>{var d,g;return(g=(d=s.data)==null?void 0:d.data)==null?void 0:g.trackingInfoItemVOList}).then(s=>(i(!0),s)).catch(s=>(Ee.error("\u67E5\u770B\u5931\u8D25\uFF0C\u6682\u65E0\u7269\u6D41\u8DDF\u8E2A\u4FE1\u606F"),[]))},{manual:!0}),r=((u=(a=t==null?void 0:t.orderPackageList)==null?void 0:a[0])==null?void 0:u.trackingNumber)||((f=(o=t==null?void 0:t.logisticsOrderPackageList)==null?void 0:o[0])==null?void 0:f.trackingNumber);return r?te(ye,{children:[w(Ot.Text,{copyable:{text:r},children:w(fr,{disabled:n.loading,className:"!inline",onClick:()=>{n.run()},children:r})}),w(Bi,{orderItem:t}),w(Be,{confirmLoading:n.loading,title:"\u7269\u6D41\u4FE1\u606F",visible:e,onCancel:()=>{i(!1)},hideCancel:!0,onConfirm:()=>{i(!1)},children:((m=n.data)==null?void 0:m.length)?w(cr,{children:(l=n.data)==null?void 0:l.map(c=>w(cr.Item,{label:c.updateTime,children:c.description},c.updateTime))}):w(jr,{description:"\u6682\u65E0\u7269\u6D41\u8DDF\u8E2A\u4FE1\u606F"})})]}):Ze()&&t.warehouseDeliveryTime&&t.shopeeStatus!==dt.\u5DF2\u88C5\u8239?t.shippingTime&&Ne().diff(Ne(t.shippingTime),"minute")<10&&t.createType==="0"?te("span",{children:[w(pt,{size:13}),w(Ot.Text,{className:"ml-2 text-sm",type:"secondary",children:"\u83B7\u53D6\u9762\u5355\u4E2D..."})]}):w(y0,{orderItem:t,sendWarehouse:t.sendWarehouse,shrimpOrderNo:t.shrimpOrderNo,onSuccess:()=>{Fe.emit(xe.refreshOrderPage)},buttonProps:{icon:w(Co,{}),size:"small",type:"text",status:"default"}}):w(ye,{children:"-"})};function Za(t){const{dictCode:e}=t,i=ko(),n=mt()&&e===Ve.OUT_ORDER_STATUS||Ze()&&!i.pathname.includes("business/returnToShelves");return[{title:"\u5546\u54C1\u4FE1\u606F",dataIndex:"orderProductVOList",width:500,render(r){return w(dn,{data:r})},fixed:"left"},{title:"\u53D1\u8D27\u4FE1\u606F",dataIndex:"orderProductVOList_1",width:260,render(r,a){return w(Zu,{data:a})}},{title:"\u7269\u6D41\u4FE1\u606F",dataIndex:"logistics",width:220,render(r,a){var f,m,l,c,s,d,g,h;const u=((m=(f=a.orderPackageList)==null?void 0:f[0])==null?void 0:m.shippingCarrier)||((c=(l=a.logisticsOrderPackageList)==null?void 0:l[0])==null?void 0:c.shippingCarrier),o=qt(a.detailedAddress)||a.createType!=="0";return te("div",{className:"border-r h-full p-2",children:[w(he,{label:"\u5C3E\u7A0B\u7269\u6D41",value:u?w(Le,{color:ou[u],children:u}):null}),w(he,{label:"\u7269\u6D41\u5355\u53F7",value:w(b0,{orderItem:a})}),a.shippingTime&&(((d=(s=a==null?void 0:a.orderPackageList)==null?void 0:s[0])==null?void 0:d.trackingNumber)||((h=(g=a==null?void 0:a.logisticsOrderPackageList)==null?void 0:g[0])==null?void 0:h.trackingNumber))?w(he,{label:"\u51FA\u8D27\u65F6\u95F4",value:Kt(a.shippingTime)}):null,a.warehouseDeliveryTime?w(he,{label:"\u51FA\u5E93\u65F6\u95F4",value:Kt(a.warehouseDeliveryTime)}):null,o?w(ye,{children:w(he,{label:"\u6536\u8D27\u5730\u5740",value:w(Ot.Text,{copyable:!0,children:`${qt(a.recipients)} ${qt(a.mobileNumber)} ${qt(a.province)||""} ${qt(a.city)||""} ${a.detailedAddress||""}`})})}):null,Ze()&&a.consignmentStatus?w(he,{label:"\u4EA4\u8FD0\u72B6\u6001",value:w(Le,{color:"#168cff",children:"\u4EA4\u8FD0\u4E2D"})}):null]})}},...mt()?[{title:"\u4E70\u5BB6\u4FE1\u606F",dataIndex:"seller",width:180,render(r,a){return te("div",{className:"border-r h-full p-2",children:[w(he,{label:"\u4E70\u5BB6",value:mr(a.buyerUsername)}),w(he,{label:"\u6536\u8D27\u4EBA",value:mr(a.recipients)}),w(he,{label:"\u6536\u8D27\u7535\u8BDD",value:mr(a.mobileNumber)}),a.messageToSeller?w(he,{valueClassName:"text-red-500 font-bold",label:"\u4E70\u5BB6\u7559\u8A00",value:a.messageToSeller}):null,w(he,{label:"\u6536\u8D27\u5730\u5740",value:mr(a.detailedAddress)})]})}}]:[],...Ze()?[{title:"\u5356\u5BB6\u4FE1\u606F",dataIndex:"sellerInfo",width:180,render(r,a){return te("div",{className:"border-r h-full p-2",children:[w(he,{label:"\u5356\u5BB6\u6807\u8BC6",value:a.tenantryNo}),w(he,{valueClassName:Me({"!text-red-500 !font-bold text-[20px]":a.remark}),label:"\u5356\u5BB6\u5907\u6CE8",value:a.remark}),w(he,{label:"\u4ED3\u5E93\u5907\u6CE8",valueClassName:Me({"!text-red-500 !font-bold":a.entrepotRemark}),value:a.entrepotRemark})]})}}]:[],{title:"\u8BA2\u5355\u91D1\u989D",dataIndex:"fee",width:200,render(r,a){return te("div",{className:"border-r h-full p-2",children:[w(he,{label:"\u603B\u8D39\u7528(TWD)",value:a.orderAmount}),w(he,{label:"\u9884\u4F30\u8FD0\u8D39(TWD)",value:a.estimatedShippingFee}),w(he,{label:"\u5B9E\u9645\u8FD0\u8D39(TWD)",value:a.actualShippingFee}),a.parcelWeight?w(he,{label:"\u5B9E\u9645\u91CD\u91CF",value:`${a.parcelWeight} KG`}):""]})}},...e==="order_status"?[]:[],...e===Ve.OUT_ORDER_STATUS&&Ze()?[{title:"\u4E0A\u67B6\u65F6\u95F4",dataIndex:"overseasWarehouseListingTime",width:180,render:r=>w("div",{className:"border-r h-full p-2",children:r})},{title:"\u4E0B\u67B6\u65F6\u95F4",dataIndex:"overseasWarehouseDelistingTime",width:180,render:r=>w("div",{className:"border-r h-full p-2",children:r})}]:[],...n?[{title:"\u64CD\u4F5C",dataIndex:"actions",width:120,render(r,a){return w(g0,{orderItem:a,dictCode:e})}}]:[]]}var q0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",useColumns:Za}),_0=({children:t,color:e="red"})=>w("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 -rotate-45 pointer-events-none",children:w("span",{className:`${e==="red"?"text-red-400 border-red-400":"text-green-400 border-green-400"} text-1xl font-black opacity-60 whitespace-nowrap border-4  border-dashed px-10 py-3 rounded-lg bg-red-50/30 backdrop-blur-sm`,children:t})});const Bt="arco-descriptions-item-label !w-auto !pb-0",Pt="arco-descriptions-item-value !w-auto !pb-0",E0=t=>{var F,x,T,L,O;const{className:e,style:i,loading:n,data:r,dictCode:a,pagination:u,onSelect:o}=t,[f,m]=se.exports.useState(),[l,c]=se.exports.useState([]),[s,d]=se.exports.useState(),[g,h]=se.exports.useState(),y=mt()&&a!==Ve.OUT_ORDER_STATUS,[v]=yi(),[_]=yi(),E=Za(t),A=ve(async k=>{const p=Ce.exports.merge(f,await v.validate()),R=Ce.exports.omit(p,["orderProductVOList","orderPackageList"]);if(R.logisticsOrderProductList.some(M=>{var K,z;return M.deliveryMethod==="1"&&!M.stockOutStatus?!((K=M.productInventoryVO)==null?void 0:K.stockProductId)||!((z=M.productInventoryVO)==null?void 0:z.number):!1})){Ee.error("\u5E93\u5B58\u53D1\u8D27\uFF0C\u8BF7\u9009\u62E9\u5546\u54C1\u5E93\u5B58");return}if(Ce.exports.isNil(R.sendWarehouse)){Ee.error("\u8BF7\u9009\u62E9\u6253\u5305\u4ED3\u5E93\uFF01");return}let S="\u6253\u5305";k&&(S="\u6DFB\u52A0"),R.whetherPack&&R.orderStatus!=="5"&&(S="\u66F4\u65B0");const G=ue(q({},R),{logisticsOrderProductList:[...R.logisticsOrderProductList,...k?[k]:[]]});await we(()=>at.update(G),S),d(null),Fe.emit(xe.refreshOrderPage)},{manual:!0}),D=jo(),C=ve(async()=>{const k=await _.validate();await we(()=>at.addProduct(q({},k)),"\u6DFB\u52A0"),d(null),Fe.emit(xe.refreshOrderPage)},{manual:!0});xi(xe.clearSelectOrderList,()=>{c([])}),se.exports.useEffect(()=>{o==null||o(l)},[l]);const N=se.exports.useMemo(()=>{var k;if(l.length===((k=r==null?void 0:r.list)==null?void 0:k.length))return!0},[l,r==null?void 0:r.list]);return te("div",{className:e,style:i,children:[te("div",{children:[te("header",{className:"flex items-center",children:[o?w(bi,{disabled:!((F=r==null?void 0:r.list)==null?void 0:F.length),className:"mr-2 pl-[10px]",checked:N,onChange:k=>{var p;c(k?(p=r==null?void 0:r.list)==null?void 0:p.map(R=>R.id):[])}}):null,E.map(k=>w("div",{className:"font-medium px-4 py-2",style:{width:k.width,flex:k.width?"auto":1},children:k.title},k.dataIndex))]}),w(pt,{className:"block text-center",loading:n,children:w("main",{className:"flex flex-col gap-4 bg-white text-left",children:(x=r==null?void 0:r.list)==null?void 0:x.map(k=>te("div",{className:"border relative",children:[y?w(nu,{item:k,setActionType:d,setCurrentOrder:m}):null,te("header",{className:"gap-12 pl-1 pr-4 py-2 border-b flex",children:[te("div",{className:"flex w-[420px] items-baseline",children:[o?w(bi,{checked:l.includes(k.id),onChange:p=>{c(p?[...l,k.id]:l.filter(R=>R!==k.id))}}):null,w(si,{content:"\u6253\u5305\u8BA2\u5355\u72B6\u6001",children:w(Le,{bordered:!0,size:"small",className:"mx-2",color:qa[Number(k.orderStatus)],children:w(gr,{defaultValue:"\u5F85\u6253\u5305",dictCode:"order_status",value:k.orderStatus})})}),Ze()&&a===Ve.OUT_ORDER_STATUS&&Ne().valueOf()>=Ne(k.overseasWarehouseDelistingTime).valueOf()?w(Le,{bordered:!0,size:"small",className:"mx-2",color:qa[Number(k.orderStatus)],children:"\u9000\u4EF6\u5DF2\u8FC7\u671F"}):null,k.abeyanceStatus&&Ze()?w(Le,{className:"mr-2",color:"red",children:"\u5F02\u5E38\u6401\u7F6E"}):null,w("span",{className:Bt,children:"\u8BA2\u5355\u7F16\u53F7\uFF1A"}),w("span",{className:Me(Pt,"truncate"),children:w(Ot.Text,{copyable:!0,children:k.shrimpOrderNo})})]}),w(lu,{data:k})]}),w("main",{className:"flex p-1",children:E.map(p=>w("div",{style:{width:p.width,flex:p.width?"auto":1},children:p.render(k[p.dataIndex],k)},p.dataIndex))}),te("footer",{className:"flex border-t py-2 px-4",children:[te("div",{className:"gap-12 grid grid-cols-[200px_280px]",children:[te("div",{children:[w("span",{className:Bt,children:"\u4E0B\u5355\uFF1A"}),w("span",{className:Pt,children:Kt(k.orderTime)})]}),k.packTime?te("div",{children:[w("span",{className:Bt,children:"\u63D0\u4EA4\uFF1A"}),w("span",{className:Pt,children:Kt(k.packTime)})]}):null]}),te("div",{className:"ml-auto flex",children:[w("span",{className:Bt,children:"\u6211\u7684\u5907\u6CE8\uFF1A"}),w("span",{className:Pt,children:(mt()?k.remark:k.entrepotRemark)||"\u6682\u65E0"}),mt()?w(fe,{type:"text",size:"mini",onClick:()=>{(k==null?void 0:k.sendWarehouse)==="0"&&delete k.sendWarehouse,m(ue(q({},k),{logisticsOrderProductList:k.orderProductVOList})),d(et.edit)},children:w(fi,{})}):null]})]}),k.isOverseasWarehouseReturn||k.isReissued?w(_0,{color:k.isReissued?"green":"red",children:k.isReissued?"\u6362\u5355\u91CD\u51FA":k.returnStatus==="2"?"\u9000\u4EF6\u5165\u5E93(\u9500\u6BC1)":"\u5DF2\u9000\u4EF6\u5165\u5E93"}):null]},k.id))})}),((T=r==null?void 0:r.list)==null?void 0:T.length)?w(Do,{className:"mt-4 flex justify-end",total:r==null?void 0:r.total,showTotal:!0,sizeCanChange:!0,current:(u==null?void 0:u.current)||1,pageSize:u==null?void 0:u.pageSize,sizeOptions:[10,25,50,100,300,500],onChange:(k,p)=>{console.log(k,p,u),u?k!==u.current?u.changeCurrent(k):u.changePageSize(p):(u.changeCurrent(k),u.changePageSize(p))}}):null,!((L=r==null?void 0:r.list)==null?void 0:L.length)&&!n?w(jr,{className:"py-28"}):null]}),w(Be,{title:"\u6DFB\u52A0\u5546\u54C1",visible:s===et.create,onCancel:()=>{_.resetFields(),d(null)},unmountOnExit:!0,confirmLoading:C.loading,onOk:async()=>{C.run(),_.resetFields()},children:w(ut,{span:24,form:_,initialValues:{orderId:f==null?void 0:f.id,quantity:1},formItemConfigList:[...Qo.filter(k=>!["trackingNo"].includes(k.schema.field)),{schema:{field:"orderId"},formItemProps:{hidden:!0}}]})}),w(Be,{title:"\u67E5\u770B\u9762\u5355",visible:g,onCancel:()=>h(null),unmountOnExit:!0,onOk:async()=>{h(null)},children:"\u9762\u5355\u4FE1\u606F\uFF0C\u5F00\u53D1\u4E2D..."}),w(Be,{style:{width:870},title:"\u7F16\u8F91\u8BA2\u5355",visible:s===et.edit,onCancel:()=>d(null),confirmLoading:A.loading,unmountOnExit:!0,onOk:async()=>{A.run()},children:s===et.edit?te(ye,{children:[w(ut,{span:24,form:v,initialValues:ue(q({},f),{sendWarehouse:(f==null?void 0:f.sendWarehouse)||((O=D==null?void 0:D.data)==null?void 0:O.id),transportType:(f==null?void 0:f.transportType)||"KY"}),className:"mb-4",formItemConfigList:[{schema:{field:"sendWarehouse",label:"\u6253\u5305\u4ED3\u5E93",required:!0},formItemProps:{},control:"entrepotSelector"},{schema:{field:"transportType",label:"\u8FD0\u8F93\u7C7B\u578B",required:!0},control:"dictSelector",controlProps:{dictCode:"transport_type",type:"radio"}},{schema:{field:"remark",label:"\u5907\u6CE8"},control:"textarea",controlProps:{placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF0C\u6B64\u5907\u6CE8\u4ED3\u5E93\u53EF\u89C1"}}],onChange:async(k,p)=>{const R=await v.validate();m(q(q({},f),R))}}),w(dn,{data:f==null?void 0:f.orderProductVOList,isEdit:!0,onChange:k=>{m(ue(q({},f),{logisticsOrderProductList:k.map(p=>{var R,B,S,G;return Ce.exports.omit(ue(q({},p),{trackingNo:p.trackingNo?p.trackingNo.trim():"",productInventoryVO:{stockProductId:((B=(R=p.productInventoryVO)==null?void 0:R[0])==null?void 0:B.id)||p.stockProductId,number:((G=(S=p.productInventoryVO)==null?void 0:S[0])==null?void 0:G.useAbleQuantityChange)||p.stockUse},deliveryMethod:p.stockOutStatus?"0":p.deliveryMethod}),p.stockOutStatus?["productInventoryVO","trackingNo"]:[])})}))}}),w(fe,{className:"mt-4",type:"outline",long:!0,icon:w(Vr,{}),onClick:()=>{d(et.create)},children:"\u6DFB\u52A0\u5546\u54C1"})]}):null})]})};var Xa=E0,Z0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",labelClass:Bt,valueClass:Pt,default:Xa}),he=({label:t,value:e,className:i,labelClassName:n,valueClassName:r})=>te("div",{className:Me("break-all mb-1",i),children:[te("span",{className:Me(Bt,n),children:[t,"\uFF1A"]}),w("span",{className:Me(Pt,r),children:e||"-"})]});export{Li as A,Yo as C,pu as E,ut as F,he as L,Ve as O,rn as P,G0 as R,nn as S,Hu as T,W0 as W,vu as a,Xa as b,mu as c,xr as d,Zt as e,V0 as f,qa as g,m0 as h,Te as i,gu as j,an as k,xu as l,ju as m,K0 as n,ke as o,q0 as p,Z0 as q,wu as r,H0 as s,yu as u};
