var S=Object.defineProperty,A=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var p=(a,r,s)=>r in a?S(a,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[r]=s,c=(a,r)=>{for(var s in r||(r={}))L.call(r,s)&&p(a,s,r[s]);if(m)for(var s of m(r))k.call(r,s)&&p(a,s,r[s]);return a},h=(a,r)=>A(a,E(r));import{R as B,r as f,af as d,b as n,l as N,j as I,n as b,i as P,a_ as T,c as v,t as w,B as R}from"./vendor.581b77cf.js";/* empty css              */import{t as g}from"./tenantry.a040ead3.js";import{s as l}from"./shipment.f5037b19.js";import{S as H}from"./index.8be05bc7.js";import{a as q}from"./index.da423918.js";import{s as z}from"./index.16154476.js";import{c as x,s as j,F as _,f as F,H as M}from"./index.db58e438.js";import"./index.f4301f1e.js";import"./entrepot.1530b3cd.js";/* empty css               */import"./shopStore.7a17f05b.js";import"./index.110ec091.js";import"./index.31bdb461.js";/* empty css               */import"./index.d4629795.js";/* empty css              */import"./style.4b618b1b.js";import"./clipboard.a809cca0.js";/* empty css               */import"./schema.292ea05a.js";/* empty css               */import"./schema.035d054d.js";var me=()=>{const a=B.useRef(),[r,s]=f.exports.useState(),D=d(()=>g.getList({pageNum:1,pageSize:1e3}).then(e=>e.data.data.list)),C=d(async(e,t)=>{await x({content:"\u786E\u5B9A\u4FEE\u6539\uFF1F",okButtonProps:{status:"success"}}),await j(()=>l.agree({shopId:e.shopId,userLoginAccount:e.userLoginAccount,expiredDate:t})),a.current.refreshSearchTable()},{manual:!0}),y=d(async e=>{await x({content:"\u786E\u5B9A\u62D2\u7EDD\uFF1F",okButtonProps:{status:"warning"}}),await j(()=>l.refuse({shopId:e.shopId,userLoginAccount:e.userLoginAccount}),"\u62D2\u7EDD"),a.current.refreshSearchTable()},{manual:!0});return f.exports.useEffect(()=>{a.current.refreshSearchTable()},[JSON.stringify(r)]),n("div",{className:"p-4 bg-white",children:n(H,{ref:a,name:"\u5E97\u94FA\u6388\u6743",getListRequest:async e=>{let t=e.userLoginAccount||"";if(e.remark){const u=await g.getList({pageNum:1,pageSize:1e3,remarks:e.remark}).then(i=>i.data.data.list);u.length&&(t=(t?",":"")+u.map(o=>o.tenantryPhone).toString())}return l.getConsumerList(h(c(c({},N.exports.omit(e,"remark")),_(r)),{userLoginAccount:t}))},tableProps:{onChange(e,t){s(t)}},showActions:!1,formItemConfigList:[{schema:{label:"\u5E8F\u53F7",field:"index"},render(e,t,u){return u+1}},{schema:{label:"\u7528\u6237\u8D26\u6237",field:"userLoginAccount"},isCreate:!0,isSearch:!0,render(e,t){return I("div",{children:[n(b,{color:"blue",children:e}),t.shopName?n("p",{children:n(P.Text,{type:"warning",copyable:!0,className:"mt-1 text-sm",children:t.shopName})}):null]})}},{schema:{label:"\u7528\u6237\u5907\u6CE8",field:"remark"},isSearch:!0,isCreate:!0,render(e,t){var u,i;return((i=(u=D.data)==null?void 0:u.find(o=>o.tenantryPhone===t.userLoginAccount))==null?void 0:i.remarks)||"\u65E0"}},{schema:{label:"\u6FC0\u6D3B\u65F6\u95F4",field:"activateDate"},render(e){return e?F(e):n(b,{children:"\u672A\u6FC0\u6D3B"})}},{schema:{label:"\u7533\u8BF7\u65F6\u95F4",field:"applyForDate"},render(e){return e?F(e):"-"}},{schema:{label:"\u8FC7\u671F\u65F6\u95F4",field:"expiredDate"},render(e,t){return n(T,{className:v("date-picker-color-change",M(e)),style:{width:130},shortcuts:z,allowClear:!1,defaultValue:e,onChange:u=>{C.run(t,u)}})},sorter:()=>null},{schema:{label:"\u6388\u6743\u72B6\u6001",field:"status"},render(e){return n(q,{dictCode:"shopee_utils_status",value:e})}},{schema:{label:"\u64CD\u4F5C",field:"operator"},title:"\u64CD\u4F5C",dataIndex:"operator",render(e,t){return n(w,{children:(t==null?void 0:t.status)==="1"?n(R,{type:"primary",size:"mini",status:"danger",onClick:()=>y.run(t),children:"\u62D2\u7EDD"}):null})}}]})})};export{me as default};
