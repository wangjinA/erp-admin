import{bB as x,aK as d,u as F,r as m,a as T,j as s,B as y,b2 as A,aG as w}from"./index.8a0d17dd.js";import{S as b}from"./index.24284196.js";import{C as P}from"./index.d445d7b8.js";import"./index.cd1efda7.js";import"./index.bba7dae5.js";import"./index.c92b3c1c.js";import"./index.9cad66fc.js";import"./index.a7a53076.js";import{T as k}from"./index.fcf79fc4.js";import{P as z}from"./index.6ad8befb.js";import{a as M}from"./axios.3a03232d.js";import{i as j,S as L}from"./form.fb701910.js";import{g as Y,s as q}from"./constants.683f15fc.js";import{M as C,s as I}from"./setupMock.d82fad95.js";import{I as R}from"./index.6b078c1d.js";import"./b-tween.es.064e2a03.js";import"./merge.3ddb5d76.js";import"./index.efb39cdf.js";import"./index.657ea393.js";import"./pad.569047dd.js";import"./index.9ad25080.js";import"./index.91b52be8.js";import"./index.290ecf78.js";import"./index.a74e574c.js";import"./isEqualWith.b943651b.js";import"./index.655c6f99.js";const{list:D}=C.mock({"list|100":[{id:/[0-9]{8}[-][0-9]{4}/,name:()=>C.Random.pick(["\u6BCF\u65E5\u63A8\u8350\u89C6\u9891\u96C6","\u6296\u97F3\u77ED\u89C6\u9891\u5019\u9009\u96C6","\u56FD\u9645\u65B0\u95FB\u96C6\u5408"]),"contentType|0-2":0,"filterType|0-1":0,"count|0-2000":0,"createdTime|1-60":0,"status|0-1":0}]}),H=(a={})=>{const{id:u,name:c,"contentType[]":l,"filterType[]":n,"createdTime[]":t,"status[]":o}=a;if(u)return D.filter(e=>e.id===u);let r=[...D];if(c&&(r=r.filter(e=>e.name.toLowerCase().includes(c.toLowerCase()))),l&&(r=r.filter(e=>l.includes(e.contentType.toString()))),n&&(r=r.filter(e=>n.includes(e.filterType.toString()))),t&&t.length===2){const[e,f]=t;r=r.filter(h=>{const g=d().subtract(h.createdTime,"days").format("YYYY-MM-DD HH:mm:ss");return!d(g).isBefore(d(e))&&!d(g).isAfter(d(f))})}return o&&o.length&&(r=r.filter(e=>o.includes(e.status.toString()))),r};I({setup:()=>{C.mock(new RegExp("/api/list"),a=>{const{page:u=1,pageSize:c=10,...l}=x.parseUrl(a.url).query,n=u,t=c,o=H(l);return{list:o.slice((n-1)*t,n*t),total:o.length}})}});const{Title:K}=w,dt=["\u56FE\u6587","\u6A2A\u7248\u77ED\u89C6\u9891","\u7AD6\u7248\u77ED\u89C6\u9891"],ft=["\u89C4\u5219\u7B5B\u9009","\u4EBA\u5DE5"],gt=["\u5DF2\u4E0A\u7EBF","\u672A\u4E0A\u7EBF"];function ht(){const a=F(j),u=async(i,p)=>{console.log(i,p)},c=m.exports.useMemo(()=>Y(a,u),[a]),[l,n]=m.exports.useState([]),[t,o]=m.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[r,e]=m.exports.useState(!0),[f,h]=m.exports.useState({});m.exports.useEffect(()=>{g()},[t.current,t.pageSize,JSON.stringify(f)]);function g(){const{current:i,pageSize:p}=t;e(!0),M.get("/api/list",{params:{page:i,pageSize:p,...f}}).then(S=>{n(S.data.list),o({...t,current:i,pageSize:p,total:S.data.total}),e(!1)})}function E({current:i,pageSize:p}){o({...t,current:i,pageSize:p})}function B(i){o({...t,current:1}),h(i)}return T(P,{children:[s(K,{heading:6,children:a["menu.list.searchTable"]}),s(L,{onSearch:B}),s(z,{requiredPermissions:[{resource:"menu.list.searchTable",actions:["write"]}],children:T("div",{className:q["button-group"],children:[T(b,{children:[s(y,{type:"primary",icon:s(A,{}),children:a["searchTable.operations.add"]}),s(y,{children:a["searchTable.operations.upload"]})]}),s(b,{children:s(y,{icon:s(R,{}),children:a["searchTable.operation.download"]})})]})}),s(k,{rowKey:"id",loading:r,onChange:E,pagination:t,columns:c,data:l})]})}export{dt as ContentType,ft as FilterType,gt as Status,ht as default};
