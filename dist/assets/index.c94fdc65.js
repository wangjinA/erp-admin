import{R as z,r as l,C as de,j as d,c as R,b as ke,I as De,d as ze,e as Fe,f as Le,a as Ne,g as Ue,h as $e,o as Ve}from"./index.8a0d17dd.js";var ue=globalThis&&globalThis.__assign||function(){return ue=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ue.apply(this,arguments)};function He(e,n){var r,a,t=l.exports.useContext(de).getPrefixCls,c=e.className,f=e.type,m=f===void 0?"line":f,T=e.count,i=T===void 0?2:T,h=e.activeIndex,b=h===void 0?0:h,E=e.position,x=E===void 0?"bottom":E,I=e.trigger,F=I===void 0?"click":I,O=e.onSelectIndex,y=t("carousel-indicator"),W=[];if(m==="slider"){var L=100/i;W.push(d("span",{style:{width:L+"%",left:b*L+"%"},className:R(y+"-item",y+"-item-active")},0))}else for(var w=0;w<i;w++)W.push(d("span",{"data-index":w,className:R(y+"-item",(r={},r[y+"-item-active"]=w===b,r))},w));var Y=(a={ref:n,className:R(y,y+"-"+m,y+"-"+x,c)},a[F==="click"?"onClick":"onMouseMove"]=function(N){if(N.preventDefault(),m==="slider"){if(N.target===N.currentTarget){var K=N.currentTarget.getBoundingClientRect(),Z=K.x,ee=K.width,re=N.nativeEvent.clientX-Z,U=~~(re/ee*i);U!==b&&O(U)}}else{var $=N.target.getAttribute("data-index");$&&+$!==b&&O(+$)}},a);return d("div",{...ue({},Y),children:W})}var Ke=z.forwardRef(He),Be=Ke,X=globalThis&&globalThis.__assign||function(){return X=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},X.apply(this,arguments)};function qe(e,n){var r,a=e.className,t=e.direction,c=t===void 0?"horizontal":t,f=e.showArrow,m=f===void 0?"always":f,T=e.prev,i=e.next,h=e.icons,b=ke(),E=l.exports.useContext(de).getPrefixCls,x=E("carousel"),I=R(x+"-arrow",(r={},r[x+"-arrow-hover"]=m==="hover",r),a),F=h&&h.hasOwnProperty("prev")?h.prev:c==="horizontal"?d(De,{}):d(ze,{}),O=h&&h.hasOwnProperty("next")?h.next:c==="horizontal"?d(Fe,{}):d(Le,{});return Ne("div",{ref:n,className:I,children:[d("div",{...X({className:x+"-arrow-"+(c==="vertical"?"top":"left"),onClick:T,role:"button",tabIndex:0},b({onPressEnter:T})),children:F}),d("div",{...X({className:x+"-arrow-"+(c==="vertical"?"bottom":"right"),onClick:i,role:"button",tabIndex:0},b({onPressEnter:i})),children:O})]})}var Ge=z.forwardRef(qe),Je=Ge;function Qe(e,n){var r=l.exports.useRef(null),a=l.exports.useRef(),t=function(){n!==null&&(r.current=setInterval(function(){a.current()},n))},c=function(){r.current&&clearInterval(r.current)},f=function(){c(),t()};return l.exports.useEffect(function(){a.current=e},[e]),l.exports.useEffect(function(){return t(),c},[n]),f}var ve=globalThis&&globalThis.__assign||function(){return ve=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ve.apply(this,arguments)},Xe=globalThis&&globalThis.__rest||function(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,a=Object.getOwnPropertySymbols(e);t<a.length;t++)n.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(e,a[t])&&(r[a[t]]=e[a[t]]);return r},A=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),t,c=[],f;try{for(;(n===void 0||n-- >0)&&!(t=a.next()).done;)c.push(t.value)}catch(m){f={error:m}}finally{try{t&&!t.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c},Ye=3e3,Ze={animation:"slide",indicatorType:"dot",indicatorPosition:"bottom",direction:"horizontal",showArrow:"always",trigger:"click",moveSpeed:500,timingFunc:"cubic-bezier(0.34, 0.69, 0.1, 1)"};function er(e,n){var r,a,t,c=l.exports.useContext(de),f=c.getPrefixCls,m=c.componentConfig,T=c.rtl,i=Ue(e,Ze,m==null?void 0:m.Carousel),h=i.style,b=i.className,E=i.children,x=i.currentIndex,I=i.animation,F=i.trigger,O=i.direction,y=i.moveSpeed,W=i.timingFunc,L=i.indicatorType,w=i.indicatorPosition,Y=i.indicatorClassName,N=i.showArrow,K=i.miniRender,Z=i.arrowClassName,ee=i.carousel,re=i.icons,U=i.onChange,$=Xe(i,["style","className","children","currentIndex","animation","trigger","direction","moveSpeed","timingFunc","indicatorType","indicatorPosition","indicatorClassName","showArrow","miniRender","arrowClassName","carousel","icons","onChange"]),C=i.autoPlay;C&&i.autoPlaySpeed&&(C={interval:i.autoPlaySpeed});var fe=z.Children.toArray(E).filter(function(o){return z.isValidElement(o)}),k=fe.length,B=l.exports.useRef(null),V=l.exports.useRef(null),q=l.exports.useRef(null),pe=A(l.exports.useState(typeof x=="number"?H(x):0),2),te=pe[0],_e=pe[1],ge=A(l.exports.useState(te),2),Te=ge[0],Oe=ge[1],me=A(l.exports.useState(!1),2),Se=me[0],he=me[1],xe=A(l.exports.useState(!1),2),ae=xe[0],ye=xe[1],Ce=A(l.exports.useState(null),2),ne=Ce[0],Ae=Ce[1],be=A(l.exports.useState({sliderWrapper:null,indicatorWrapper:null}),2),Ie=be[0],ie=be[1],P=typeof x=="number"?H(x):te,oe=H(P-1),se=H(P+1),Re=typeof C=="object"&&C.interval?C.interval:Ye;l.exports.useEffect(function(){return function(){return q.current&&clearTimeout(q.current)}},[]),l.exports.useEffect(function(){j({targetIndex:P})},[P]);var je=Qe(function(){j({targetIndex:se})},C&&!Se&&k>1?Re:null);l.exports.useImperativeHandle(ee,function(){return{dom:B.current,getRootDOMNode:function(){return B.current},goto:function(o){var s=o.index,u=o.isNegative,v=o.isManual,g=o.resetAutoPlayInterval;j({targetIndex:H(s),isNegative:u,isManual:v,resetAutoPlayInterval:g})}}});function H(o){var s=+o;return typeof s=="number"&&!isNaN(s)?(s+k)%k:o}function j(o){var s=o.targetIndex,u=o.isNegative,v=u===void 0?!1:u,g=o.isManual,S=g===void 0?!1:g,M=o.resetAutoPlayInterval,_=M===void 0?!1:M;!ae&&s!==P&&(ye(!0),_e(s),Oe(te),Ae(v?"negative":"positive"),U&&U(s,P,S),C&&_&&je(),q.current=setTimeout(function(){ye(!1),q.current=null},y))}function Me(){if(I==="card"){if(V.current){var o=V.current.children[0];if(!o)return;if(O==="horizontal"){var s=V.current.clientWidth,u=o.clientWidth,v=(s-u)/2,g=200,S=s/2,M=u,_=S+50>=M?g*4:g*S/(M-S);ie({sliderWrapper:{perspective:_},indicatorWrapper:{width:"auto",left:v,right:v}})}else{var G=V.current.clientHeight,J=o.clientHeight,v=(G-J)/2,g=200,D=G/2,Q=J,_=D+50>=Q?g*4:g*D/(Q-D);ie({sliderWrapper:{perspective:_},indicatorWrapper:{height:"auto",top:v,bottom:v}})}}}else ie({sliderWrapper:null,indicatorWrapper:null})}var p=f("carousel"),Ee=R(p,p+"-indicator-position-"+w,(r={},r[p+"-rtl"]=T,r),b),We=Object.assign({},C&&(typeof C!="object"||C.hoverToPause!==!1)?{onMouseEnter:function(){return he(!0)},onMouseLeave:function(){return he(!1)}}:null),we=A([function(){return j({targetIndex:oe,isNegative:!0,isManual:!0})},function(){return j({targetIndex:se,isManual:!0})}],2),le=we[0],ce=we[1];return T&&(a=A([ce,le],2),le=a[0],ce=a[1]),d($e,{onResize:Me,getTargetDOMNode:function(){return B.current},children:Ne("div",{...ve({ref:function(o){n=o,B.current=n},className:Ee,style:h},Ve($,["autoplay","autoPlaySpeed"]),We),children:[d("div",{ref:V,style:Ie.sliderWrapper,className:R(p+"-"+I,p+"-"+O,(t={},t[p+"-negative"]=ne==="negative",t)),children:fe.map(function(o,s){var u,v=s===P,g=s===oe,S=s===se,M=!K||v||g||S;if(!M)return null;var _=o.props,G=_.style,J=_.className,D=_.onClick;return z.cloneElement(o,{"aria-hidden":!v,style:Object.assign({transitionTimingFunction:W,transitionDuration:y+"ms",animationTimingFunction:W,animationDuration:y+"ms"},G),className:R(J,(u={},u[p+"-item-prev"]=g,u[p+"-item-next"]=S,u[p+"-item-current"]=v,u[p+"-item-slide-in"]=I==="slide"&&ne&&ae&&v,u[p+"-item-slide-out"]=I==="slide"&&ne&&ae&&s===Te,u)),onClick:function(Q){D&&D(Q),j({targetIndex:s,isNegative:s===oe,isManual:!0})}})})}),L!=="never"&&k>1&&d("div",{style:Ie.indicatorWrapper,className:R(p+"-indicator-wrapper",p+"-indicator-wrapper-"+w),children:d(Be,{className:Y,type:L,count:k,activeIndex:P,position:w,trigger:F,onSelectIndex:function(o){return j({targetIndex:o,isNegative:o<P,isManual:!0})}})}),N!=="never"&&k>1&&d(Je,{className:Z,direction:O,showArrow:N,icons:re,prev:le,next:ce})]})})}var Pe=z.forwardRef(er);Pe.displayName="Carousel";var tr=Pe;export{tr as C};
