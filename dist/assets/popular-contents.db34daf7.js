import{u as f,r,j as a,aG as p,a as l,bi as k,bj as w}from"./index.1715f6b8.js";import"./index.8a8a1d4b.js";import"./index.e2f53f0a.js";import"./index.df7b7c4c.js";import"./index.99df53f0.js";import{R as v}from"./index.157e705e.js";import"./index.4fac884b.js";import{T as C}from"./index.40363d03.js";import{C as S}from"./index.31f5f781.js";import{L as I}from"./index.5338dab1.js";import{a as T}from"./axios.3a03232d.js";import{i as j}from"./index.9464998a.js";import"./b-tween.es.064e2a03.js";import"./merge.9e404d05.js";const L="_symbol_coctx_1";var $={symbol:L};function A(){const t=f(j),[s,c]=r.exports.useState(0),[u,d]=r.exports.useState([]),[m,n]=r.exports.useState(!0),[o,g]=r.exports.useState(1),[y,x]=r.exports.useState(0),i=r.exports.useCallback(()=>{n(!0),T.get(`/api/workplace/popular-contents?page=${o}&pageSize=5&category=${s}`).then(e=>{d(e.data.list),x(e.data.total)}).finally(()=>{n(!1)})},[o,s]);r.exports.useEffect(()=>{i()},[o,i]);const h=[{title:t["workplace.column.rank"],dataIndex:"rank",width:65},{title:t["workplace.column.title"],dataIndex:"title",render:e=>a(p.Paragraph,{style:{margin:0},ellipsis:!0,children:e})},{title:t["workplace.column.pv"],dataIndex:"pv",width:100,render:e=>`${e/1e3}k`},{title:t["workplace.column.increase"],dataIndex:"increase",sorter:(e,b)=>e.increase-b.increase,width:110,render:e=>l("span",{children:[`${(e*100).toFixed(2)}%`,a("span",{className:$.symbol,children:e<0?a(k,{style:{color:"rgb(var(--green-6))"}}):a(w,{style:{color:"rgb(var(--red-6))"}})})]})}];return l(S,{children:[l("div",{style:{display:"flex",justifyContent:"space-between"},children:[a(p.Title,{heading:6,children:t["workplace.popularContents"]}),a(I,{children:t["workplace.seeMore"]})]}),a(v.Group,{type:"button",value:s,onChange:c,options:[{label:t["workplace.text"],value:0},{label:t["workplace.image"],value:1},{label:t["workplace.video"],value:2}],style:{marginBottom:16}}),a(C,{rowKey:"rank",columns:h,data:u,loading:m,tableLayoutFixed:!0,onChange:e=>{g(e.current)},pagination:{total:y,current:o,pageSize:5,simple:!0}})]})}export{A as default};
