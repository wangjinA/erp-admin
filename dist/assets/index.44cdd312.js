import{j as Nn,aJ as uh,a as fe,bt as Le,br as hu,bL as fh,bB as _2,aK as T2,u as M2,r as Ze,aG as P2}from"./index.150f61d2.js";import{S as x2}from"./index.5e628eb1.js";import"./index.23bbe0c8.js";import{C as aa}from"./index.506db198.js";import{a as Vu}from"./axios.3a03232d.js";import{l as R2,C as fs,c as lh,I as C2,T as sh,A as ch,r as En,d as ln,L as k2,a as b2,b as vh,F as L2}from"./index.011195ae.js";import{C as hh}from"./customer-tooltip.0803abed.js";import{u as N2}from"./useChartTheme.7f5597cf.js";import{l as A2}from"./index.b0c339fc.js";import I2 from"./data-overview.5991a5f2.js";import D2 from"./card-list.128d3dd7.js";import{s as O2,M as ar}from"./setupMock.68658cf8.js";import{G as F2}from"./index.22d75e90.js";import"./index.950dc24e.js";import"./index.a3a14b5f.js";import"./index.9ad7e874.js";import"./b-tween.es.064e2a03.js";import"./pad.fc30d3a7.js";import"./index.ab82b842.js";function q2({data:n,loading:r,height:e}){return R2.registerShape("interval","border-radius",{draw(t,i){const a=t.points;let o=[];o.push(["M",a[0].x,a[0].y]),o.push(["L",a[1].x,a[1].y]),o.push(["L",a[2].x,a[2].y]),o.push(["L",a[3].x,a[3].y]),o.push("Z"),o=this.parsePath(o);const s=i.addGroup(),l=(o[1][2]-o[2][2])/2;return s.addShape("rect",{attrs:{x:o[0][1],y:o[0][2]-l*2,width:o[1][1]-o[0][1],height:o[1][2]-o[2][2],fill:t.color,radius:l}}),s}}),Nn(uh,{loading:r,style:{width:"100%"},children:fe(fs,{height:e||370,padding:"auto",data:n,autoFit:!0,className:"chart-wrapper",children:[Nn(lh,{transpose:!0}),Nn(C2,{color:"#4086FF",position:"name*count",size:10,shape:"border-radius"}),Nn(sh,{children:(t,i)=>Nn(hh,{title:t,data:i})}),Nn(ch,{name:"count",label:{formatter(t){return`${Number(t)/1e3}k`}}})]})})}function Xe(){return new ro}function ro(){this.reset()}ro.prototype={constructor:ro,reset:function(){this.s=this.t=0},add:function(n){c0(oa,n,this.t),c0(this,oa.s,this.s),this.s?this.t+=oa.t:this.s=oa.t},valueOf:function(){return this.s}};var oa=new ro;function c0(n,r,e){var t=n.s=r+e,i=t-r,a=t-i;n.t=r-a+(e-i)}var an=1e-6,v0=1e-12,_n=Math.PI,er=_n/2,eo=_n/4,Tr=_n*2,Gn=180/_n,un=_n/180,An=Math.abs,Vt=Math.atan,wr=Math.atan2,en=Math.cos,ua=Math.ceil,gh=Math.exp,to=Math.log,Xu=Math.pow,Q=Math.sin,Ai=Math.sign||function(n){return n>0?1:n<0?-1:0},ir=Math.sqrt,ls=Math.tan;function ph(n){return n>1?0:n<-1?_n:Math.acos(n)}function Ir(n){return n>1?er:n<-1?-er:Math.asin(n)}function h0(n){return(n=Q(n/2))*n}function Wn(){}function io(n,r){n&&p0.hasOwnProperty(n.type)&&p0[n.type](n,r)}var g0={Feature:function(n,r){io(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)io(e[t].geometry,r)}},p0={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){jf(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)jf(e[t],r,0)},Polygon:function(n,r){d0(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)d0(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)io(e[t],r)}};function jf(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function d0(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)jf(n[e],r,1);r.polygonEnd()}function Kr(n,r){n&&g0.hasOwnProperty(n.type)?g0[n.type](n,r):io(n,r)}var ao=Xe(),oo=Xe(),dh,mh,Jf,Kf,Zf,pe={point:Wn,lineStart:Wn,lineEnd:Wn,polygonStart:function(){ao.reset(),pe.lineStart=z2,pe.lineEnd=B2},polygonEnd:function(){var n=+ao;oo.add(n<0?Tr+n:n),this.lineStart=this.lineEnd=this.point=Wn},sphere:function(){oo.add(Tr)}};function z2(){pe.point=G2}function B2(){yh(dh,mh)}function G2(n,r){pe.point=yh,dh=n,mh=r,n*=un,r*=un,Jf=n,Kf=en(r=r/2+eo),Zf=Q(r)}function yh(n,r){n*=un,r*=un,r=r/2+eo;var e=n-Jf,t=e>=0?1:-1,i=t*e,a=en(r),o=Q(r),s=Zf*o,l=Kf*a+s*en(i),c=s*t*Q(i);ao.add(wr(c,l)),Jf=n,Kf=a,Zf=o}function U2(n){return oo.reset(),Kr(n,pe),oo*2}function uo(n){return[wr(n[1],n[0]),Ir(n[2])]}function ct(n){var r=n[0],e=n[1],t=en(e);return[t*en(r),t*Q(r),Q(e)]}function fa(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function Lt(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function Wu(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function la(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function fo(n){var r=ir(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}var Jn,Lr,nr,Gr,et,wh,Eh,xt,Ci=Xe(),Fe,Me,Ee={point:Qf,lineStart:m0,lineEnd:y0,polygonStart:function(){Ee.point=$h,Ee.lineStart=H2,Ee.lineEnd=Y2,Ci.reset(),pe.polygonStart()},polygonEnd:function(){pe.polygonEnd(),Ee.point=Qf,Ee.lineStart=m0,Ee.lineEnd=y0,ao<0?(Jn=-(nr=180),Lr=-(Gr=90)):Ci>an?Gr=90:Ci<-an&&(Lr=-90),Me[0]=Jn,Me[1]=nr}};function Qf(n,r){Fe.push(Me=[Jn=n,nr=n]),r<Lr&&(Lr=r),r>Gr&&(Gr=r)}function Sh(n,r){var e=ct([n*un,r*un]);if(xt){var t=Lt(xt,e),i=[t[1],-t[0],0],a=Lt(i,t);fo(a),a=uo(a);var o=n-et,s=o>0?1:-1,l=a[0]*Gn*s,c,u=An(o)>180;u^(s*et<l&&l<s*n)?(c=a[1]*Gn,c>Gr&&(Gr=c)):(l=(l+360)%360-180,u^(s*et<l&&l<s*n)?(c=-a[1]*Gn,c<Lr&&(Lr=c)):(r<Lr&&(Lr=r),r>Gr&&(Gr=r))),u?n<et?Cr(Jn,n)>Cr(Jn,nr)&&(nr=n):Cr(n,nr)>Cr(Jn,nr)&&(Jn=n):nr>=Jn?(n<Jn&&(Jn=n),n>nr&&(nr=n)):n>et?Cr(Jn,n)>Cr(Jn,nr)&&(nr=n):Cr(n,nr)>Cr(Jn,nr)&&(Jn=n)}else Fe.push(Me=[Jn=n,nr=n]);r<Lr&&(Lr=r),r>Gr&&(Gr=r),xt=e,et=n}function m0(){Ee.point=Sh}function y0(){Me[0]=Jn,Me[1]=nr,Ee.point=Qf,xt=null}function $h(n,r){if(xt){var e=n-et;Ci.add(An(e)>180?e+(e>0?360:-360):e)}else wh=n,Eh=r;pe.point(n,r),Sh(n,r)}function H2(){pe.lineStart()}function Y2(){$h(wh,Eh),pe.lineEnd(),An(Ci)>an&&(Jn=-(nr=180)),Me[0]=Jn,Me[1]=nr,xt=null}function Cr(n,r){return(r-=n)<0?r+360:r}function V2(n,r){return n[0]-r[0]}function w0(n,r){return n[0]<=n[1]?n[0]<=r&&r<=n[1]:r<n[0]||n[1]<r}function X2(n){var r,e,t,i,a,o,s;if(Gr=nr=-(Jn=Lr=1/0),Fe=[],Kr(n,Ee),e=Fe.length){for(Fe.sort(V2),r=1,t=Fe[0],a=[t];r<e;++r)i=Fe[r],w0(t,i[0])||w0(t,i[1])?(Cr(t[0],i[1])>Cr(t[0],t[1])&&(t[1]=i[1]),Cr(i[0],t[1])>Cr(t[0],t[1])&&(t[0]=i[0])):a.push(t=i);for(o=-1/0,e=a.length-1,r=0,t=a[e];r<=e;t=i,++r)i=a[r],(s=Cr(t[1],i[0]))>o&&(o=s,Jn=i[0],nr=t[1])}return Fe=Me=null,Jn===1/0||Lr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Jn,Lr],[nr,Gr]]}var vi,lo,so,co,vo,ho,go,po,nl,rl,el,_h,Th,hr,gr,pr,Qr={sphere:Wn,point:ss,lineStart:E0,lineEnd:S0,polygonStart:function(){Qr.lineStart=J2,Qr.lineEnd=K2},polygonEnd:function(){Qr.lineStart=E0,Qr.lineEnd=S0}};function ss(n,r){n*=un,r*=un;var e=en(r);Yi(e*en(n),e*Q(n),Q(r))}function Yi(n,r,e){++vi,so+=(n-so)/vi,co+=(r-co)/vi,vo+=(e-vo)/vi}function E0(){Qr.point=W2}function W2(n,r){n*=un,r*=un;var e=en(r);hr=e*en(n),gr=e*Q(n),pr=Q(r),Qr.point=j2,Yi(hr,gr,pr)}function j2(n,r){n*=un,r*=un;var e=en(r),t=e*en(n),i=e*Q(n),a=Q(r),o=wr(ir((o=gr*a-pr*i)*o+(o=pr*t-hr*a)*o+(o=hr*i-gr*t)*o),hr*t+gr*i+pr*a);lo+=o,ho+=o*(hr+(hr=t)),go+=o*(gr+(gr=i)),po+=o*(pr+(pr=a)),Yi(hr,gr,pr)}function S0(){Qr.point=ss}function J2(){Qr.point=Z2}function K2(){Mh(_h,Th),Qr.point=ss}function Z2(n,r){_h=n,Th=r,n*=un,r*=un,Qr.point=Mh;var e=en(r);hr=e*en(n),gr=e*Q(n),pr=Q(r),Yi(hr,gr,pr)}function Mh(n,r){n*=un,r*=un;var e=en(r),t=e*en(n),i=e*Q(n),a=Q(r),o=gr*a-pr*i,s=pr*t-hr*a,l=hr*i-gr*t,c=ir(o*o+s*s+l*l),u=Ir(c),v=c&&-u/c;nl+=v*o,rl+=v*s,el+=v*l,lo+=u,ho+=u*(hr+(hr=t)),go+=u*(gr+(gr=i)),po+=u*(pr+(pr=a)),Yi(hr,gr,pr)}function Q2(n){vi=lo=so=co=vo=ho=go=po=nl=rl=el=0,Kr(n,Qr);var r=nl,e=rl,t=el,i=r*r+e*e+t*t;return i<v0&&(r=ho,e=go,t=po,lo<an&&(r=so,e=co,t=vo),i=r*r+e*e+t*t,i<v0)?[NaN,NaN]:[wr(e,r)*Gn,Ir(t/ir(i))*Gn]}function yt(n){return function(){return n}}function Ph(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function tl(n,r){return[n>_n?n-Tr:n<-_n?n+Tr:n,r]}tl.invert=tl;function cs(n,r,e){return(n%=Tr)?r||e?Ph(_0(n),T0(r,e)):_0(n):r||e?T0(r,e):tl}function $0(n){return function(r,e){return r+=n,[r>_n?r-Tr:r<-_n?r+Tr:r,e]}}function _0(n){var r=$0(n);return r.invert=$0(-n),r}function T0(n,r){var e=en(n),t=Q(n),i=en(r),a=Q(r);function o(s,l){var c=en(l),u=en(s)*c,v=Q(s)*c,f=Q(l),h=f*e+u*t;return[wr(v*i-h*a,u*e-f*t),Ir(h*i+v*a)]}return o.invert=function(s,l){var c=en(l),u=en(s)*c,v=Q(s)*c,f=Q(l),h=f*i-v*a;return[wr(v*i+f*a,u*e+h*t),Ir(h*e-u*t)]},o}function xh(n){n=cs(n[0]*un,n[1]*un,n.length>2?n[2]*un:0);function r(e){return e=n(e[0]*un,e[1]*un),e[0]*=Gn,e[1]*=Gn,e}return r.invert=function(e){return e=n.invert(e[0]*un,e[1]*un),e[0]*=Gn,e[1]*=Gn,e},r}function Rh(n,r,e,t,i,a){if(!!e){var o=en(r),s=Q(r),l=t*e;i==null?(i=r+t*Tr,a=r-l/2):(i=M0(o,i),a=M0(o,a),(t>0?i<a:i>a)&&(i+=t*Tr));for(var c,u=i;t>0?u>a:u<a;u-=l)c=uo([o,-s*en(u),-s*Q(u)]),n.point(c[0],c[1])}}function M0(n,r){r=ct(r),r[0]-=n,fo(r);var e=ph(-r[1]);return((-r[2]<0?-e:e)+Tr-an)%Tr}function nm(){var n=yt([0,0]),r=yt(90),e=yt(6),t,i,a={point:o};function o(l,c){t.push(l=i(l,c)),l[0]*=Gn,l[1]*=Gn}function s(){var l=n.apply(this,arguments),c=r.apply(this,arguments)*un,u=e.apply(this,arguments)*un;return t=[],i=cs(-l[0]*un,-l[1]*un,0).invert,Rh(a,c,u,1),l={type:"Polygon",coordinates:[t]},t=i=null,l}return s.center=function(l){return arguments.length?(n=typeof l=="function"?l:yt([+l[0],+l[1]]),s):n},s.radius=function(l){return arguments.length?(r=typeof l=="function"?l:yt(+l),s):r},s.precision=function(l){return arguments.length?(e=typeof l=="function"?l:yt(+l),s):e},s}function Ch(){var n=[],r;return{point:function(e,t){r.push([e,t])},lineStart:function(){n.push(r=[])},lineEnd:Wn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function rm(n,r,e,t,i,a){var o=n[0],s=n[1],l=r[0],c=r[1],u=0,v=1,f=l-o,h=c-s,g;if(g=e-o,!(!f&&g>0)){if(g/=f,f<0){if(g<u)return;g<v&&(v=g)}else if(f>0){if(g>v)return;g>u&&(u=g)}if(g=i-o,!(!f&&g<0)){if(g/=f,f<0){if(g>v)return;g>u&&(u=g)}else if(f>0){if(g<u)return;g<v&&(v=g)}if(g=t-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>u&&(u=g)}if(g=a-s,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<v&&(v=g)}return u>0&&(n[0]=o+u*f,n[1]=s+u*h),v<1&&(r[0]=o+v*f,r[1]=s+v*h),!0}}}}}function Ba(n,r){return An(n[0]-r[0])<an&&An(n[1]-r[1])<an}function sa(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function kh(n,r,e,t,i){var a=[],o=[],s,l;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],m=g[p],w;if(Ba(d,m)){for(i.lineStart(),s=0;s<p;++s)i.point((d=g[s])[0],d[1]);i.lineEnd();return}a.push(w=new sa(d,g,null,!0)),o.push(w.o=new sa(d,null,w,!1)),a.push(w=new sa(m,g,null,!1)),o.push(w.o=new sa(m,null,w,!0))}}),!!a.length){for(o.sort(r),P0(a),P0(o),s=0,l=o.length;s<l;++s)o[s].e=e=!e;for(var c=a[0],u,v;;){for(var f=c,h=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(s=0,l=u.length;s<l;++s)i.point((v=u[s])[0],v[1]);else t(f.x,f.n.x,1,i);f=f.n}else{if(h)for(u=f.p.z,s=u.length-1;s>=0;--s)i.point((v=u[s])[0],v[1]);else t(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,h=!h}while(!f.v);i.lineEnd()}}}function P0(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}function vs(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function em(n){return n.length===1&&(n=tm(n)),{left:function(r,e,t,i){for(t==null&&(t=0),i==null&&(i=r.length);t<i;){var a=t+i>>>1;n(r[a],e)<0?t=a+1:i=a}return t},right:function(r,e,t,i){for(t==null&&(t=0),i==null&&(i=r.length);t<i;){var a=t+i>>>1;n(r[a],e)>0?i=a:t=a+1}return t}}}function tm(n){return function(r,e){return vs(n(r),e)}}em(vs);function Be(n,r,e){n=+n,r=+r,e=(i=arguments.length)<2?(r=n,n=0,1):i<3?1:+e;for(var t=-1,i=Math.max(0,Math.ceil((r-n)/e))|0,a=new Array(i);++t<i;)a[t]=n+t*e;return a}function He(n,r){var e=n.length,t=-1,i,a;if(r==null){for(;++t<e;)if((i=n[t])!=null&&i>=i)for(a=i;++t<e;)(i=n[t])!=null&&i>a&&(a=i)}else for(;++t<e;)if((i=r(n[t],t,n))!=null&&i>=i)for(a=i;++t<e;)(i=r(n[t],t,n))!=null&&i>a&&(a=i);return a}function Vi(n){for(var r=n.length,e,t=-1,i=0,a,o;++t<r;)i+=n[t].length;for(a=new Array(i);--r>=0;)for(o=n[r],e=o.length;--e>=0;)a[--i]=o[e];return a}function cr(n,r){var e=n.length,t=-1,i,a;if(r==null){for(;++t<e;)if((i=n[t])!=null&&i>=i)for(a=i;++t<e;)(i=n[t])!=null&&a>i&&(a=i)}else for(;++t<e;)if((i=r(n[t],t,n))!=null&&i>=i)for(a=i;++t<e;)(i=r(n[t],t,n))!=null&&a>i&&(a=i);return a}function ju(n,r){var e=n.length,t=-1,i,a=0;if(r==null)for(;++t<e;)(i=+n[t])&&(a+=i);else for(;++t<e;)(i=+r(n[t],t,n))&&(a+=i);return a}var hi=1e9,ca=-hi;function hs(n,r,e,t){function i(c,u){return n<=c&&c<=e&&r<=u&&u<=t}function a(c,u,v,f){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(u,v))||l(c,u)<0^v>0)do f.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else f.point(u[0],u[1])}function o(c,u){return An(c[0]-n)<an?u>0?0:3:An(c[0]-e)<an?u>0?2:1:An(c[1]-r)<an?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var v=o(c,1),f=o(u,1);return v!==f?v-f:v===0?u[1]-c[1]:v===1?c[0]-u[0]:v===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,v=Ch(),f,h,g,p,d,m,w,E,S,_,M,N={point:k,lineStart:C,lineEnd:z,polygonStart:D,polygonEnd:A};function k(y,P){i(y,P)&&u.point(y,P)}function L(){for(var y=0,P=0,x=h.length;P<x;++P)for(var O=h[P],J=1,cn=O.length,rn=O[0],sn,mn,zn=rn[0],Bn=rn[1];J<cn;++J)sn=zn,mn=Bn,rn=O[J],zn=rn[0],Bn=rn[1],mn<=t?Bn>t&&(zn-sn)*(t-mn)>(Bn-mn)*(n-sn)&&++y:Bn<=t&&(zn-sn)*(t-mn)<(Bn-mn)*(n-sn)&&--y;return y}function D(){u=v,f=[],h=[],M=!0}function A(){var y=L(),P=M&&y,x=(f=Vi(f)).length;(P||x)&&(c.polygonStart(),P&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&kh(f,s,y,a,c),c.polygonEnd()),u=c,f=h=g=null}function C(){N.point=$,h&&h.push(g=[]),_=!0,S=!1,w=E=NaN}function z(){f&&($(p,d),m&&S&&v.rejoin(),f.push(v.result())),N.point=k,S&&u.lineEnd()}function $(y,P){var x=i(y,P);if(h&&g.push([y,P]),_)p=y,d=P,m=x,_=!1,x&&(u.lineStart(),u.point(y,P));else if(x&&S)u.point(y,P);else{var O=[w=Math.max(ca,Math.min(hi,w)),E=Math.max(ca,Math.min(hi,E))],J=[y=Math.max(ca,Math.min(hi,y)),P=Math.max(ca,Math.min(hi,P))];rm(O,J,n,r,e,t)?(S||(u.lineStart(),u.point(O[0],O[1])),u.point(J[0],J[1]),x||u.lineEnd(),M=!1):x&&(u.lineStart(),u.point(y,P),M=!1)}w=y,E=P,S=x}return N}}function im(){var n=0,r=0,e=960,t=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=hs(n,r,e,t)(a=s)},extent:function(s){return arguments.length?(n=+s[0][0],r=+s[0][1],e=+s[1][0],t=+s[1][1],i=a=null,o):[[n,r],[e,t]]}}}var Ju=Xe();function bh(n,r){var e=r[0],t=r[1],i=[Q(e),-en(e),0],a=0,o=0;Ju.reset();for(var s=0,l=n.length;s<l;++s)if(!!(u=(c=n[s]).length))for(var c,u,v=c[u-1],f=v[0],h=v[1]/2+eo,g=Q(h),p=en(h),d=0;d<u;++d,f=w,g=S,p=_,v=m){var m=c[d],w=m[0],E=m[1]/2+eo,S=Q(E),_=en(E),M=w-f,N=M>=0?1:-1,k=N*M,L=k>_n,D=g*S;if(Ju.add(wr(D*N*Q(k),p*_+D*en(k))),a+=L?M+N*Tr:M,L^f>=e^w>=e){var A=Lt(ct(v),ct(m));fo(A);var C=Lt(i,A);fo(C);var z=(L^M>=0?-1:1)*Ir(C[2]);(t>z||t===z&&(A[0]||A[1]))&&(o+=L^M>=0?1:-1)}}return(a<-an||a<an&&Ju<-an)^o&1}var il=Xe(),al,Ga,Ua,Nt={sphere:Wn,point:Wn,lineStart:am,lineEnd:Wn,polygonStart:Wn,polygonEnd:Wn};function am(){Nt.point=um,Nt.lineEnd=om}function om(){Nt.point=Nt.lineEnd=Wn}function um(n,r){n*=un,r*=un,al=n,Ga=Q(r),Ua=en(r),Nt.point=fm}function fm(n,r){n*=un,r*=un;var e=Q(r),t=en(r),i=An(n-al),a=en(i),o=Q(i),s=t*o,l=Ua*e-Ga*t*a,c=Ga*e+Ua*t*a;il.add(wr(ir(s*s+l*l),c)),al=n,Ga=e,Ua=t}function Lh(n){return il.reset(),Kr(n,Nt),+il}var ol=[null,null],lm={type:"LineString",coordinates:ol};function ki(n,r){return ol[0]=n,ol[1]=r,Lh(lm)}var x0={Feature:function(n,r){return mo(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)if(mo(e[t].geometry,r))return!0;return!1}},R0={Sphere:function(){return!0},Point:function(n,r){return C0(n.coordinates,r)},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(C0(e[t],r))return!0;return!1},LineString:function(n,r){return k0(n.coordinates,r)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(k0(e[t],r))return!0;return!1},Polygon:function(n,r){return b0(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)if(b0(e[t],r))return!0;return!1},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)if(mo(e[t],r))return!0;return!1}};function mo(n,r){return n&&R0.hasOwnProperty(n.type)?R0[n.type](n,r):!1}function C0(n,r){return ki(n,r)===0}function k0(n,r){var e=ki(n[0],n[1]),t=ki(n[0],r),i=ki(r,n[1]);return t+i<=e+an}function b0(n,r){return!!bh(n.map(sm),Nh(r))}function sm(n){return n=n.map(Nh),n.pop(),n}function Nh(n){return[n[0]*un,n[1]*un]}function cm(n,r){return(n&&x0.hasOwnProperty(n.type)?x0[n.type]:mo)(n,r)}function L0(n,r,e){var t=Be(n,r-an,e).concat(r);return function(i){return t.map(function(a){return[i,a]})}}function N0(n,r,e){var t=Be(n,r-an,e).concat(r);return function(i){return t.map(function(a){return[a,i]})}}function Ah(){var n,r,e,t,i,a,o,s,l=10,c=l,u=90,v=360,f,h,g,p,d=2.5;function m(){return{type:"MultiLineString",coordinates:w()}}function w(){return Be(ua(t/u)*u,e,u).map(g).concat(Be(ua(s/v)*v,o,v).map(p)).concat(Be(ua(r/l)*l,n,l).filter(function(E){return An(E%u)>an}).map(f)).concat(Be(ua(a/c)*c,i,c).filter(function(E){return An(E%v)>an}).map(h))}return m.lines=function(){return w().map(function(E){return{type:"LineString",coordinates:E}})},m.outline=function(){return{type:"Polygon",coordinates:[g(t).concat(p(o).slice(1),g(e).reverse().slice(1),p(s).reverse().slice(1))]}},m.extent=function(E){return arguments.length?m.extentMajor(E).extentMinor(E):m.extentMinor()},m.extentMajor=function(E){return arguments.length?(t=+E[0][0],e=+E[1][0],s=+E[0][1],o=+E[1][1],t>e&&(E=t,t=e,e=E),s>o&&(E=s,s=o,o=E),m.precision(d)):[[t,s],[e,o]]},m.extentMinor=function(E){return arguments.length?(r=+E[0][0],n=+E[1][0],a=+E[0][1],i=+E[1][1],r>n&&(E=r,r=n,n=E),a>i&&(E=a,a=i,i=E),m.precision(d)):[[r,a],[n,i]]},m.step=function(E){return arguments.length?m.stepMajor(E).stepMinor(E):m.stepMinor()},m.stepMajor=function(E){return arguments.length?(u=+E[0],v=+E[1],m):[u,v]},m.stepMinor=function(E){return arguments.length?(l=+E[0],c=+E[1],m):[l,c]},m.precision=function(E){return arguments.length?(d=+E,f=L0(a,i,90),h=N0(r,n,d),g=L0(s,o,90),p=N0(t,e,d),m):d},m.extentMajor([[-180,-90+an],[180,90-an]]).extentMinor([[-180,-80-an],[180,80+an]])}function vm(){return Ah()()}function hm(n,r){var e=n[0]*un,t=n[1]*un,i=r[0]*un,a=r[1]*un,o=en(t),s=Q(t),l=en(a),c=Q(a),u=o*en(e),v=o*Q(e),f=l*en(i),h=l*Q(i),g=2*Ir(ir(h0(a-t)+o*l*h0(i-e))),p=Q(g),d=g?function(m){var w=Q(m*=g)/p,E=Q(g-m)/p,S=E*u+w*f,_=E*v+w*h,M=E*s+w*c;return[wr(_,S)*Gn,wr(M,ir(S*S+_*_))*Gn]}:function(){return[e*Gn,t*Gn]};return d.distance=g,d}function lt(n){return n}var Ku=Xe(),ul=Xe(),Ih,Dh,fl,ll,$e={point:Wn,lineStart:Wn,lineEnd:Wn,polygonStart:function(){$e.lineStart=gm,$e.lineEnd=dm},polygonEnd:function(){$e.lineStart=$e.lineEnd=$e.point=Wn,Ku.add(An(ul)),ul.reset()},result:function(){var n=Ku/2;return Ku.reset(),n}};function gm(){$e.point=pm}function pm(n,r){$e.point=Oh,Ih=fl=n,Dh=ll=r}function Oh(n,r){ul.add(ll*n-fl*r),fl=n,ll=r}function dm(){Oh(Ih,Dh)}var At=1/0,yo=At,Ii=-At,wo=Ii,Eo={point:mm,lineStart:Wn,lineEnd:Wn,polygonStart:Wn,polygonEnd:Wn,result:function(){var n=[[At,yo],[Ii,wo]];return Ii=wo=-(yo=At=1/0),n}};function mm(n,r){n<At&&(At=n),n>Ii&&(Ii=n),r<yo&&(yo=r),r>wo&&(wo=r)}var sl=0,cl=0,gi=0,So=0,$o=0,_t=0,vl=0,hl=0,pi=0,Fh,qh,se,ce,Ur={point:vt,lineStart:A0,lineEnd:I0,polygonStart:function(){Ur.lineStart=Em,Ur.lineEnd=Sm},polygonEnd:function(){Ur.point=vt,Ur.lineStart=A0,Ur.lineEnd=I0},result:function(){var n=pi?[vl/pi,hl/pi]:_t?[So/_t,$o/_t]:gi?[sl/gi,cl/gi]:[NaN,NaN];return sl=cl=gi=So=$o=_t=vl=hl=pi=0,n}};function vt(n,r){sl+=n,cl+=r,++gi}function A0(){Ur.point=ym}function ym(n,r){Ur.point=wm,vt(se=n,ce=r)}function wm(n,r){var e=n-se,t=r-ce,i=ir(e*e+t*t);So+=i*(se+n)/2,$o+=i*(ce+r)/2,_t+=i,vt(se=n,ce=r)}function I0(){Ur.point=vt}function Em(){Ur.point=$m}function Sm(){zh(Fh,qh)}function $m(n,r){Ur.point=zh,vt(Fh=se=n,qh=ce=r)}function zh(n,r){var e=n-se,t=r-ce,i=ir(e*e+t*t);So+=i*(se+n)/2,$o+=i*(ce+r)/2,_t+=i,i=ce*n-se*r,vl+=i*(se+n),hl+=i*(ce+r),pi+=i*3,vt(se=n,ce=r)}function Bh(n){this._context=n}Bh.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,r){switch(this._point){case 0:{this._context.moveTo(n,r),this._point=1;break}case 1:{this._context.lineTo(n,r);break}default:{this._context.moveTo(n+this._radius,r),this._context.arc(n,r,this._radius,0,Tr);break}}},result:Wn};var gl=Xe(),Zu,Gh,Uh,di,mi,Di={point:Wn,lineStart:function(){Di.point=_m},lineEnd:function(){Zu&&Hh(Gh,Uh),Di.point=Wn},polygonStart:function(){Zu=!0},polygonEnd:function(){Zu=null},result:function(){var n=+gl;return gl.reset(),n}};function _m(n,r){Di.point=Hh,Gh=di=n,Uh=mi=r}function Hh(n,r){di-=n,mi-=r,gl.add(ir(di*di+mi*mi)),di=n,mi=r}function Yh(){this._string=[]}Yh.prototype={_radius:4.5,_circle:D0(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,r){switch(this._point){case 0:{this._string.push("M",n,",",r),this._point=1;break}case 1:{this._string.push("L",n,",",r);break}default:{this._circle==null&&(this._circle=D0(this._radius)),this._string.push("M",n,",",r,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function D0(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Tm(n,r){var e=4.5,t,i;function a(o){return o&&(typeof e=="function"&&i.pointRadius(+e.apply(this,arguments)),Kr(o,t(i))),i.result()}return a.area=function(o){return Kr(o,t($e)),$e.result()},a.measure=function(o){return Kr(o,t(Di)),Di.result()},a.bounds=function(o){return Kr(o,t(Eo)),Eo.result()},a.centroid=function(o){return Kr(o,t(Ur)),Ur.result()},a.projection=function(o){return arguments.length?(t=o==null?(n=null,lt):(n=o).stream,a):n},a.context=function(o){return arguments.length?(i=o==null?(r=null,new Yh):new Bh(r=o),typeof e!="function"&&i.pointRadius(e),a):r},a.pointRadius=function(o){return arguments.length?(e=typeof o=="function"?o:(i.pointRadius(+o),+o),a):e},a.projection(n).context(r)}function Vh(n,r,e,t){return function(i,a){var o=r(a),s=i.invert(t[0],t[1]),l=Ch(),c=r(l),u=!1,v,f,h,g={point:p,lineStart:m,lineEnd:w,polygonStart:function(){g.point=E,g.lineStart=S,g.lineEnd=_,f=[],v=[]},polygonEnd:function(){g.point=p,g.lineStart=m,g.lineEnd=w,f=Vi(f);var M=bh(v,s);f.length?(u||(a.polygonStart(),u=!0),kh(f,Pm,M,e,a)):M&&(u||(a.polygonStart(),u=!0),a.lineStart(),e(null,null,1,a),a.lineEnd()),u&&(a.polygonEnd(),u=!1),f=v=null},sphere:function(){a.polygonStart(),a.lineStart(),e(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function p(M,N){var k=i(M,N);n(M=k[0],N=k[1])&&a.point(M,N)}function d(M,N){var k=i(M,N);o.point(k[0],k[1])}function m(){g.point=d,o.lineStart()}function w(){g.point=p,o.lineEnd()}function E(M,N){h.push([M,N]);var k=i(M,N);c.point(k[0],k[1])}function S(){c.lineStart(),h=[]}function _(){E(h[0][0],h[0][1]),c.lineEnd();var M=c.clean(),N=l.result(),k,L=N.length,D,A,C;if(h.pop(),v.push(h),h=null,!!L){if(M&1){if(A=N[0],(D=A.length-1)>0){for(u||(a.polygonStart(),u=!0),a.lineStart(),k=0;k<D;++k)a.point((C=A[k])[0],C[1]);a.lineEnd()}return}L>1&&M&2&&N.push(N.pop().concat(N.shift())),f.push(N.filter(Mm))}}return g}}function Mm(n){return n.length>1}function Pm(n,r){return((n=n.x)[0]<0?n[1]-er-an:er-n[1])-((r=r.x)[0]<0?r[1]-er-an:er-r[1])}var O0=Vh(function(){return!0},xm,Cm,[-_n,-er]);function xm(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var s=a>0?_n:-_n,l=An(a-r);An(l-_n)<an?(n.point(r,e=(e+o)/2>0?er:-er),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(s,e),n.point(a,e),i=0):t!==s&&l>=_n&&(An(r-t)<an&&(r-=t*an),An(a-s)<an&&(a-=s*an),e=Rm(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(s,e),i=0),n.point(r=a,e=o),t=s},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function Rm(n,r,e,t){var i,a,o=Q(n-e);return An(o)>an?Vt((Q(r)*(a=en(t))*Q(e)-Q(t)*(i=en(r))*Q(n))/(i*a*o)):(r+t)/2}function Cm(n,r,e,t){var i;if(n==null)i=e*er,t.point(-_n,i),t.point(0,i),t.point(_n,i),t.point(_n,0),t.point(_n,-i),t.point(0,-i),t.point(-_n,-i),t.point(-_n,0),t.point(-_n,i);else if(An(n[0]-r[0])>an){var a=n[0]<r[0]?_n:-_n;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function km(n,r){var e=en(n),t=e>0,i=An(e)>an;function a(u,v,f,h){Rh(h,n,r,f,u,v)}function o(u,v){return en(u)*en(v)>e}function s(u){var v,f,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,m){var w=[d,m],E,S=o(d,m),_=t?S?0:c(d,m):S?c(d+(d<0?_n:-_n),m):0;if(!v&&(g=h=S)&&u.lineStart(),S!==h&&(E=l(v,w),(!E||Ba(v,E)||Ba(w,E))&&(w[0]+=an,w[1]+=an,S=o(w[0],w[1]))),S!==h)p=0,S?(u.lineStart(),E=l(w,v),u.point(E[0],E[1])):(E=l(v,w),u.point(E[0],E[1]),u.lineEnd()),v=E;else if(i&&v&&t^S){var M;!(_&f)&&(M=l(w,v,!0))&&(p=0,t?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1])))}S&&(!v||!Ba(v,w))&&u.point(w[0],w[1]),v=w,h=S,f=_},lineEnd:function(){h&&u.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function l(u,v,f){var h=ct(u),g=ct(v),p=[1,0,0],d=Lt(h,g),m=fa(d,d),w=d[0],E=m-w*w;if(!E)return!f&&u;var S=e*m/E,_=-e*w/E,M=Lt(p,d),N=la(p,S),k=la(d,_);Wu(N,k);var L=M,D=fa(N,L),A=fa(L,L),C=D*D-A*(fa(N,N)-1);if(!(C<0)){var z=ir(C),$=la(L,(-D-z)/A);if(Wu($,N),$=uo($),!f)return $;var y=u[0],P=v[0],x=u[1],O=v[1],J;P<y&&(J=y,y=P,P=J);var cn=P-y,rn=An(cn-_n)<an,sn=rn||cn<an;if(!rn&&O<x&&(J=x,x=O,O=J),sn?rn?x+O>0^$[1]<(An($[0]-y)<an?x:O):x<=$[1]&&$[1]<=O:cn>_n^(y<=$[0]&&$[0]<=P)){var mn=la(L,(-D+z)/A);return Wu(mn,N),[$,uo(mn)]}}}function c(u,v){var f=t?n:_n-n,h=0;return u<-f?h|=1:u>f&&(h|=2),v<-f?h|=4:v>f&&(h|=8),h}return Vh(o,s,a,t?[0,-n]:[-_n,n-_n])}function bm(n){return{stream:gu(n)}}function gu(n){return function(r){var e=new pl;for(var t in n)e[t]=n[t];return e.stream=r,e}}function pl(){}pl.prototype={constructor:pl,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function pu(n,r,e){var t=r[1][0]-r[0][0],i=r[1][1]-r[0][1],a=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),Kr(e,n.stream(Eo));var o=Eo.result(),s=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),l=+r[0][0]+(t-s*(o[1][0]+o[0][0]))/2,c=+r[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return a!=null&&n.clipExtent(a),n.scale(s*150).translate([l,c])}function gs(n,r,e){return pu(n,[[0,0],r],e)}var F0=16,Lm=en(30*un);function q0(n,r){return+r?Am(n,r):Nm(n)}function Nm(n){return gu({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function Am(n,r){function e(t,i,a,o,s,l,c,u,v,f,h,g,p,d){var m=c-t,w=u-i,E=m*m+w*w;if(E>4*r&&p--){var S=o+f,_=s+h,M=l+g,N=ir(S*S+_*_+M*M),k=Ir(M/=N),L=An(An(M)-1)<an||An(a-v)<an?(a+v)/2:wr(_,S),D=n(L,k),A=D[0],C=D[1],z=A-t,$=C-i,y=w*z-m*$;(y*y/E>r||An((m*z+w*$)/E-.5)>.3||o*f+s*h+l*g<Lm)&&(e(t,i,a,o,s,l,A,C,L,S/=N,_/=N,M,p,d),d.point(A,C),e(A,C,L,S,_,M,c,u,v,f,h,g,p,d))}}return function(t){var i,a,o,s,l,c,u,v,f,h,g,p,d={point:m,lineStart:w,lineEnd:S,polygonStart:function(){t.polygonStart(),d.lineStart=_},polygonEnd:function(){t.polygonEnd(),d.lineStart=w}};function m(k,L){k=n(k,L),t.point(k[0],k[1])}function w(){v=NaN,d.point=E,t.lineStart()}function E(k,L){var D=ct([k,L]),A=n(k,L);e(v,f,u,h,g,p,v=A[0],f=A[1],u=k,h=D[0],g=D[1],p=D[2],F0,t),t.point(v,f)}function S(){d.point=m,t.lineEnd()}function _(){w(),d.point=M,d.lineEnd=N}function M(k,L){E(i=k,L),a=v,o=f,s=h,l=g,c=p,d.point=E}function N(){e(v,f,u,h,g,p,a,o,i,s,l,c,F0,t),d.lineEnd=S,S()}return d}}var Im=gu({point:function(n,r){this.stream.point(n*un,r*un)}});function We(n){return ps(function(){return n})()}function ps(n){var r,e=150,t=480,i=250,a,o,s=0,l=0,c=0,u=0,v=0,f,h,g=null,p=O0,d=null,m,w,E,S=lt,_=.5,M=q0(A,_),N,k;function L($){return $=h($[0]*un,$[1]*un),[$[0]*e+a,o-$[1]*e]}function D($){return $=h.invert(($[0]-a)/e,(o-$[1])/e),$&&[$[0]*Gn,$[1]*Gn]}function A($,y){return $=r($,y),[$[0]*e+a,o-$[1]*e]}L.stream=function($){return N&&k===$?N:N=Im(p(f,M(S(k=$))))},L.clipAngle=function($){return arguments.length?(p=+$?km(g=$*un,6*un):(g=null,O0),z()):g*Gn},L.clipExtent=function($){return arguments.length?(S=$==null?(d=m=w=E=null,lt):hs(d=+$[0][0],m=+$[0][1],w=+$[1][0],E=+$[1][1]),z()):d==null?null:[[d,m],[w,E]]},L.scale=function($){return arguments.length?(e=+$,C()):e},L.translate=function($){return arguments.length?(t=+$[0],i=+$[1],C()):[t,i]},L.center=function($){return arguments.length?(s=$[0]%360*un,l=$[1]%360*un,C()):[s*Gn,l*Gn]},L.rotate=function($){return arguments.length?(c=$[0]%360*un,u=$[1]%360*un,v=$.length>2?$[2]%360*un:0,C()):[c*Gn,u*Gn,v*Gn]},L.precision=function($){return arguments.length?(M=q0(A,_=$*$),z()):ir(_)},L.fitExtent=function($,y){return pu(L,$,y)},L.fitSize=function($,y){return gs(L,$,y)};function C(){h=Ph(f=cs(c,u,v),r);var $=r(s,l);return a=t-$[0]*e,o=i+$[1]*e,z()}function z(){return N=k=null,L}return function(){return r=n.apply(this,arguments),L.invert=r.invert&&D,C()}}function ds(n){var r=0,e=_n/3,t=ps(n),i=t(r,e);return i.parallels=function(a){return arguments.length?t(r=a[0]*un,e=a[1]*un):[r*Gn,e*Gn]},i}function Dm(n){var r=en(n);function e(t,i){return[t*r,Q(i)/r]}return e.invert=function(t,i){return[t/r,Ir(i*r)]},e}function Xh(n,r){var e=Q(n),t=(e+Q(r))/2;if(An(t)<an)return Dm(n);var i=1+e*(2*t-e),a=ir(i)/t;function o(s,l){var c=ir(i-2*t*Q(l))/t;return[c*Q(s*=t),a-c*en(s)]}return o.invert=function(s,l){var c=a-l;return[wr(s,An(c))/t*Ai(c),Ir((i-(s*s+c*c)*t*t)/(2*t))]},o}function _o(){return ds(Xh).scale(155.424).center([0,33.6442])}function Wh(){return _o().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Om(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function Fm(){var n,r,e=Wh(),t,i=_o().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=_o().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(f,h){l=[f,h]}};function u(f){var h=f[0],g=f[1];return l=null,t.point(h,g),l||(a.point(h,g),l)||(s.point(h,g),l)}u.invert=function(f){var h=e.scale(),g=e.translate(),p=(f[0]-g[0])/h,d=(f[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=Om([e.stream(r=f),i.stream(f),o.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),o.precision(f),v()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f*.35),o.scale(f),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var h=e.scale(),g=+f[0],p=+f[1];return t=e.translate(f).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+an,p+.12*h+an],[g-.214*h-an,p+.234*h-an]]).stream(c),s=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+an,p+.166*h+an],[g-.115*h-an,p+.234*h-an]]).stream(c),v()},u.fitExtent=function(f,h){return pu(u,f,h)},u.fitSize=function(f,h){return gs(u,f,h)};function v(){return n=r=null,u}return u.scale(1070)}function jh(n){return function(r,e){var t=en(r),i=en(e),a=n(t*i);return[a*i*Q(r),a*Q(e)]}}function Xi(n){return function(r,e){var t=ir(r*r+e*e),i=n(t),a=Q(i),o=en(i);return[wr(r*a,t*o),Ir(t&&e*a/t)]}}var ms=jh(function(n){return ir(2/(1+n))});ms.invert=Xi(function(n){return 2*Ir(n/2)});function qm(){return We(ms).scale(124.75).clipAngle(180-.001)}var ys=jh(function(n){return(n=ph(n))&&n/Q(n)});ys.invert=Xi(function(n){return n});function zm(){return We(ys).scale(79.4188).clipAngle(180-.001)}function Wi(n,r){return[n,to(ls((er+r)/2))]}Wi.invert=function(n,r){return[n,2*Vt(gh(r))-er]};function Bm(){return Jh(Wi).scale(961/Tr)}function Jh(n){var r=We(n),e=r.center,t=r.scale,i=r.translate,a=r.clipExtent,o=null,s,l,c;r.scale=function(v){return arguments.length?(t(v),u()):t()},r.translate=function(v){return arguments.length?(i(v),u()):i()},r.center=function(v){return arguments.length?(e(v),u()):e()},r.clipExtent=function(v){return arguments.length?(v==null?o=s=l=c=null:(o=+v[0][0],s=+v[0][1],l=+v[1][0],c=+v[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var v=_n*t(),f=r(xh(r.rotate()).invert([0,0]));return a(o==null?[[f[0]-v,f[1]-v],[f[0]+v,f[1]+v]]:n===Wi?[[Math.max(f[0]-v,o),s],[Math.min(f[0]+v,l),c]]:[[o,Math.max(f[1]-v,s)],[l,Math.min(f[1]+v,c)]])}return u()}function va(n){return ls((er+n)/2)}function Kh(n,r){var e=en(n),t=n===r?Q(n):to(e/en(r))/to(va(r)/va(n)),i=e*Xu(va(n),t)/t;if(!t)return Wi;function a(o,s){i>0?s<-er+an&&(s=-er+an):s>er-an&&(s=er-an);var l=i/Xu(va(s),t);return[l*Q(t*o),i-l*en(t*o)]}return a.invert=function(o,s){var l=i-s,c=Ai(t)*ir(o*o+l*l);return[wr(o,An(l))/t*Ai(l),2*Vt(Xu(i/c,1/t))-er]},a}function Gm(){return ds(Kh).scale(109.5).parallels([30,30])}function Oi(n,r){return[n,r]}Oi.invert=Oi;function Um(){return We(Oi).scale(152.63)}function Zh(n,r){var e=en(n),t=n===r?Q(n):(e-en(r))/(r-n),i=e/t+n;if(An(t)<an)return Oi;function a(o,s){var l=i-s,c=t*o;return[l*Q(c),i-l*en(c)]}return a.invert=function(o,s){var l=i-s;return[wr(o,An(l))/t*Ai(l),i-Ai(t)*ir(o*o+l*l)]},a}function Hm(){return ds(Zh).scale(131.154).center([0,13.9389])}function ws(n,r){var e=en(r),t=en(n)*e;return[e*Q(n)/t,Q(r)/t]}ws.invert=Xi(Vt);function Ym(){return We(ws).scale(144.049).clipAngle(60)}function ha(n,r,e,t){return n===1&&r===1&&e===0&&t===0?lt:gu({point:function(i,a){this.stream.point(i*n+e,a*r+t)}})}function Vm(){var n=1,r=0,e=0,t=1,i=1,a=lt,o=null,s,l,c,u=lt,v,f,h;function g(){return v=f=null,h}return h={stream:function(p){return v&&f===p?v:v=a(u(f=p))},clipExtent:function(p){return arguments.length?(u=p==null?(o=s=l=c=null,lt):hs(o=+p[0][0],s=+p[0][1],l=+p[1][0],c=+p[1][1]),g()):o==null?null:[[o,s],[l,c]]},scale:function(p){return arguments.length?(a=ha((n=+p)*t,n*i,r,e),g()):n},translate:function(p){return arguments.length?(a=ha(n*t,n*i,r=+p[0],e=+p[1]),g()):[r,e]},reflectX:function(p){return arguments.length?(a=ha(n*(t=p?-1:1),n*i,r,e),g()):t<0},reflectY:function(p){return arguments.length?(a=ha(n*t,n*(i=p?-1:1),r,e),g()):i<0},fitExtent:function(p,d){return pu(h,p,d)},fitSize:function(p,d){return gs(h,p,d)}}}function Es(n,r){return[en(r)*Q(n),Q(r)]}Es.invert=Xi(Ir);function Xm(){return We(Es).scale(249.5).clipAngle(90+an)}function Ss(n,r){var e=en(r),t=1+en(n)*e;return[e*Q(n)/t,Q(r)/t]}Ss.invert=Xi(function(n){return 2*Vt(n)});function Wm(){return We(Ss).scale(250).clipAngle(142)}function $s(n,r){return[to(ls((er+r)/2)),-n]}$s.invert=function(n,r){return[-r,2*Vt(gh(n))-er]};function jm(){var n=Jh($s),r=n.center,e=n.rotate;return n.center=function(t){return arguments.length?r([-t[1],t[0]]):(t=r(),[t[1],-t[0]])},n.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}var Jm=Object.freeze(Object.defineProperty({__proto__:null,geoArea:U2,geoBounds:X2,geoCentroid:Q2,geoCircle:nm,geoClipExtent:im,geoContains:cm,geoDistance:ki,geoGraticule:Ah,geoGraticule10:vm,geoInterpolate:hm,geoLength:Lh,geoPath:Tm,geoAlbers:Wh,geoAlbersUsa:Fm,geoAzimuthalEqualArea:qm,geoAzimuthalEqualAreaRaw:ms,geoAzimuthalEquidistant:zm,geoAzimuthalEquidistantRaw:ys,geoConicConformal:Gm,geoConicConformalRaw:Kh,geoConicEqualArea:_o,geoConicEqualAreaRaw:Xh,geoConicEquidistant:Hm,geoConicEquidistantRaw:Zh,geoEquirectangular:Um,geoEquirectangularRaw:Oi,geoGnomonic:Ym,geoGnomonicRaw:ws,geoIdentity:Vm,geoProjection:We,geoProjectionMutator:ps,geoMercator:Bm,geoMercatorRaw:Wi,geoOrthographic:Xm,geoOrthographicRaw:Es,geoStereographic:Wm,geoStereographicRaw:Ss,geoTransverseMercator:jm,geoTransverseMercatorRaw:$s,geoRotation:xh,geoStream:Kr,geoTransform:bm},Symbol.toStringTag,{value:"Module"})),ji=Le(Jm);function du(){return new To}function To(){this.reset()}To.prototype={constructor:To,reset:function(){this.s=this.t=0},add:function(n){z0(ga,n,this.t),z0(this,ga.s,this.s),this.s?this.t+=ga.t:this.s=ga.t},valueOf:function(){return this.s}};var ga=new To;function z0(n,r,e){var t=n.s=r+e,i=t-r,a=t-i;n.t=r-a+(e-i)}var Rn=1e-6,B0=1e-12,Tn=Math.PI,Hr=Tn/2,Mo=Tn/4,Dr=Tn*2,Hn=180/Tn,vn=Tn/180,Yn=Math.abs,Qh=Math.atan,re=Math.atan2,gn=Math.cos,fn=Math.sin,Km=Math.sign||function(n){return n>0?1:n<0?-1:0},ee=Math.sqrt;function ng(n){return n>1?0:n<-1?Tn:Math.acos(n)}function te(n){return n>1?Hr:n<-1?-Hr:Math.asin(n)}function G0(n){return(n=fn(n/2))*n}function he(){}function Po(n,r){n&&H0.hasOwnProperty(n.type)&&H0[n.type](n,r)}var U0={Feature:function(n,r){Po(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)Po(e[t].geometry,r)}},H0={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){dl(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)dl(e[t],r,0)},Polygon:function(n,r){Y0(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)Y0(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)Po(e[t],r)}};function dl(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function Y0(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)dl(n[e],r,1);r.polygonEnd()}function Xt(n,r){n&&U0.hasOwnProperty(n.type)?U0[n.type](n,r):Po(n,r)}var xo=du(),V0=du(),rg,eg,ml,yl,wl,Pe={point:he,lineStart:he,lineEnd:he,polygonStart:function(){xo.reset(),Pe.lineStart=Zm,Pe.lineEnd=Qm},polygonEnd:function(){var n=+xo;V0.add(n<0?Dr+n:n),this.lineStart=this.lineEnd=this.point=he},sphere:function(){V0.add(Dr)}};function Zm(){Pe.point=n5}function Qm(){tg(rg,eg)}function n5(n,r){Pe.point=tg,rg=n,eg=r,n*=vn,r*=vn,ml=n,yl=gn(r=r/2+Mo),wl=fn(r)}function tg(n,r){n*=vn,r*=vn,r=r/2+Mo;var e=n-ml,t=e>=0?1:-1,i=t*e,a=gn(r),o=fn(r),s=wl*o,l=yl*a+s*gn(i),c=s*t*fn(i);xo.add(re(c,l)),ml=n,yl=a,wl=o}function Ro(n){return[re(n[1],n[0]),te(n[2])]}function ht(n){var r=n[0],e=n[1],t=gn(e);return[t*gn(r),t*fn(r),fn(e)]}function pa(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function It(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function Qu(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function da(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function Co(n){var r=ee(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}var Xn,$r,Kn,Nr,tt,ig,ag,Rt,bi=du(),qe,xe,Se={point:El,lineStart:X0,lineEnd:W0,polygonStart:function(){Se.point=ug,Se.lineStart=r5,Se.lineEnd=e5,bi.reset(),Pe.polygonStart()},polygonEnd:function(){Pe.polygonEnd(),Se.point=El,Se.lineStart=X0,Se.lineEnd=W0,xo<0?(Xn=-(Kn=180),$r=-(Nr=90)):bi>Rn?Nr=90:bi<-Rn&&($r=-90),xe[0]=Xn,xe[1]=Kn},sphere:function(){Xn=-(Kn=180),$r=-(Nr=90)}};function El(n,r){qe.push(xe=[Xn=n,Kn=n]),r<$r&&($r=r),r>Nr&&(Nr=r)}function og(n,r){var e=ht([n*vn,r*vn]);if(Rt){var t=It(Rt,e),i=[t[1],-t[0],0],a=It(i,t);Co(a),a=Ro(a);var o=n-tt,s=o>0?1:-1,l=a[0]*Hn*s,c,u=Yn(o)>180;u^(s*tt<l&&l<s*n)?(c=a[1]*Hn,c>Nr&&(Nr=c)):(l=(l+360)%360-180,u^(s*tt<l&&l<s*n)?(c=-a[1]*Hn,c<$r&&($r=c)):(r<$r&&($r=r),r>Nr&&(Nr=r))),u?n<tt?kr(Xn,n)>kr(Xn,Kn)&&(Kn=n):kr(n,Kn)>kr(Xn,Kn)&&(Xn=n):Kn>=Xn?(n<Xn&&(Xn=n),n>Kn&&(Kn=n)):n>tt?kr(Xn,n)>kr(Xn,Kn)&&(Kn=n):kr(n,Kn)>kr(Xn,Kn)&&(Xn=n)}else qe.push(xe=[Xn=n,Kn=n]);r<$r&&($r=r),r>Nr&&(Nr=r),Rt=e,tt=n}function X0(){Se.point=og}function W0(){xe[0]=Xn,xe[1]=Kn,Se.point=El,Rt=null}function ug(n,r){if(Rt){var e=n-tt;bi.add(Yn(e)>180?e+(e>0?360:-360):e)}else ig=n,ag=r;Pe.point(n,r),og(n,r)}function r5(){Pe.lineStart()}function e5(){ug(ig,ag),Pe.lineEnd(),Yn(bi)>Rn&&(Xn=-(Kn=180)),xe[0]=Xn,xe[1]=Kn,Rt=null}function kr(n,r){return(r-=n)<0?r+360:r}function t5(n,r){return n[0]-r[0]}function j0(n,r){return n[0]<=n[1]?n[0]<=r&&r<=n[1]:r<n[0]||n[1]<r}function i5(n){var r,e,t,i,a,o,s;if(Nr=Kn=-(Xn=$r=1/0),qe=[],Xt(n,Se),e=qe.length){for(qe.sort(t5),r=1,t=qe[0],a=[t];r<e;++r)i=qe[r],j0(t,i[0])||j0(t,i[1])?(kr(t[0],i[1])>kr(t[0],t[1])&&(t[1]=i[1]),kr(i[0],t[1])>kr(t[0],t[1])&&(t[0]=i[0])):a.push(t=i);for(o=-1/0,e=a.length-1,r=0,t=a[e];r<=e;t=i,++r)i=a[r],(s=kr(t[1],i[0]))>o&&(o=s,Xn=i[0],Kn=t[1])}return qe=xe=null,Xn===1/0||$r===1/0?[[NaN,NaN],[NaN,NaN]]:[[Xn,$r],[Kn,Nr]]}var yi,ko,bo,Lo,No,Ao,Io,Do,Sl,$l,_l,fg,lg,dr,mr,yr,ne={sphere:he,point:_s,lineStart:J0,lineEnd:K0,polygonStart:function(){ne.lineStart=u5,ne.lineEnd=f5},polygonEnd:function(){ne.lineStart=J0,ne.lineEnd=K0}};function _s(n,r){n*=vn,r*=vn;var e=gn(r);Ji(e*gn(n),e*fn(n),fn(r))}function Ji(n,r,e){++yi,bo+=(n-bo)/yi,Lo+=(r-Lo)/yi,No+=(e-No)/yi}function J0(){ne.point=a5}function a5(n,r){n*=vn,r*=vn;var e=gn(r);dr=e*gn(n),mr=e*fn(n),yr=fn(r),ne.point=o5,Ji(dr,mr,yr)}function o5(n,r){n*=vn,r*=vn;var e=gn(r),t=e*gn(n),i=e*fn(n),a=fn(r),o=re(ee((o=mr*a-yr*i)*o+(o=yr*t-dr*a)*o+(o=dr*i-mr*t)*o),dr*t+mr*i+yr*a);ko+=o,Ao+=o*(dr+(dr=t)),Io+=o*(mr+(mr=i)),Do+=o*(yr+(yr=a)),Ji(dr,mr,yr)}function K0(){ne.point=_s}function u5(){ne.point=l5}function f5(){sg(fg,lg),ne.point=_s}function l5(n,r){fg=n,lg=r,n*=vn,r*=vn,ne.point=sg;var e=gn(r);dr=e*gn(n),mr=e*fn(n),yr=fn(r),Ji(dr,mr,yr)}function sg(n,r){n*=vn,r*=vn;var e=gn(r),t=e*gn(n),i=e*fn(n),a=fn(r),o=mr*a-yr*i,s=yr*t-dr*a,l=dr*i-mr*t,c=ee(o*o+s*s+l*l),u=te(c),v=c&&-u/c;Sl+=v*o,$l+=v*s,_l+=v*l,ko+=u,Ao+=u*(dr+(dr=t)),Io+=u*(mr+(mr=i)),Do+=u*(yr+(yr=a)),Ji(dr,mr,yr)}function Ki(n){yi=ko=bo=Lo=No=Ao=Io=Do=Sl=$l=_l=0,Xt(n,ne);var r=Sl,e=$l,t=_l,i=r*r+e*e+t*t;return i<B0&&(r=Ao,e=Io,t=Do,ko<Rn&&(r=bo,e=Lo,t=No),i=r*r+e*e+t*t,i<B0)?[NaN,NaN]:[re(e,r)*Hn,te(t/ee(i))*Hn]}function wt(n){return function(){return n}}function Tl(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function Ml(n,r){return[Yn(n)>Tn?n+Math.round(-n/Dr)*Dr:n,r]}Ml.invert=Ml;function Ts(n,r,e){return(n%=Dr)?r||e?Tl(Q0(n),n1(r,e)):Q0(n):r||e?n1(r,e):Ml}function Z0(n){return function(r,e){return r+=n,[r>Tn?r-Dr:r<-Tn?r+Dr:r,e]}}function Q0(n){var r=Z0(n);return r.invert=Z0(-n),r}function n1(n,r){var e=gn(n),t=fn(n),i=gn(r),a=fn(r);function o(s,l){var c=gn(l),u=gn(s)*c,v=fn(s)*c,f=fn(l),h=f*e+u*t;return[re(v*i-h*a,u*e-f*t),te(h*i+v*a)]}return o.invert=function(s,l){var c=gn(l),u=gn(s)*c,v=fn(s)*c,f=fn(l),h=f*i-v*a;return[re(v*i+f*a,u*e+h*t),te(h*e-u*t)]},o}function Oo(n){n=Ts(n[0]*vn,n[1]*vn,n.length>2?n[2]*vn:0);function r(e){return e=n(e[0]*vn,e[1]*vn),e[0]*=Hn,e[1]*=Hn,e}return r.invert=function(e){return e=n.invert(e[0]*vn,e[1]*vn),e[0]*=Hn,e[1]*=Hn,e},r}function cg(n,r,e,t,i,a){if(!!e){var o=gn(r),s=fn(r),l=t*e;i==null?(i=r+t*Dr,a=r-l/2):(i=r1(o,i),a=r1(o,a),(t>0?i<a:i>a)&&(i+=t*Dr));for(var c,u=i;t>0?u>a:u<a;u-=l)c=Ro([o,-s*gn(u),-s*fn(u)]),n.point(c[0],c[1])}}function r1(n,r){r=ht(r),r[0]-=n,Co(r);var e=ng(-r[1]);return((-r[2]<0?-e:e)+Dr-Rn)%Dr}function s5(){var n=wt([0,0]),r=wt(90),e=wt(6),t,i,a={point:o};function o(l,c){t.push(l=i(l,c)),l[0]*=Hn,l[1]*=Hn}function s(){var l=n.apply(this,arguments),c=r.apply(this,arguments)*vn,u=e.apply(this,arguments)*vn;return t=[],i=Ts(-l[0]*vn,-l[1]*vn,0).invert,cg(a,c,u,1),l={type:"Polygon",coordinates:[t]},t=i=null,l}return s.center=function(l){return arguments.length?(n=typeof l=="function"?l:wt([+l[0],+l[1]]),s):n},s.radius=function(l){return arguments.length?(r=typeof l=="function"?l:wt(+l),s):r},s.precision=function(l){return arguments.length?(e=typeof l=="function"?l:wt(+l),s):e},s}function vg(){var n=[],r;return{point:function(e,t,i){r.push([e,t,i])},lineStart:function(){n.push(r=[])},lineEnd:he,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function Ha(n,r){return Yn(n[0]-r[0])<Rn&&Yn(n[1]-r[1])<Rn}function ma(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function hg(n,r,e,t,i){var a=[],o=[],s,l;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],m=g[p],w;if(Ha(d,m)){if(!d[2]&&!m[2]){for(i.lineStart(),s=0;s<p;++s)i.point((d=g[s])[0],d[1]);i.lineEnd();return}m[0]+=2*Rn}a.push(w=new ma(d,g,null,!0)),o.push(w.o=new ma(d,null,w,!1)),a.push(w=new ma(m,g,null,!1)),o.push(w.o=new ma(m,null,w,!0))}}),!!a.length){for(o.sort(r),e1(a),e1(o),s=0,l=o.length;s<l;++s)o[s].e=e=!e;for(var c=a[0],u,v;;){for(var f=c,h=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(s=0,l=u.length;s<l;++s)i.point((v=u[s])[0],v[1]);else t(f.x,f.n.x,1,i);f=f.n}else{if(h)for(u=f.p.z,s=u.length-1;s>=0;--s)i.point((v=u[s])[0],v[1]);else t(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,h=!h}while(!f.v);i.lineEnd()}}}function e1(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}var nf=du();function rf(n){return Yn(n[0])<=Tn?n[0]:Km(n[0])*((Yn(n[0])+Tn)%Dr-Tn)}function c5(n,r){var e=rf(r),t=r[1],i=fn(t),a=[fn(e),-gn(e),0],o=0,s=0;nf.reset(),i===1?t=Hr+Rn:i===-1&&(t=-Hr-Rn);for(var l=0,c=n.length;l<c;++l)if(!!(v=(u=n[l]).length))for(var u,v,f=u[v-1],h=rf(f),g=f[1]/2+Mo,p=fn(g),d=gn(g),m=0;m<v;++m,h=E,p=_,d=M,f=w){var w=u[m],E=rf(w),S=w[1]/2+Mo,_=fn(S),M=gn(S),N=E-h,k=N>=0?1:-1,L=k*N,D=L>Tn,A=p*_;if(nf.add(re(A*k*fn(L),d*M+A*gn(L))),o+=D?N+k*Dr:N,D^h>=e^E>=e){var C=It(ht(f),ht(w));Co(C);var z=It(a,C);Co(z);var $=(D^N>=0?-1:1)*te(z[2]);(t>$||t===$&&(C[0]||C[1]))&&(s+=D^N>=0?1:-1)}}return(o<-Rn||o<Rn&&nf<-Rn)^s&1}function gg(n,r,e,t){return function(i){var a=r(i),o=vg(),s=r(o),l=!1,c,u,v,f={point:h,lineStart:p,lineEnd:d,polygonStart:function(){f.point=m,f.lineStart=w,f.lineEnd=E,u=[],c=[]},polygonEnd:function(){f.point=h,f.lineStart=p,f.lineEnd=d,u=Vi(u);var S=c5(c,t);u.length?(l||(i.polygonStart(),l=!0),hg(u,h5,S,e,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(S,_){n(S,_)&&i.point(S,_)}function g(S,_){a.point(S,_)}function p(){f.point=g,a.lineStart()}function d(){f.point=h,a.lineEnd()}function m(S,_){v.push([S,_]),s.point(S,_)}function w(){s.lineStart(),v=[]}function E(){m(v[0][0],v[0][1]),s.lineEnd();var S=s.clean(),_=o.result(),M,N=_.length,k,L,D;if(v.pop(),c.push(v),v=null,!!N){if(S&1){if(L=_[0],(k=L.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),M=0;M<k;++M)i.point((D=L[M])[0],D[1]);i.lineEnd()}return}N>1&&S&2&&_.push(_.pop().concat(_.shift())),u.push(_.filter(v5))}}return f}}function v5(n){return n.length>1}function h5(n,r){return((n=n.x)[0]<0?n[1]-Hr-Rn:Hr-n[1])-((r=r.x)[0]<0?r[1]-Hr-Rn:Hr-r[1])}var t1=gg(function(){return!0},g5,d5,[-Tn,-Hr]);function g5(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var s=a>0?Tn:-Tn,l=Yn(a-r);Yn(l-Tn)<Rn?(n.point(r,e=(e+o)/2>0?Hr:-Hr),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(s,e),n.point(a,e),i=0):t!==s&&l>=Tn&&(Yn(r-t)<Rn&&(r-=t*Rn),Yn(a-s)<Rn&&(a-=s*Rn),e=p5(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(s,e),i=0),n.point(r=a,e=o),t=s},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function p5(n,r,e,t){var i,a,o=fn(n-e);return Yn(o)>Rn?Qh((fn(r)*(a=gn(t))*fn(e)-fn(t)*(i=gn(r))*fn(n))/(i*a*o)):(r+t)/2}function d5(n,r,e,t){var i;if(n==null)i=e*Hr,t.point(-Tn,i),t.point(0,i),t.point(Tn,i),t.point(Tn,0),t.point(Tn,-i),t.point(0,-i),t.point(-Tn,-i),t.point(-Tn,0),t.point(-Tn,i);else if(Yn(n[0]-r[0])>Rn){var a=n[0]<r[0]?Tn:-Tn;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function m5(n){var r=gn(n),e=6*vn,t=r>0,i=Yn(r)>Rn;function a(u,v,f,h){cg(h,n,e,f,u,v)}function o(u,v){return gn(u)*gn(v)>r}function s(u){var v,f,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,m){var w=[d,m],E,S=o(d,m),_=t?S?0:c(d,m):S?c(d+(d<0?Tn:-Tn),m):0;if(!v&&(g=h=S)&&u.lineStart(),S!==h&&(E=l(v,w),(!E||Ha(v,E)||Ha(w,E))&&(w[2]=1)),S!==h)p=0,S?(u.lineStart(),E=l(w,v),u.point(E[0],E[1])):(E=l(v,w),u.point(E[0],E[1],2),u.lineEnd()),v=E;else if(i&&v&&t^S){var M;!(_&f)&&(M=l(w,v,!0))&&(p=0,t?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}S&&(!v||!Ha(v,w))&&u.point(w[0],w[1]),v=w,h=S,f=_},lineEnd:function(){h&&u.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function l(u,v,f){var h=ht(u),g=ht(v),p=[1,0,0],d=It(h,g),m=pa(d,d),w=d[0],E=m-w*w;if(!E)return!f&&u;var S=r*m/E,_=-r*w/E,M=It(p,d),N=da(p,S),k=da(d,_);Qu(N,k);var L=M,D=pa(N,L),A=pa(L,L),C=D*D-A*(pa(N,N)-1);if(!(C<0)){var z=ee(C),$=da(L,(-D-z)/A);if(Qu($,N),$=Ro($),!f)return $;var y=u[0],P=v[0],x=u[1],O=v[1],J;P<y&&(J=y,y=P,P=J);var cn=P-y,rn=Yn(cn-Tn)<Rn,sn=rn||cn<Rn;if(!rn&&O<x&&(J=x,x=O,O=J),sn?rn?x+O>0^$[1]<(Yn($[0]-y)<Rn?x:O):x<=$[1]&&$[1]<=O:cn>Tn^(y<=$[0]&&$[0]<=P)){var mn=da(L,(-D+z)/A);return Qu(mn,N),[$,Ro(mn)]}}}function c(u,v){var f=t?n:Tn-n,h=0;return u<-f?h|=1:u>f&&(h|=2),v<-f?h|=4:v>f&&(h|=8),h}return gg(o,s,a,t?[0,-n]:[-Tn,n-Tn])}function y5(n,r,e,t,i,a){var o=n[0],s=n[1],l=r[0],c=r[1],u=0,v=1,f=l-o,h=c-s,g;if(g=e-o,!(!f&&g>0)){if(g/=f,f<0){if(g<u)return;g<v&&(v=g)}else if(f>0){if(g>v)return;g>u&&(u=g)}if(g=i-o,!(!f&&g<0)){if(g/=f,f<0){if(g>v)return;g>u&&(u=g)}else if(f>0){if(g<u)return;g<v&&(v=g)}if(g=t-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>u&&(u=g)}if(g=a-s,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<v&&(v=g)}return u>0&&(n[0]=o+u*f,n[1]=s+u*h),v<1&&(r[0]=o+v*f,r[1]=s+v*h),!0}}}}}var wi=1e9,ya=-wi;function w5(n,r,e,t){function i(c,u){return n<=c&&c<=e&&r<=u&&u<=t}function a(c,u,v,f){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(u,v))||l(c,u)<0^v>0)do f.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else f.point(u[0],u[1])}function o(c,u){return Yn(c[0]-n)<Rn?u>0?0:3:Yn(c[0]-e)<Rn?u>0?2:1:Yn(c[1]-r)<Rn?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var v=o(c,1),f=o(u,1);return v!==f?v-f:v===0?u[1]-c[1]:v===1?c[0]-u[0]:v===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,v=vg(),f,h,g,p,d,m,w,E,S,_,M,N={point:k,lineStart:C,lineEnd:z,polygonStart:D,polygonEnd:A};function k(y,P){i(y,P)&&u.point(y,P)}function L(){for(var y=0,P=0,x=h.length;P<x;++P)for(var O=h[P],J=1,cn=O.length,rn=O[0],sn,mn,zn=rn[0],Bn=rn[1];J<cn;++J)sn=zn,mn=Bn,rn=O[J],zn=rn[0],Bn=rn[1],mn<=t?Bn>t&&(zn-sn)*(t-mn)>(Bn-mn)*(n-sn)&&++y:Bn<=t&&(zn-sn)*(t-mn)<(Bn-mn)*(n-sn)&&--y;return y}function D(){u=v,f=[],h=[],M=!0}function A(){var y=L(),P=M&&y,x=(f=Vi(f)).length;(P||x)&&(c.polygonStart(),P&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&hg(f,s,y,a,c),c.polygonEnd()),u=c,f=h=g=null}function C(){N.point=$,h&&h.push(g=[]),_=!0,S=!1,w=E=NaN}function z(){f&&($(p,d),m&&S&&v.rejoin(),f.push(v.result())),N.point=k,S&&u.lineEnd()}function $(y,P){var x=i(y,P);if(h&&g.push([y,P]),_)p=y,d=P,m=x,_=!1,x&&(u.lineStart(),u.point(y,P));else if(x&&S)u.point(y,P);else{var O=[w=Math.max(ya,Math.min(wi,w)),E=Math.max(ya,Math.min(wi,E))],J=[y=Math.max(ya,Math.min(wi,y)),P=Math.max(ya,Math.min(wi,P))];y5(O,J,n,r,e,t)?(S||(u.lineStart(),u.point(O[0],O[1])),u.point(J[0],J[1]),x||u.lineEnd(),M=!1):x&&(u.lineStart(),u.point(y,P),M=!1)}w=y,E=P,S=x}return N}}function Pl(n,r){var e=n[0]*vn,t=n[1]*vn,i=r[0]*vn,a=r[1]*vn,o=gn(t),s=fn(t),l=gn(a),c=fn(a),u=o*gn(e),v=o*fn(e),f=l*gn(i),h=l*fn(i),g=2*te(ee(G0(a-t)+o*l*G0(i-e))),p=fn(g),d=g?function(m){var w=fn(m*=g)/p,E=fn(g-m)/p,S=E*u+w*f,_=E*v+w*h,M=E*s+w*c;return[re(_,S)*Hn,re(M,ee(S*S+_*_))*Hn]}:function(){return[e*Hn,t*Hn]};return d.distance=g,d}function i1(n){return n}var Dt=1/0,Fo=Dt,Fi=-Dt,qo=Fi,E5={point:S5,lineStart:he,lineEnd:he,polygonStart:he,polygonEnd:he,result:function(){var n=[[Dt,Fo],[Fi,qo]];return Fi=qo=-(Fo=Dt=1/0),n}};function S5(n,r){n<Dt&&(Dt=n),n>Fi&&(Fi=n),r<Fo&&(Fo=r),r>qo&&(qo=r)}var a1=E5;function Ms(n){return function(r){var e=new xl;for(var t in n)e[t]=n[t];return e.stream=r,e}}function xl(){}xl.prototype={constructor:xl,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ps(n,r,e){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),Xt(e,n.stream(a1)),r(a1.result()),t!=null&&n.clipExtent(t),n}function pg(n,r,e){return Ps(n,function(t){var i=r[1][0]-r[0][0],a=r[1][1]-r[0][1],o=Math.min(i/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),s=+r[0][0]+(i-o*(t[1][0]+t[0][0]))/2,l=+r[0][1]+(a-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([s,l])},e)}function $5(n,r,e){return pg(n,[[0,0],r],e)}function _5(n,r,e){return Ps(n,function(t){var i=+r,a=i/(t[1][0]-t[0][0]),o=(i-a*(t[1][0]+t[0][0]))/2,s=-a*t[0][1];n.scale(150*a).translate([o,s])},e)}function T5(n,r,e){return Ps(n,function(t){var i=+r,a=i/(t[1][1]-t[0][1]),o=-a*t[0][0],s=(i-a*(t[1][1]+t[0][1]))/2;n.scale(150*a).translate([o,s])},e)}var o1=16,M5=gn(30*vn);function u1(n,r){return+r?x5(n,r):P5(n)}function P5(n){return Ms({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function x5(n,r){function e(t,i,a,o,s,l,c,u,v,f,h,g,p,d){var m=c-t,w=u-i,E=m*m+w*w;if(E>4*r&&p--){var S=o+f,_=s+h,M=l+g,N=ee(S*S+_*_+M*M),k=te(M/=N),L=Yn(Yn(M)-1)<Rn||Yn(a-v)<Rn?(a+v)/2:re(_,S),D=n(L,k),A=D[0],C=D[1],z=A-t,$=C-i,y=w*z-m*$;(y*y/E>r||Yn((m*z+w*$)/E-.5)>.3||o*f+s*h+l*g<M5)&&(e(t,i,a,o,s,l,A,C,L,S/=N,_/=N,M,p,d),d.point(A,C),e(A,C,L,S,_,M,c,u,v,f,h,g,p,d))}}return function(t){var i,a,o,s,l,c,u,v,f,h,g,p,d={point:m,lineStart:w,lineEnd:S,polygonStart:function(){t.polygonStart(),d.lineStart=_},polygonEnd:function(){t.polygonEnd(),d.lineStart=w}};function m(k,L){k=n(k,L),t.point(k[0],k[1])}function w(){v=NaN,d.point=E,t.lineStart()}function E(k,L){var D=ht([k,L]),A=n(k,L);e(v,f,u,h,g,p,v=A[0],f=A[1],u=k,h=D[0],g=D[1],p=D[2],o1,t),t.point(v,f)}function S(){d.point=m,t.lineEnd()}function _(){w(),d.point=M,d.lineEnd=N}function M(k,L){E(i=k,L),a=v,o=f,s=h,l=g,c=p,d.point=E}function N(){e(v,f,u,h,g,p,a,o,i,s,l,c,o1,t),d.lineEnd=S,S()}return d}}var R5=Ms({point:function(n,r){this.stream.point(n*vn,r*vn)}});function C5(n){return Ms({point:function(r,e){var t=n(r,e);return this.stream.point(t[0],t[1])}})}function k5(n,r,e,t,i){function a(o,s){return o*=t,s*=i,[r+n*o,e-n*s]}return a.invert=function(o,s){return[(o-r)/n*t,(e-s)/n*i]},a}function f1(n,r,e,t,i,a){var o=gn(a),s=fn(a),l=o*n,c=s*n,u=o/n,v=s/n,f=(s*e-o*r)/n,h=(s*r+o*e)/n;function g(p,d){return p*=t,d*=i,[l*p-c*d+r,e-c*p-l*d]}return g.invert=function(p,d){return[t*(u*p-v*d+f),i*(h-v*p-u*d)]},g}function nn(n){return Or(function(){return n})()}function Or(n){var r,e=150,t=480,i=250,a=0,o=0,s=0,l=0,c=0,u,v=0,f=1,h=1,g=null,p=t1,d=null,m,w,E,S=i1,_=.5,M,N,k,L,D;function A(y){return k(y[0]*vn,y[1]*vn)}function C(y){return y=k.invert(y[0],y[1]),y&&[y[0]*Hn,y[1]*Hn]}A.stream=function(y){return L&&D===y?L:L=R5(C5(u)(p(M(S(D=y)))))},A.preclip=function(y){return arguments.length?(p=y,g=void 0,$()):p},A.postclip=function(y){return arguments.length?(S=y,d=m=w=E=null,$()):S},A.clipAngle=function(y){return arguments.length?(p=+y?m5(g=y*vn):(g=null,t1),$()):g*Hn},A.clipExtent=function(y){return arguments.length?(S=y==null?(d=m=w=E=null,i1):w5(d=+y[0][0],m=+y[0][1],w=+y[1][0],E=+y[1][1]),$()):d==null?null:[[d,m],[w,E]]},A.scale=function(y){return arguments.length?(e=+y,z()):e},A.translate=function(y){return arguments.length?(t=+y[0],i=+y[1],z()):[t,i]},A.center=function(y){return arguments.length?(a=y[0]%360*vn,o=y[1]%360*vn,z()):[a*Hn,o*Hn]},A.rotate=function(y){return arguments.length?(s=y[0]%360*vn,l=y[1]%360*vn,c=y.length>2?y[2]%360*vn:0,z()):[s*Hn,l*Hn,c*Hn]},A.angle=function(y){return arguments.length?(v=y%360*vn,z()):v*Hn},A.reflectX=function(y){return arguments.length?(f=y?-1:1,z()):f<0},A.reflectY=function(y){return arguments.length?(h=y?-1:1,z()):h<0},A.precision=function(y){return arguments.length?(M=u1(N,_=y*y),$()):ee(_)},A.fitExtent=function(y,P){return pg(A,y,P)},A.fitSize=function(y,P){return $5(A,y,P)},A.fitWidth=function(y,P){return _5(A,y,P)},A.fitHeight=function(y,P){return T5(A,y,P)};function z(){var y=f1(e,0,0,f,h,v).apply(null,r(a,o)),P=(v?f1:k5)(e,t-y[0],i-y[1],f,h,v);return u=Ts(s,l,c),N=Tl(r,P),k=Tl(u,N),M=u1(N,_),$()}function $(){return L=D=null,A}return function(){return r=n.apply(this,arguments),A.invert=r.invert&&C,z()}}function dg(n){return function(r,e){var t=gn(r),i=gn(e),a=n(t*i);return[a*i*fn(r),a*fn(e)]}}function mu(n){return function(r,e){var t=ee(r*r+e*e),i=n(t),a=fn(i),o=gn(i);return[re(r*a,t*o),te(t&&e*a/t)]}}var Ya=dg(function(n){return ee(2/(1+n))});Ya.invert=mu(function(n){return 2*te(n/2)});var Ot=dg(function(n){return(n=ng(n))&&n/fn(n)});Ot.invert=mu(function(n){return n});function Rl(n,r){return[n,r]}Rl.invert=Rl;function b5(){return nn(Rl).scale(152.63)}function zo(n,r){var e=gn(r),t=gn(n)*e;return[e*fn(n)/t,fn(r)/t]}zo.invert=mu(Qh);function mg(){return nn(zo).scale(144.049).clipAngle(60)}function yg(n,r){return[gn(r)*fn(n),fn(r)]}yg.invert=mu(te);function L5(){return nn(yg).scale(249.5).clipAngle(90+Rn)}var Y=Math.abs,jn=Math.atan,$n=Math.atan2,q=Math.cos,de=Math.exp,Ft=Math.floor,tr=Math.log,qi=Math.max,Zr=Math.min,Cl=Math.pow,Bo=Math.round,Sn=Math.sign||function(n){return n>0?1:n<0?-1:0},B=Math.sin,pn=Math.tan,X=1e-6,Wt=1e-12,G=Math.PI,W=G/2,_r=G/4,Br=Math.SQRT1_2,kn=H(2),Vr=H(G),Wr=G*2,Fn=180/G,Mn=G/180;function N5(n){return n?n/Math.sin(n):1}function tn(n){return n>1?W:n<-1?-W:Math.asin(n)}function ur(n){return n>1?0:n<-1?G:Math.acos(n)}function H(n){return n>0?Math.sqrt(n):0}function A5(n){return n=de(2*n),(n-1)/(n+1)}function xs(n){return(de(n)-de(-n))/2}function wg(n){return(de(n)+de(-n))/2}function I5(n){return tr(n+H(n*n+1))}function D5(n){return tr(n+H(n*n-1))}function Eg(n){var r=pn(n/2),e=2*tr(q(n/2))/(r*r);function t(i,a){var o=q(i),s=q(a),l=B(a),c=s*o,u=-((1-c?tr((1+c)/2)/(1-c):-.5)+e/(1+c));return[u*s*B(i),u*l]}return t.invert=function(i,a){var o=H(i*i+a*a),s=-n/2,l=50,c;if(!o)return[0,0];do{var u=s/2,v=q(u),f=B(u),h=pn(u),g=tr(1/v);s-=c=(2/h*g-e*h-o)/(-g/(f*f)+1-e/(2*v*v))}while(Y(c)>X&&--l>0);var p=B(s);return[$n(i*p,o*q(s)),tn(a*p/o)]},t}function O5(){var n=W,r=Or(Eg),e=r(n);return e.radius=function(t){return arguments.length?r(n=t*Mn):n*Fn},e.scale(179.976).clipAngle(147)}function yu(n,r){var e=q(r),t=N5(ur(e*q(n/=2)));return[2*e*B(n)*t,B(r)*t]}yu.invert=function(n,r){if(!(n*n+4*r*r>G*G+X)){var e=n,t=r,i=25;do{var a=B(e),o=B(e/2),s=q(e/2),l=B(t),c=q(t),u=B(2*t),v=l*l,f=c*c,h=o*o,g=1-f*s*s,p=g?ur(c*s)*H(d=1/g):d=0,d,m=2*p*c*o-n,w=p*l-r,E=d*(f*h+p*c*s*v),S=d*(.5*a*u-p*2*l*o),_=d*.25*(u*o-p*l*f*a),M=d*(v*s+p*h*c),N=S*_-M*E;if(!N)break;var k=(w*S-m*M)/N,L=(m*_-w*E)/N;e-=k,t-=L}while((Y(k)>X||Y(L)>X)&&--i>0);return[e,t]}};function F5(){return nn(yu).scale(152.63)}function Sg(n){var r=B(n),e=q(n),t=n>=0?1:-1,i=pn(t*n),a=(1+r-e)/2;function o(s,l){var c=q(l),u=q(s/=2);return[(1+c)*B(s),(t*l>-$n(u,i)-.001?0:-t*10)+a+B(l)*e-(1+c)*r*u]}return o.invert=function(s,l){var c=0,u=0,v=50;do{var f=q(c),h=B(c),g=q(u),p=B(u),d=1+g,m=d*h-s,w=a+p*e-d*r*f-l,E=d*f/2,S=-h*p,_=r*d*h/2,M=e*g+r*f*p,N=S*_-M*E,k=(w*S-m*M)/N/2,L=(m*_-w*E)/N;c-=k,u-=L}while((Y(k)>X||Y(L)>X)&&--v>0);return t*u>-$n(q(c),i)-.001?[c*2,u]:null},o}function q5(){var n=20*Mn,r=n>=0?1:-1,e=pn(r*n),t=Or(Sg),i=t(n),a=i.stream;return i.parallel=function(o){return arguments.length?(e=pn((r=(n=o*Mn)>=0?1:-1)*n),t(n)):n*Fn},i.stream=function(o){var s=i.rotate(),l=a(o),c=(i.rotate([0,0]),a(o));return i.rotate(s),l.sphere=function(){c.polygonStart(),c.lineStart();for(var u=r*-180;r*u<180;u+=r*90)c.point(u,r*90);for(;r*(u-=n)>=-180;)c.point(u,r*-$n(q(u*Mn/2),e)*Fn);c.lineEnd(),c.polygonEnd()},l},i.scale(218.695).center([0,28.0974])}function wu(n,r){var e=pn(r/2),t=H(1-e*e),i=1+t*q(n/=2),a=B(n)*t/i,o=e/i,s=a*a,l=o*o;return[4/3*a*(3+s-3*l),4/3*o*(3+3*s-l)]}wu.invert=function(n,r){if(n*=3/8,r*=3/8,!n&&Y(r)>1)return null;var e=n*n,t=r*r,i=1+e+t,a=H((i-H(i*i-4*r*r))/2),o=tn(a)/3,s=a?D5(Y(r/a))/3:I5(Y(n))/3,l=q(o),c=wg(s),u=c*c-l*l;return[Sn(n)*2*$n(xs(s)*l,.25-u),Sn(r)*2*$n(c*B(o),.25+u)]};function z5(){return nn(wu).scale(66.1603)}var ef=H(8),B5=tr(1+kn);function Rs(n,r){var e=Y(r);return e<_r?[n,tr(pn(_r+r/2))]:[n*q(e)*(2*kn-1/B(e)),Sn(r)*(2*kn*(e-_r)-tr(pn(e/2)))]}Rs.invert=function(n,r){if((a=Y(r))<B5)return[n,2*jn(de(r))-W];var e=_r,t=25,i,a;do{var o=q(e/2),s=pn(e/2);e-=i=(ef*(e-_r)-tr(s)-a)/(ef-o*o/(2*s))}while(Y(i)>Wt&&--t>0);return[n/(q(e)*(ef-1/B(e))),Sn(r)*e]};function G5(){return nn(Rs).scale(112.314)}function $g(n){var r=2*G/n;function e(t,i){var a=Ot(t,i);if(Y(t)>W){var o=$n(a[1],a[0]),s=H(a[0]*a[0]+a[1]*a[1]),l=r*Bo((o-W)/r)+W,c=$n(B(o-=l),2-q(o));o=l+tn(G/s*B(c))-c,a[0]=s*q(o),a[1]=s*B(o)}return a}return e.invert=function(t,i){var a=H(t*t+i*i);if(a>W){var o=$n(i,t),s=r*Bo((o-W)/r)+W,l=o>s?-1:1,c=a*q(s-o),u=1/pn(l*ur((c-G)/H(G*(G-2*c)+a*a)));o=s+2*jn((u+l*H(u*u-3))/3),t=a*q(o),i=a*B(o)}return Ot.invert(t,i)},e}function U5(){var n=5,r=Or($g),e=r(n),t=e.stream,i=.01,a=-q(i*Mn),o=B(i*Mn);return e.lobes=function(s){return arguments.length?r(n=+s):n},e.stream=function(s){var l=e.rotate(),c=t(s),u=(e.rotate([0,0]),t(s));return e.rotate(l),c.sphere=function(){u.polygonStart(),u.lineStart();for(var v=0,f=360/n,h=2*G/n,g=90-180/n,p=W;v<n;++v,g-=f,p-=h)u.point($n(o*q(p),a)*Fn,tn(o*B(p))*Fn),g<-90?(u.point(-90,-180-g-i),u.point(-90,-180-g+i)):(u.point(90,g+i),u.point(90,g-i));u.lineEnd(),u.polygonEnd()},c},e.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)}function _g(n,r){var e=n*B(r),t=30,i;do r-=i=(r+B(r)-e)/(1+q(r));while(Y(i)>X&&--t>0);return r/2}function Cs(n,r,e){function t(i,a){return[n*i*q(a=_g(e,a)),r*B(a)]}return t.invert=function(i,a){return a=tn(a/r),[i/(n*q(a)),tn((2*a+B(2*a))/e)]},t}var je=Cs(kn/W,kn,G);function H5(){return nn(je).scale(169.529)}var Go=2.00276,Tg=1.11072;function Eu(n,r){var e=_g(G,r);return[Go*n/(1/q(r)+Tg/q(e)),(r+kn*B(e))/Go]}Eu.invert=function(n,r){var e=Go*r,t=r<0?-_r:_r,i=25,a,o;do o=e-kn*B(t),t-=a=(B(2*t)+2*t-G*B(o))/(2*q(2*t)+2+G*q(o)*kn*q(t));while(Y(a)>X&&--i>0);return o=e-kn*B(t),[n*(1/q(o)+Tg/q(t))/Go,o]};function Y5(){return nn(Eu).scale(160.857)}function jt(n){var r=0,e=Or(n),t=e(r);return t.parallel=function(i){return arguments.length?e(r=i*Mn):r*Fn},t}function Ne(n,r){return[n*q(r),r]}Ne.invert=function(n,r){return[n/q(r),r]};function V5(){return nn(Ne).scale(152.63)}function Mg(n){if(!n)return Ne;var r=1/pn(n);function e(t,i){var a=r+n-i,o=a&&t*q(i)/a;return[a*B(o),r-a*q(o)]}return e.invert=function(t,i){var a=H(t*t+(i=r-i)*i),o=r+n-a;return[a/q(o)*$n(t,i),o]},e}function X5(){return jt(Mg).scale(123.082).center([0,26.1441]).parallel(45)}function Pg(n){function r(e,t){var i=W-t,a=i&&e*n*B(i)/i;return[i*B(a)/n,W-i*q(a)]}return r.invert=function(e,t){var i=e*n,a=W-t,o=H(i*i+a*a),s=$n(i,a);return[(o?o/B(o):1)*s/n,W-o]},r}function W5(){var n=.5,r=Or(Pg),e=r(n);return e.fraction=function(t){return arguments.length?r(n=+t):n},e.scale(158.837)}var xg=Cs(1,4/G,G);function j5(){return nn(xg).scale(152.63)}function l1(n,r,e,t,i,a){var o=q(a),s;if(Y(n)>1||Y(a)>1)s=ur(e*i+r*t*o);else{var l=B(n/2),c=B(a/2);s=2*tn(H(l*l+r*t*c*c))}return Y(s)>X?[s,$n(t*B(a),r*i-e*t*o)]:[0,0]}function tf(n,r,e){return ur((n*n+r*r-e*e)/(2*n*r))}function J5(n){return n-2*G*Ft((n+G)/(2*G))}function Rg(n,r,e){for(var t=[[n[0],n[1],B(n[1]),q(n[1])],[r[0],r[1],B(r[1]),q(r[1])],[e[0],e[1],B(e[1]),q(e[1])]],i=t[2],a,o=0;o<3;++o,i=a)a=t[o],i.v=l1(a[1]-i[1],i[3],i[2],a[3],a[2],a[0]-i[0]),i.point=[0,0];var s=tf(t[0].v[0],t[2].v[0],t[1].v[0]),l=tf(t[0].v[0],t[1].v[0],t[2].v[0]),c=G-s;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=t[0].v[0]/2);var u=[t[2].point[0]=t[0].point[0]+t[2].v[0]*q(s),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*B(s))];function v(f,h){var g=B(h),p=q(h),d=new Array(3),m;for(m=0;m<3;++m){var w=t[m];if(d[m]=l1(h-w[1],w[3],w[2],p,g,f-w[0]),!d[m][0])return w.point;d[m][1]=J5(d[m][1]-w.v[1])}var E=u.slice();for(m=0;m<3;++m){var S=m==2?0:m+1,_=tf(t[m].v[0],d[m][0],d[S][0]);d[m][1]<0&&(_=-_),m?m==1?(_=l-_,E[0]-=d[m][0]*q(_),E[1]-=d[m][0]*B(_)):(_=c-_,E[0]+=d[m][0]*q(_),E[1]+=d[m][0]*B(_)):(E[0]+=d[m][0]*q(_),E[1]-=d[m][0]*B(_))}return E[0]/=3,E[1]/=3,E}return v}function af(n){return n[0]*=Mn,n[1]*=Mn,n}function K5(){return Cg([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Cg(n,r,e){var t=Ki({type:"MultiPoint",coordinates:[n,r,e]}),i=[-t[0],-t[1]],a=Oo(i),o=nn(Rg(af(a(n)),af(a(r)),af(a(e)))).rotate(i),s=o.center;return delete o.rotate,o.center=function(l){return arguments.length?s(a(l)):a.invert(s())},o.clipAngle(90)}function ve(n,r){var e=H(1-B(r));return[2/Vr*n*e,Vr*(1-e)]}ve.invert=function(n,r){var e=(e=r/Vr-1)*e;return[e>0?n*H(G/e)/2:0,tn(1-e)]};function Z5(){return nn(ve).scale(95.6464).center([0,30])}function kg(n){var r=pn(n);function e(t,i){return[t,(t?t/B(t):1)*(B(i)*q(t)-r*q(i))]}return e.invert=r?function(t,i){t&&(i*=B(t)/t);var a=q(t);return[t,2*$n(H(a*a+r*r-i*i)-a,r-i)]}:function(t,i){return[t,tn(t?i*pn(t)/t:i)]},e}function Q5(){return jt(kg).scale(249.828).clipAngle(90)}var Uo=H(3);function ks(n,r){return[Uo*n*(2*q(2*r/3)-1)/Vr,Uo*Vr*B(r/3)]}ks.invert=function(n,r){var e=3*tn(r/(Uo*Vr));return[Vr*n/(Uo*(2*q(2*e/3)-1)),e]};function ny(){return nn(ks).scale(156.19)}function bs(n){var r=q(n);function e(t,i){return[t*r,B(i)/r]}return e.invert=function(t,i){return[t/r,tn(i*r)]},e}function ry(){return jt(bs).parallel(38.58).scale(195.044)}function bg(n){var r=q(n);function e(t,i){return[t*r,(1+r)*pn(i/2)]}return e.invert=function(t,i){return[t/r,jn(i/(1+r))*2]},e}function ey(){return jt(bg).scale(124.75)}function Ls(n,r){var e=H(8/(3*G));return[e*n*(1-Y(r)/G),e*r]}Ls.invert=function(n,r){var e=H(8/(3*G)),t=r/e;return[n/(e*(1-Y(t)/G)),t]};function ty(){return nn(Ls).scale(165.664)}function Ns(n,r){var e=H(4-3*B(Y(r)));return[2/H(6*G)*n*e,Sn(r)*H(2*G/3)*(2-e)]}Ns.invert=function(n,r){var e=2-Y(r)/H(2*G/3);return[n*H(6*G)/(2*e),Sn(r)*tn((4-e*e)/3)]};function iy(){return nn(Ns).scale(165.664)}function As(n,r){var e=H(G*(4+G));return[2/e*n*(1+H(1-4*r*r/(G*G))),4/e*r]}As.invert=function(n,r){var e=H(G*(4+G))/2;return[n*e/(1+H(1-r*r*(4+G)/(4*G))),r*e/2]};function ay(){return nn(As).scale(180.739)}function Is(n,r){var e=(2+W)*B(r);r/=2;for(var t=0,i=1/0;t<10&&Y(i)>X;t++){var a=q(r);r-=i=(r+B(r)*(a+2)-e)/(2*a*(1+a))}return[2/H(G*(4+G))*n*(1+q(r)),2*H(G/(4+G))*B(r)]}Is.invert=function(n,r){var e=r*H((4+G)/G)/2,t=tn(e),i=q(t);return[n/(2/H(G*(4+G))*(1+i)),tn((t+e*(i+2))/(2+W))]};function oy(){return nn(Is).scale(180.739)}function Ds(n,r){return[n*(1+q(r))/H(2+G),2*r/H(2+G)]}Ds.invert=function(n,r){var e=H(2+G),t=r*e/2;return[e*n/(1+q(t)),t]};function uy(){return nn(Ds).scale(173.044)}function Os(n,r){for(var e=(1+W)*B(r),t=0,i=1/0;t<10&&Y(i)>X;t++)r-=i=(r+B(r)-e)/(1+q(r));return e=H(2+G),[n*(1+q(r))/e,2*r/e]}Os.invert=function(n,r){var e=1+W,t=H(e/2);return[n*2*t/(1+q(r*=t)),tn((r+B(r))/e)]};function fy(){return nn(Os).scale(173.044)}var Ho=3+2*kn;function Fs(n,r){var e=B(n/=2),t=q(n),i=H(q(r)),a=q(r/=2),o=B(r)/(a+kn*t*i),s=H(2/(1+o*o)),l=H((kn*a+(t+e)*i)/(kn*a+(t-e)*i));return[Ho*(s*(l-1/l)-2*tr(l)),Ho*(s*o*(l+1/l)-2*jn(o))]}Fs.invert=function(n,r){if(!(a=wu.invert(n/1.2,r*1.065)))return null;var e=a[0],t=a[1],i=20,a;n/=Ho,r/=Ho;do{var o=e/2,s=t/2,l=B(o),c=q(o),u=B(s),v=q(s),f=q(t),h=H(f),g=u/(v+kn*c*h),p=g*g,d=H(2/(1+p)),m=kn*v+(c+l)*h,w=kn*v+(c-l)*h,E=m/w,S=H(E),_=S-1/S,M=S+1/S,N=d*_-2*tr(S)-n,k=d*g*M-2*jn(g)-r,L=u&&Br*h*l*p/u,D=(kn*c*v+h)/(2*(v+kn*c*h)*(v+kn*c*h)*h),A=-.5*g*d*d*d,C=A*L,z=A*D,$=($=2*v+kn*h*(c-l))*$*S,y=(kn*c*v*h+f)/$,P=-(kn*l*u)/(h*$),x=_*C-2*y/S+d*(y+y/E),O=_*z-2*P/S+d*(P+P/E),J=g*M*C-2*L/(1+p)+d*M*L+d*g*(y-y/E),cn=g*M*z-2*D/(1+p)+d*M*D+d*g*(P-P/E),rn=O*J-cn*x;if(!rn)break;var sn=(k*O-N*cn)/rn,mn=(N*J-k*x)/rn;e-=sn,t=qi(-W,Zr(W,t-mn))}while((Y(sn)>X||Y(mn)>X)&&--i>0);return Y(Y(t)-W)<X?[0,t]:i&&[e,t]};function ly(){return nn(Fs).scale(62.5271)}var Yo=q(35*Mn);function qs(n,r){var e=pn(r/2);return[n*Yo*H(1-e*e),(1+Yo)*e]}qs.invert=function(n,r){var e=r/(1+Yo);return[n&&n/(Yo*H(1-e*e)),2*jn(e)]};function sy(){return nn(qs).scale(137.152)}function zs(n,r){var e=r/2,t=q(e);return[2*n/Vr*q(r)*t*t,Vr*pn(e)]}zs.invert=function(n,r){var e=jn(r/Vr),t=q(e),i=2*e;return[n*Vr/2/(q(i)*t*t),i]};function cy(){return nn(zs).scale(135.264)}function s1(n){return[n[0]/2,tn(pn(n[1]/2*Mn))*Fn]}function c1(n){return[n[0]*2,2*jn(B(n[1]*Mn))*Fn]}function vy(n){n==null&&(n=L5);var r=n(),e=b5().scale(Fn).precision(0).clipAngle(null).translate([0,0]);function t(a){return r(s1(a))}r.invert&&(t.invert=function(a){return c1(r.invert(a))}),t.stream=function(a){var o=r.stream(a),s=e.stream({point:function(l,c){o.point(l/2,tn(pn(-c/2*Mn))*Fn)},lineStart:function(){o.lineStart()},lineEnd:function(){o.lineEnd()},polygonStart:function(){o.polygonStart()},polygonEnd:function(){o.polygonEnd()}});return s.sphere=o.sphere,s};function i(a){t[a]=function(o){return arguments.length?(r[a](o),t):r[a]()}}return t.rotate=function(a){return arguments.length?(e.rotate(a),t):e.rotate()},t.center=function(a){return arguments.length?(r.center(s1(a)),t):c1(r.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),t.scale(249.5)}function Lg(n,r){var e=2*G/r,t=n*n;function i(a,o){var s=Ot(a,o),l=s[0],c=s[1],u=l*l+c*c;if(u>t){var v=H(u),f=$n(c,l),h=e*Bo(f/e),g=f-h,p=n*q(g),d=(n*B(g)-g*B(p))/(W-p),m=v1(g,d),w=(G-n)/wa(m,p,G);l=v;var E=50,S;do l-=S=(n+wa(m,p,l)*w-v)/(m(l)*w);while(Y(S)>X&&--E>0);c=g*B(l),l<W&&(c-=d*(l-W));var _=B(h),M=q(h);s[0]=l*M-c*_,s[1]=l*_+c*M}return s}return i.invert=function(a,o){var s=a*a+o*o;if(s>t){var l=H(s),c=$n(o,a),u=e*Bo(c/e),v=c-u;a=l*q(v),o=l*B(v);for(var f=a-W,h=B(a),g=o/h,p=a<W?1/0:0,d=10;;){var m=n*B(g),w=n*q(g),E=B(w),S=W-w,_=(m-g*E)/S,M=v1(g,_);if(Y(p)<Wt||!--d)break;g-=p=(g*h-_*f-o)/(h-f*2*(S*(w+g*m*q(w)-E)-m*(m-g*E))/(S*S))}l=n+wa(M,w,a)*(G-n)/wa(M,w,G),c=u+g,a=l*q(c),o=l*B(c)}return Ot.invert(a,o)},i}function v1(n,r){return function(e){var t=n*q(e);return e<W&&(t-=r),H(1+t*t)}}function wa(n,r,e){for(var t=50,i=(e-r)/t,a=n(r)+n(e),o=1,s=r;o<t;++o)a+=2*n(s+=i);return a*.5*i}function hy(){var n=6,r=30*Mn,e=q(r),t=B(r),i=Or(Lg),a=i(r,n),o=a.stream,s=.01,l=-q(s*Mn),c=B(s*Mn);return a.radius=function(u){return arguments.length?(e=q(r=u*Mn),t=B(r),i(r,n)):r*Fn},a.lobes=function(u){return arguments.length?i(r,n=+u):n},a.stream=function(u){var v=a.rotate(),f=o(u),h=(a.rotate([0,0]),o(u));return a.rotate(v),f.sphere=function(){h.polygonStart(),h.lineStart();for(var g=0,p=2*G/n,d=0;g<n;++g,d-=p)h.point($n(c*q(d),l)*Fn,tn(c*B(d))*Fn),h.point($n(t*q(d-p/2),e)*Fn,tn(t*B(d-p/2))*Fn);h.lineEnd(),h.polygonEnd()},f},a.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)}function Su(n,r,e,t,i,a,o,s){arguments.length<8&&(s=0);function l(c,u){if(!u)return[n*c/G,0];var v=u*u,f=n+v*(r+v*(e+v*t)),h=u*(i-1+v*(a-s+v*o)),g=(f*f+h*h)/(2*h),p=c*tn(f/g)/G;return[g*B(p),u*(1+v*s)+g*(1-q(p))]}return l.invert=function(c,u){var v=G*c/n,f=u,h,g,p=50;do{var d=f*f,m=n+d*(r+d*(e+d*t)),w=f*(i-1+d*(a-s+d*o)),E=m*m+w*w,S=2*w,_=E/S,M=_*_,N=tn(m/_)/G,k=v*N,L=m*m,D=(2*r+d*(4*e+d*6*t))*f,A=i+d*(3*a+d*5*o),C=2*(m*D+w*(A-1)),z=2*(A-1),$=(C*S-E*z)/(S*S),y=q(k),P=B(k),x=_*y,O=_*P,J=v/G*(1/H(1-L/M))*(D*_-m*$)/M,cn=O-c,rn=f*(1+d*s)+_-x-u,sn=$*P+x*J,mn=x*N,zn=1+$-($*y-O*J),Bn=O*N,Ke=sn*Bn-zn*mn;if(!Ke)break;v-=h=(rn*sn-cn*zn)/Ke,f-=g=(cn*Bn-rn*mn)/Ke}while((Y(h)>X||Y(g)>X)&&--p>0);return[v,f]},l}var Ng=Su(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function gy(){return nn(Ng).scale(149.995)}var Ag=Su(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function py(){return nn(Ag).scale(153.93)}var Ig=Su(5/6*G,-.62636,-.0344,0,1.3493,-.05524,0,.045);function dy(){return nn(Ig).scale(130.945)}function Bs(n,r){var e=n*n,t=r*r;return[n*(1-.162388*t)*(.87-952426e-9*e*e),r*(1+t/12)]}Bs.invert=function(n,r){var e=n,t=r,i=50,a;do{var o=t*t;t-=a=(t*(1+o/12)-r)/(1+o/4)}while(Y(a)>X&&--i>0);i=50,n/=1-.162388*o;do{var s=(s=e*e)*s;e-=a=(e*(.87-952426e-9*s)-n)/(.87-.00476213*s)}while(Y(a)>X&&--i>0);return[e,t]};function my(){return nn(Bs).scale(131.747)}var Dg=Su(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function yy(){return nn(Dg).scale(131.087)}function Og(n){var r=n(W,0)[0]-n(-W,0)[0];function e(t,i){var a=t>0?-.5:.5,o=n(t+a*G,i);return o[0]-=a*r,o}return n.invert&&(e.invert=function(t,i){var a=t>0?-.5:.5,o=n.invert(t+a*r,i),s=o[0]-a*G;return s<-G?s+=2*G:s>G&&(s-=2*G),o[0]=s,o}),e}function $u(n,r){var e=Sn(n),t=Sn(r),i=q(r),a=q(n)*i,o=B(n)*i,s=B(t*r);n=Y($n(o,s)),r=tn(a),Y(n-W)>X&&(n%=W);var l=wy(n>G/4?W-n:n,r);return n>G/4&&(s=l[0],l[0]=-l[1],l[1]=-s),l[0]*=e,l[1]*=-t,l}$u.invert=function(n,r){Y(n)>1&&(n=Sn(n)*2-n),Y(r)>1&&(r=Sn(r)*2-r);var e=Sn(n),t=Sn(r),i=-e*n,a=-t*r,o=a/i<1,s=Ey(o?a:i,o?i:a),l=s[0],c=s[1],u=q(c);return o&&(l=-W-l),[e*($n(B(l)*u,-B(c))+G),t*tn(q(l)*u)]};function wy(n,r){if(r===W)return[0,0];var e=B(r),t=e*e,i=t*t,a=1+i,o=1+3*i,s=1-i,l=tn(1/H(a)),c=s+t*a*l,u=(1-e)/c,v=H(u),f=u*a,h=H(f),g=v*s,p,d;if(n===0)return[0,-(g+t*h)];var m=q(r),w=1/m,E=2*e*m,S=(-3*t+l*o)*E,_=(-c*m-(1-e)*S)/(c*c),M=.5*_/v,N=s*M-2*t*v*E,k=t*a*_+u*o*E,L=-w*E,D=-w*k,A=-2*w*N,C=4*n/G,z;if(n>.222*G||r<G/4&&n>.175*G){if(p=(g+t*H(f*(1+i)-g*g))/(1+i),n>G/4)return[p,p];var $=p,y=.5*p;p=.5*(y+$),d=50;do{var P=H(f-p*p),x=p*(A+L*P)+D*tn(p/h)-C;if(!x)break;x<0?y=p:$=p,p=.5*(y+$)}while(Y($-y)>X&&--d>0)}else{p=X,d=25;do{var O=p*p,J=H(f-O),cn=A+L*J,rn=p*cn+D*tn(p/h)-C,sn=cn+(D-L*O)/J;p-=z=J?rn/sn:0}while(Y(z)>X&&--d>0)}return[p,-g-t*H(f-p*p)]}function Ey(n,r){for(var e=0,t=1,i=.5,a=50;;){var o=i*i,s=H(i),l=tn(1/H(1+o)),c=1-o+i*(1+o)*l,u=(1-s)/c,v=H(u),f=u*(1+o),h=v*(1-o),g=f-n*n,p=H(g),d=r+h+i*p;if(Y(t-e)<Wt||--a===0||d===0)break;d>0?e=i:t=i,i=.5*(e+t)}if(!a)return null;var m=tn(s),w=q(m),E=1/w,S=2*s*w,_=(-3*i+l*(1+3*o))*S,M=(-c*w-(1-s)*_)/(c*c),N=.5*M/v,k=(1-o)*N-2*i*v*S,L=-2*E*k,D=-E*S,A=-E*(i*(1+o)*M+u*(1+3*o)*S);return[G/4*(n*(L+D*p)+A*tn(n/H(f))),m]}function Sy(){return nn(Og($u)).scale(239.75)}function $y(n,r,e){var t,i,a;return n?(t=of(n,e),r?(i=of(r,1-e),a=i[1]*i[1]+e*t[0]*t[0]*i[0]*i[0],[[t[0]*i[2]/a,t[1]*t[2]*i[0]*i[1]/a],[t[1]*i[1]/a,-t[0]*t[2]*i[0]*i[2]/a],[t[2]*i[1]*i[2]/a,-e*t[0]*t[1]*i[0]/a]]):[[t[0],0],[t[1],0],[t[2],0]]):(i=of(r,1-e),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function of(n,r){var e,t,i,a,o;if(r<X)return a=B(n),t=q(n),e=r*(n-a*t)/4,[a-e*t,t+e*a,1-r*a*a/2,n-e];if(r>=1-X)return e=(1-r)/4,t=wg(n),a=A5(n),i=1/t,o=t*xs(n),[a+e*(o-n)/(t*t),i-e*a*i*(o-n),i+e*a*i*(o+n),2*jn(de(n))-W+e*(o-n)/t];var s=[1,0,0,0,0,0,0,0,0],l=[H(r),0,0,0,0,0,0,0,0],c=0;for(t=H(1-r),o=1;Y(l[c]/s[c])>X&&c<8;)e=s[c++],l[c]=(e-t)/2,s[c]=(e+t)/2,t=H(e*t),o*=2;i=o*s[c]*n;do a=l[c]*B(t=i)/s[c],i=(tn(a)+i)/2;while(--c);return[B(i),a=q(i),a/q(i-t),i]}function _y(n,r,e){var t=Y(n),i=Y(r),a=xs(i);if(t){var o=1/B(t),s=1/(pn(t)*pn(t)),l=-(s+e*(a*a*o*o)-1+e),c=(e-1)*s,u=(-l+H(l*l-4*c))/2;return[Li(jn(1/H(u)),e)*Sn(n),Li(jn(H((u/s-1)/e)),1-e)*Sn(r)]}return[0,Li(jn(a),1-e)*Sn(r)]}function Li(n,r){if(!r)return n;if(r===1)return tr(pn(n/2+_r));for(var e=1,t=H(1-r),i=H(r),a=0;Y(i)>X;a++){if(n%G){var o=jn(t*pn(n)/e);o<0&&(o+=G),n+=o+~~(n/G)*G}else n+=n;i=(e+t)/2,t=H(e*t),i=((e=i)-t)/2}return n/(Cl(2,a)*e)}function _u(n,r){var e=(kn-1)/(kn+1),t=H(1-e*e),i=Li(W,t*t),a=-1,o=tr(pn(G/4+Y(r)/2)),s=de(a*o)/H(e),l=Ty(s*q(a*n),s*B(a*n)),c=_y(l[0],l[1],t*t);return[-c[1],(r>=0?1:-1)*(.5*i-c[0])]}function Ty(n,r){var e=n*n,t=r+1,i=1-e-r*r;return[.5*((n>=0?W:-W)-$n(i,2*n)),-.25*tr(i*i+4*e)+.5*tr(t*t+e)]}function My(n,r){var e=r[0]*r[0]+r[1]*r[1];return[(n[0]*r[0]+n[1]*r[1])/e,(n[1]*r[0]-n[0]*r[1])/e]}_u.invert=function(n,r){var e=(kn-1)/(kn+1),t=H(1-e*e),i=Li(W,t*t),a=-1,o=$y(.5*i-r,-n,t*t),s=My(o[0],o[1]),l=$n(s[1],s[0])/a;return[l,2*jn(de(.5/a*tr(e*s[0]*s[0]+e*s[1]*s[1])))-W]};function Py(){return nn(Og(_u)).scale(151.496)}function Fg(n,r){if(arguments.length<2&&(r=n),r===1)return Ya;if(r===1/0)return qg;function e(t,i){var a=Ya(t/r,i);return a[0]*=n,a}return e.invert=function(t,i){var a=Ya.invert(t/n,i);return a[0]*=r,a},e}function qg(n,r){return[n*q(r)/q(r/=2),2*B(r)]}qg.invert=function(n,r){var e=2*tn(r/2);return[n*q(e/2)/q(e),e]};function xy(){var n=2,r=Or(Fg),e=r(n);return e.coefficient=function(t){return arguments.length?r(n=+t):n},e.scale(169.529)}function zg(n){var r=B(n),e=q(n),t=h1(n);t.invert=h1(-n);function i(a,o){var s=t(a,o);a=s[0],o=s[1];var l=B(o),c=q(o),u=q(a),v=ur(r*l+e*c*u),f=B(v),h=Y(f)>X?v/f:1;return[h*e*B(a),(Y(a)>W?h:-h)*(r*c-e*l*u)]}return i.invert=function(a,o){var s=H(a*a+o*o),l=-B(s),c=q(s),u=s*c,v=-o*l,f=s*r,h=H(u*u+v*v-f*f),g=$n(u*f+v*h,v*f-u*h),p=(s>W?-1:1)*$n(a*l,s*q(g)*c+o*B(g)*l);return t.invert(p,g)},i}function h1(n){var r=B(n),e=q(n);return function(t,i){var a=q(i),o=q(t)*a,s=B(t)*a,l=B(i);return[$n(s,o*e-l*r),tn(l*e+o*r)]}}function Ry(){var n=0,r=Or(zg),e=r(n),t=e.rotate,i=e.stream,a=s5();return e.parallel=function(o){if(!arguments.length)return n*Fn;var s=e.rotate();return r(n=o*Mn).rotate(s)},e.rotate=function(o){return arguments.length?(t.call(e,[o[0],o[1]-n*Fn]),a.center([-o[0],-o[1]]),e):(o=t.call(e),o[1]+=n*Fn,o)},e.stream=function(o){return o=i(o),o.sphere=function(){o.polygonStart();var s=.01,l=a.radius(90-s)().coordinates[0],c=l.length-1,u=-1,v;for(o.lineStart();++u<c;)o.point((v=l[u])[0],v[1]);for(o.lineEnd(),l=a.radius(90+s)().coordinates[0],c=l.length-1,o.lineStart();--u>=0;)o.point((v=l[u])[0],v[1]);o.lineEnd(),o.polygonEnd()},o},e.scale(79.4187).parallel(45).clipAngle(180-.001)}var kl=41+48/36+37/3600,uf=bs(0);function Bg(n){var r=kl*Mn,e=ve(G,r)[0]-ve(-G,r)[0],t=uf(0,r)[1],i=ve(0,r)[1],a=Vr-i,o=Wr/n,s=4/Wr,l=t+a*a*4/Wr;function c(u,v){var f,h=Y(v);if(h>r){var g=Zr(n-1,qi(0,Ft((u+G)/o)));u+=G*(n-1)/n-g*o,f=ve(u,h),f[0]=f[0]*Wr/e-Wr*(n-1)/(2*n)+g*Wr/n,f[1]=t+(f[1]-i)*4*a/Wr,v<0&&(f[1]=-f[1])}else f=uf(u,v);return f[0]*=s,f[1]/=l,f}return c.invert=function(u,v){u/=s,v*=l;var f=Y(v);if(f>t){var h=Zr(n-1,qi(0,Ft((u+G)/o)));u=(u+G*(n-1)/n-h*o)*e/Wr;var g=ve.invert(u,.25*(f-t)*Wr/a+i);return g[0]-=G*(n-1)/n-h*o,v<0&&(g[1]=-g[1]),g}return uf.invert(u,v)},c}function Cy(n){return{type:"Polygon",coordinates:[Be(-180,180+n/2,n).map(function(r,e){return[r,e&1?90-1e-6:kl]}).concat(Be(180,-180-n/2,-n).map(function(r,e){return[r,e&1?-90+1e-6:-kl]}))]}}function ky(){var n=4,r=Or(Bg),e=r(n),t=e.stream;return e.lobes=function(i){return arguments.length?r(n=+i):n},e.stream=function(i){var a=e.rotate(),o=t(i),s=(e.rotate([0,0]),t(i));return e.rotate(a),o.sphere=function(){Xt(Cy(180/n),s)},o},e.scale(239.75)}function Gg(n){var r=1+n,e=B(1/r),t=tn(e),i=2*H(G/(a=G+4*t*r)),a,o=.5*i*(r+H(n*(2+n))),s=n*n,l=r*r;function c(u,v){var f=1-B(v),h,g;if(f&&f<2){var p=W-v,d=25,m;do{var w=B(p),E=q(p),S=t+$n(w,r-E),_=1+l-2*r*E;p-=m=(p-s*t-r*w+_*S-.5*f*a)/(2*r*w*S)}while(Y(m)>Wt&&--d>0);h=i*H(_),g=u*S/G}else h=i*(n+f),g=u*t/G;return[h*B(g),o-h*q(g)]}return c.invert=function(u,v){var f=u*u+(v-=o)*v,h=(1+l-f/(i*i))/(2*r),g=ur(h),p=B(g),d=t+$n(p,r-h);return[tn(u/H(f))*G/d,tn(1-2*(g-s*t-r*p+(1+l-2*r*h)*d)/a)]},c}function by(){var n=1,r=Or(Gg),e=r(n);return e.ratio=function(t){return arguments.length?r(n=+t):n},e.scale(167.774).center([0,18.67])}var Tu=.7109889596207567,qt=.0528035274542;function Mu(n,r){return r>-Tu?(n=je(n,r),n[1]+=qt,n):Ne(n,r)}Mu.invert=function(n,r){return r>-Tu?je.invert(n,r-qt):Ne.invert(n,r)};function Ly(){return nn(Mu).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Pu(n,r){return Y(r)>Tu?(n=je(n,r),n[1]-=r>0?qt:-qt,n):Ne(n,r)}Pu.invert=function(n,r){return Y(r)>Tu?je.invert(n,r+(r>0?qt:-qt)):Ne.invert(n,r)};function Ny(){return nn(Pu).scale(152.63)}function Ay(n,r){return Y(n[0]-r[0])<X&&Y(n[1]-r[1])<X}function g1(n,r){for(var e=-1,t=n.length,i=n[0],a,o,s,l=[];++e<t;){a=n[e],o=(a[0]-i[0])/r,s=(a[1]-i[1])/r;for(var c=0;c<r;++c)l.push([i[0]+c*o,i[1]+c*s]);i=a}return l.push(a),l}function Iy(n){var r=[],e,t,i,a,o,s,l,c=n[0].length;for(l=0;l<c;++l)e=n[0][l],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],s=e[2][1],r.push(g1([[t+X,i+X],[t+X,a-X],[o-X,a-X],[o-X,s+X]],30));for(l=n[1].length-1;l>=0;--l)e=n[1][l],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],s=e[2][1],r.push(g1([[o-X,s-X],[o-X,a+X],[t+X,a+X],[t+X,i-X]],30));return{type:"Polygon",coordinates:[Vi(r)]}}function gt(n,r){var e=Iy(r);r=r.map(function(s){return s.map(function(l){return[[l[0][0]*Mn,l[0][1]*Mn],[l[1][0]*Mn,l[1][1]*Mn],[l[2][0]*Mn,l[2][1]*Mn]]})});var t=r.map(function(s){return s.map(function(l){var c=n(l[0][0],l[0][1])[0],u=n(l[2][0],l[2][1])[0],v=n(l[1][0],l[0][1])[1],f=n(l[1][0],l[1][1])[1],h;return v>f&&(h=v,v=f,f=h),[[c,v],[u,f]]})});function i(s,l){for(var c=l<0?-1:1,u=r[+(l<0)],v=0,f=u.length-1;v<f&&s>u[v][2][0];++v);var h=n(s-u[v][1][0],l);return h[0]+=n(u[v][1][0],c*l>c*u[v][0][1]?u[v][0][1]:l)[0],h}n.invert&&(i.invert=function(s,l){for(var c=t[+(l<0)],u=r[+(l<0)],v=0,f=c.length;v<f;++v){var h=c[v];if(h[0][0]<=s&&s<h[1][0]&&h[0][1]<=l&&l<h[1][1]){var g=n.invert(s-n(u[v][1][0],0)[0],l);return g[0]+=u[v][1][0],Ay(i(g[0],g[1]),[s,l])?g:null}}});var a=nn(i),o=a.stream;return a.stream=function(s){var l=a.rotate(),c=o(s),u=(a.rotate([0,0]),o(s));return a.rotate(l),c.sphere=function(){Xt(e,u)},c},a}var Dy=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Oy(){return gt(Eu,Dy).scale(160.857)}var Fy=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qy(){return gt(Pu,Fy).scale(152.63)}var zy=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function By(){return gt(je,zy).scale(169.529)}var Gy=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Uy(){return gt(je,Gy).scale(169.529).rotate([20,0])}var Hy=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Yy(){return gt(Mu,Hy).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Vy=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Xy(){return gt(Ne,Vy).scale(152.63).rotate([-20,0])}function Gs(n,r){return[3/Wr*n*H(G*G/3-r*r),r]}Gs.invert=function(n,r){return[Wr/3*n/H(G*G/3-r*r),r]};function Wy(){return nn(Gs).scale(158.837)}function Ug(n){function r(e,t){if(Y(Y(t)-W)<X)return[0,t<0?-2:2];var i=B(t),a=Cl((1+i)/(1-i),n/2),o=.5*(a+1/a)+q(e*=n);return[2*B(e)/o,(a-1/a)/o]}return r.invert=function(e,t){var i=Y(t);if(Y(i-2)<X)return e?null:[0,Sn(t)*W];if(i>2)return null;e/=2,t/=2;var a=e*e,o=t*t,s=2*t/(1+a+o);return s=Cl((1+s)/(1-s),1/n),[$n(2*e,1-a-o)/n,tn((s-1)/(s+1))]},r}function jy(){var n=.5,r=Or(Ug),e=r(n);return e.spacing=function(t){return arguments.length?r(n=+t):n},e.scale(124.75)}var ff=G/kn;function Us(n,r){return[n*(1+H(q(r)))/2,r/(q(r/2)*q(n/6))]}Us.invert=function(n,r){var e=Y(n),t=Y(r),i=X,a=W;t<ff?a*=t/ff:i+=6*ur(ff/t);for(var o=0;o<25;o++){var s=B(a),l=H(q(a)),c=B(a/2),u=q(a/2),v=B(i/6),f=q(i/6),h=.5*i*(1+l)-e,g=a/(u*f)-t,p=l?-.25*i*s/l:0,d=.5*(1+l),m=(1+.5*a*c/u)/(u*f),w=a/u*(v/6)/(f*f),E=p*w-m*d,S=(h*w-g*d)/E,_=(g*p-h*m)/E;if(a-=S,i-=_,Y(S)<X&&Y(_)<X)break}return[n<0?-i:i,r<0?-a:a]};function Jy(){return nn(Us).scale(97.2672)}function Hs(n,r){var e=n*n,t=r*r;return[n*(.975534+t*(-.119161+e*-.0143059+t*-.0547009)),r*(1.00384+e*(.0802894+t*-.02855+e*199025e-9)+t*(.0998909+t*-.0491032))]}Hs.invert=function(n,r){var e=Sn(n)*G,t=r/2,i=50;do{var a=e*e,o=t*t,s=e*t,l=e*(.975534+o*(-.119161+a*-.0143059+o*-.0547009))-n,c=t*(1.00384+a*(.0802894+o*-.02855+a*199025e-9)+o*(.0998909+o*-.0491032))-r,u=.975534-o*(.119161+3*a*.0143059+o*.0547009),v=-s*(2*.119161+4*.0547009*o+2*.0143059*a),f=s*(2*.0802894+4*199025e-9*a+2*-.02855*o),h=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-5*.0491032*o),g=v*f-h*u,p=(c*v-l*h)/g,d=(l*f-c*u)/g;e-=p,t-=d}while((Y(p)>X||Y(d)>X)&&--i>0);return i&&[e,t]};function Ky(){return nn(Hs).scale(139.98)}function Ys(n,r){return[B(n)/q(r),pn(r)*q(n)]}Ys.invert=function(n,r){var e=n*n,t=r*r,i=t+1,a=n?Br*H((i-H(e*e+2*e*(t-1)+i*i))/e+1):1/H(i);return[tn(n*a),Sn(r)*ur(a)]};function Zy(){return nn(Ys).scale(144.049).clipAngle(90-.001)}function Hg(n){var r=q(n),e=pn(_r+n/2);function t(i,a){var o=a-n,s=Y(o)<X?i*r:Y(s=_r+a/2)<X||Y(Y(s)-W)<X?0:i*o/tr(pn(s)/e);return[s,o]}return t.invert=function(i,a){var o,s=a+n;return[Y(a)<X?i/r:Y(o=_r+s/2)<X||Y(Y(o)-W)<X?0:i*tr(pn(o)/e)/a,s]},t}function Qy(){return jt(Hg).parallel(40).scale(158.837)}function Vs(n,r){return[n,1.25*tr(pn(_r+.4*r))]}Vs.invert=function(n,r){return[n,2.5*jn(de(.8*r))-.625*G]};function nw(){return nn(Vs).scale(108.318)}function Yg(n){var r=n.length-1;function e(t,i){for(var a=q(i),o=2/(1+a*q(t)),s=o*a*B(t),l=o*B(i),c=r,u=n[c],v=u[0],f=u[1],h;--c>=0;)u=n[c],v=u[0]+s*(h=v)-l*f,f=u[1]+s*f+l*h;return v=s*(h=v)-l*f,f=s*f+l*h,[v,f]}return e.invert=function(t,i){var a=20,o=t,s=i;do{for(var l=r,c=n[l],u=c[0],v=c[1],f=0,h=0,g;--l>=0;)c=n[l],f=u+o*(g=f)-s*h,h=v+o*h+s*g,u=c[0]+o*(g=u)-s*v,v=c[1]+o*v+s*g;f=u+o*(g=f)-s*h,h=v+o*h+s*g,u=o*(g=u)-s*v-t,v=o*v+s*g-i;var p=f*f+h*h,d,m;o-=d=(u*f+v*h)/p,s-=m=(v*f-u*h)/p}while(Y(d)+Y(m)>X*X&&--a>0);if(a){var w=H(o*o+s*s),E=2*jn(w*.5),S=B(E);return[$n(o*S,w*q(E)),w?tn(s*S/w):0]}},e}var rw=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ew=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],tw=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],iw=[[.9245,0],[0,0],[.01943,0]],aw=[[.721316,0],[0,0],[-.00881625,-.00617325]];function ow(){return Jt(rw,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function uw(){return Jt(ew,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function fw(){return Jt(tw,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function lw(){return Jt(iw,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function sw(){return Jt(aw,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Jt(n,r){var e=nn(Yg(n)).rotate(r).clipAngle(90),t=Oo(r),i=e.center;return delete e.rotate,e.center=function(a){return arguments.length?i(t(a)):t.invert(i())},e}var Vo=H(6),Xo=H(7);function Xs(n,r){var e=tn(7*B(r)/(3*Vo));return[Vo*n*(2*q(2*e/3)-1)/Xo,9*B(e/3)/Xo]}Xs.invert=function(n,r){var e=3*tn(r*Xo/9);return[n*Xo/(Vo*(2*q(2*e/3)-1)),tn(B(e)*3*Vo/7)]};function cw(){return nn(Xs).scale(164.859)}function Ws(n,r){for(var e=(1+Br)*B(r),t=r,i=0,a;i<25&&(t-=a=(B(t/2)+B(t)-e)/(.5*q(t/2)+q(t)),!(Y(a)<X));i++);return[n*(1+2*q(t)/q(t/2))/(3*kn),2*H(3)*B(t/2)/H(2+kn)]}Ws.invert=function(n,r){var e=r*H(2+kn)/(2*H(3)),t=2*tn(e);return[3*kn*n/(1+2*q(t)/q(t/2)),tn((e+B(t))/(1+Br))]};function vw(){return nn(Ws).scale(188.209)}function js(n,r){for(var e=H(6/(4+G)),t=(1+G/4)*B(r),i=r/2,a=0,o;a<25&&(i-=o=(i/2+B(i)-t)/(.5+q(i)),!(Y(o)<X));a++);return[e*(.5+q(i))*n/1.5,e*i]}js.invert=function(n,r){var e=H(6/(4+G)),t=r/e;return Y(Y(t)-W)<X&&(t=t<0?-W:W),[1.5*n/(e*(.5+q(t))),tn((t/2+B(t))/(1+G/4))]};function hw(){return nn(js).scale(166.518)}function Js(n,r){var e=r*r,t=e*e;return[n*(.8707-.131979*e+t*(-.013791+t*(.003971*e-.001529*t))),r*(1.007226+e*(.015085+t*(-.044475+.028874*e-.005916*t)))]}Js.invert=function(n,r){var e=r,t=25,i;do{var a=e*e,o=a*a;e-=i=(e*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-r)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(Y(i)>X&&--t>0);return[n/(.8707+(a=e*e)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),e]};function gw(){return nn(Js).scale(175.295)}function Ks(n,r){var e=r*r,t=e*e,i=e*t;return[n*(.84719-.13063*e+i*i*(-.04515+.05494*e-.02326*t+.00331*i)),r*(1.01183+t*t*(-.02625+.01926*e-.00396*t))]}Ks.invert=function(n,r){var e=r,t=25,i,a,o,s;do a=e*e,o=a*a,e-=i=(e*(1.01183+o*o*(-.02625+.01926*a-.00396*o))-r)/(1.01183+o*o*(9*-.02625+11*.01926*a+13*-.00396*o));while(Y(i)>Wt&&--t>0);return a=e*e,o=a*a,s=a*o,[n/(.84719-.13063*a+s*s*(-.04515+.05494*a-.02326*o+.00331*s)),e]};function pw(){return nn(Ks).scale(175.295)}function Zs(n,r){return[n*(1+q(r))/2,2*(r-pn(r/2))]}Zs.invert=function(n,r){for(var e=r/2,t=0,i=1/0;t<10&&Y(i)>X;++t){var a=q(r/2);r-=i=(r-pn(r/2)-e)/(1-.5/(a*a))}return[2*n/(1+q(r)),r]};function dw(){return nn(Zs).scale(152.63)}var Qs=1.0148,nc=.23185,rc=-.14499,ec=.02406,mw=Qs,yw=5*nc,ww=7*rc,Ew=9*ec,Ea=1.790857183;function tc(n,r){var e=r*r;return[n,r*(Qs+e*e*(nc+e*(rc+ec*e)))]}tc.invert=function(n,r){r>Ea?r=Ea:r<-Ea&&(r=-Ea);var e=r,t;do{var i=e*e;e-=t=(e*(Qs+i*i*(nc+i*(rc+ec*i)))-r)/(mw+i*i*(yw+i*(ww+Ew*i)))}while(Y(t)>X);return[n,e]};function Sw(){return nn(tc).scale(139.319)}function ic(n,r){if(Y(r)<X)return[n,0];var e=pn(r),t=n*B(r);return[B(t)/e,r+(1-q(t))/e]}ic.invert=function(n,r){if(Y(r)<X)return[n,0];var e=n*n+r*r,t=r*.5,i=10,a;do{var o=pn(t),s=1/q(t),l=e-2*r*t+t*t;t-=a=(o*l+2*(t-r))/(2+l*s*s+2*(t-r)*o)}while(Y(a)>X&&--i>0);return o=pn(t),[(Y(r)<Y(t+1/o)?tn(n*o):Sn(n)*(ur(Y(n*o))+W))/B(t),t]};function $w(){return nn(ic).scale(103.74)}function _w(n,r){var e=p1(n[1],n[0]),t=p1(r[1],r[0]),i=Mw(e,t),a=d1(e)/d1(t);return Va([1,0,n[0][0],0,1,n[0][1]],Va([a,0,0,0,a,0],Va([q(i),B(i),0,-B(i),q(i),0],[1,0,-r[0][0],0,1,-r[0][1]])))}function Tw(n){var r=1/(n[0]*n[4]-n[1]*n[3]);return[r*n[4],-r*n[1],r*(n[1]*n[5]-n[2]*n[4]),-r*n[3],r*n[0],r*(n[2]*n[3]-n[0]*n[5])]}function Va(n,r){return[n[0]*r[0]+n[1]*r[3],n[0]*r[1]+n[1]*r[4],n[0]*r[2]+n[1]*r[5]+n[2],n[3]*r[0]+n[4]*r[3],n[3]*r[1]+n[4]*r[4],n[3]*r[2]+n[4]*r[5]+n[5]]}function p1(n,r){return[n[0]-r[0],n[1]-r[1]]}function d1(n){return H(n[0]*n[0]+n[1]*n[1])}function Mw(n,r){return $n(n[0]*r[1]-n[1]*r[0],n[0]*r[0]+n[1]*r[1])}function xu(n,r,e){e=e==null?-G/6:e,t(n,{transform:[q(e),B(e),0,-B(e),q(e),0]});function t(c,u){if(c.edges=xw(c.face),u.face){var v=c.shared=Pw(c.face,u.face),f=_w(v.map(u.project),v.map(c.project));c.transform=u.transform?Va(u.transform,f):f;for(var h=u.edges,g=0,p=h.length;g<p;++g)Ae(v[0],h[g][1])&&Ae(v[1],h[g][0])&&(h[g]=c),Ae(v[0],h[g][0])&&Ae(v[1],h[g][1])&&(h[g]=c);for(h=c.edges,g=0,p=h.length;g<p;++g)Ae(v[0],h[g][0])&&Ae(v[1],h[g][1])&&(h[g]=u),Ae(v[0],h[g][1])&&Ae(v[1],h[g][0])&&(h[g]=u)}else c.transform=u.transform;return c.children&&c.children.forEach(function(d){t(d,c)}),c}function i(c,u){var v=r(c,u),f=v.project([c*Fn,u*Fn]),h;return(h=v.transform)?[h[0]*f[0]+h[1]*f[1]+h[2],-(h[3]*f[0]+h[4]*f[1]+h[5])]:(f[1]=-f[1],f)}Xg(n)&&(i.invert=function(c,u){var v=a(n,[c,-u]);return v&&(v[0]*=Mn,v[1]*=Mn,v)});function a(c,u){var v=c.project.invert,f=c.transform,h=u;if(f&&(f=Tw(f),h=[f[0]*h[0]+f[1]*h[1]+f[2],f[3]*h[0]+f[4]*h[1]+f[5]]),v&&c===o(g=v(h)))return g;for(var g,p=c.children,d=0,m=p&&p.length;d<m;++d)if(g=a(p[d],u))return g}function o(c){return r(c[0]*Mn,c[1]*Mn)}var s=nn(i),l=s.stream;return s.stream=function(c){var u=s.rotate(),v=l(c),f=(s.rotate([0,0]),l(c));return s.rotate(u),v.sphere=function(){f.polygonStart(),f.lineStart(),Vg(f,n),f.lineEnd(),f.polygonEnd()},v},s}function Vg(n,r,e){var t,i=r.edges,a=i.length,o,s={type:"MultiPoint",coordinates:r.face},l=r.face.filter(function(p){return Y(p[1])!==90}),c=i5({type:"MultiPoint",coordinates:l}),u=!1,v=-1,f=c[1][0]-c[0][0],h=f===180||f===360?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:Ki(s);if(e)for(;++v<a&&i[v]!==e;);++v;for(var g=0;g<a;++g)o=i[(g+v)%a],Array.isArray(o)?(u||(n.point((t=Pl(o[0],h)(X))[0],t[1]),u=!0),n.point((t=Pl(o[1],h)(X))[0],t[1])):(u=!1,o!==e&&Vg(n,o,r))}function Ae(n,r){return n&&r&&n[0]===r[0]&&n[1]===r[1]}function Pw(n,r){for(var e,t,i=n.length,a=null,o=0;o<i;++o){e=n[o];for(var s=r.length;--s>=0;)if(t=r[s],e[0]===t[0]&&e[1]===t[1]){if(a)return[a,e];a=e}}}function xw(n){for(var r=n.length,e=[],t=n[r-1],i=0;i<r;++i)e.push([t,t=n[i]]);return e}function Xg(n){return n.project.invert||n.children&&n.children.some(Xg)}var Rw=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Wo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(n){return n.map(function(r){return Rw[r]})});function Cw(n){n=n||function(e){var t=Ki({type:"MultiPoint",coordinates:e});return mg().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var r=Wo.map(function(e){return{face:e,project:n(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=r[e];i&&(i.children||(i.children=[])).push(r[t])}),xu(r[0],function(e,t){return r[e<-G/2?t<0?6:4:e<0?t<0?2:0:e<G/2?t<0?3:1:t<0?7:5]}).scale(101.858).center([0,45])}var Wg=2/H(3);function jg(n,r){var e=ve(n,r);return[e[0]*Wg,e[1]]}jg.invert=function(n,r){return ve.invert(n/Wg,r)};function kw(n){n=n||function(e){var t=Ki({type:"MultiPoint",coordinates:e});return nn(jg).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var r=Wo.map(function(e){return{face:e,project:n(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=r[e];i&&(i.children||(i.children=[])).push(r[t])}),xu(r[0],function(e,t){return r[e<-G/2?t<0?6:4:e<0?t<0?2:0:e<G/2?t<0?3:1:t<0?7:5]}).scale(121.906).center([0,48.5904])}function bw(n){n=n||function(o){var s=o.length===6?Ki({type:"MultiPoint",coordinates:o}):o[0];return mg().scale(1).translate([0,0]).rotate([-s[0],-s[1]])};var r=Wo.map(function(o){for(var s=o.map(sf),l=s.length,c=s[l-1],u,v=[],f=0;f<l;++f)u=s[f],v.push(m1([c[0]*.9486832980505138+u[0]*.31622776601683794,c[1]*.9486832980505138+u[1]*.31622776601683794,c[2]*.9486832980505138+u[2]*.31622776601683794]),m1([u[0]*.9486832980505138+c[0]*.31622776601683794,u[1]*.9486832980505138+c[1]*.31622776601683794,u[2]*.9486832980505138+c[2]*.31622776601683794])),c=u;return v}),e=[],t=[-1,0,0,1,0,1,4,5];r.forEach(function(o,s){for(var l=Wo[s],c=l.length,u=e[s]=[],v=0;v<c;++v)r.push([l[v],o[(v*2+2)%(2*c)],o[(v*2+1)%(2*c)]]),t.push(s),u.push(Lw(sf(o[(v*2+2)%(2*c)]),sf(o[(v*2+1)%(2*c)])))});var i=r.map(function(o){return{project:n(o),face:o}});t.forEach(function(o,s){var l=i[o];l&&(l.children||(l.children=[])).push(i[s])});function a(o,s){var l=q(s),c=[l*q(o),l*B(o),B(s)],u=o<-G/2?s<0?6:4:o<0?s<0?2:0:o<G/2?s<0?3:1:s<0?7:5,v=e[u];return i[lf(v[0],c)<0?8+3*u:lf(v[1],c)<0?8+3*u+1:lf(v[2],c)<0?8+3*u+2:u]}return xu(i[0],a).scale(110.625).center([0,45])}function lf(n,r){for(var e=0,t=n.length,i=0;e<t;++e)i+=n[e]*r[e];return i}function Lw(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function m1(n){return[$n(n[1],n[0])*Fn,tn(qi(-1,Zr(1,n[2])))*Fn]}function sf(n){var r=n[0]*Mn,e=n[1]*Mn,t=q(e);return[t*q(r),t*B(r),B(e)]}function Xa(){}function Nw(n){if((e=n.length)<4)return!1;for(var r=0,e,t=n[e-1][1]*n[0][0]-n[e-1][0]*n[0][1];++r<e;)t+=n[r-1][1]*n[r][0]-n[r-1][0]*n[r][1];return t<=0}function Aw(n,r){for(var e=r[0],t=r[1],i=!1,a=0,o=n.length,s=o-1;a<o;s=a++){var l=n[a],c=l[0],u=l[1],v=n[s],f=v[0],h=v[1];u>t^h>t&&e<(f-c)*(t-u)/(h-u)+c&&(i=!i)}return i}function Iw(n,r){var e=r.stream,t;if(!e)throw new Error("invalid projection");switch(n&&n.type){case"Feature":t=Jg;break;case"FeatureCollection":t=Dw;break;default:t=ac;break}return t(n,e)}function Dw(n,r){return{type:"FeatureCollection",features:n.features.map(function(e){return Jg(e,r)})}}function Jg(n,r){return{type:"Feature",id:n.id,properties:n.properties,geometry:ac(n.geometry,r)}}function Ow(n,r){return{type:"GeometryCollection",geometries:n.geometries.map(function(e){return ac(e,r)})}}function ac(n,r){if(!n)return null;if(n.type==="GeometryCollection")return Ow(n,r);var e;switch(n.type){case"Point":e=y1;break;case"MultiPoint":e=y1;break;case"LineString":e=w1;break;case"MultiLineString":e=w1;break;case"Polygon":e=cf;break;case"MultiPolygon":e=cf;break;case"Sphere":e=cf;break;default:return null}return Xt(n,r(e)),e.result()}var sr=[],le=[],y1={point:function(n,r){sr.push([n,r])},result:function(){var n=sr.length?sr.length<2?{type:"Point",coordinates:sr[0]}:{type:"MultiPoint",coordinates:sr}:null;return sr=[],n}},w1={lineStart:Xa,point:function(n,r){sr.push([n,r])},lineEnd:function(){sr.length&&(le.push(sr),sr=[])},result:function(){var n=le.length?le.length<2?{type:"LineString",coordinates:le[0]}:{type:"MultiLineString",coordinates:le}:null;return le=[],n}},cf={polygonStart:Xa,lineStart:Xa,point:function(n,r){sr.push([n,r])},lineEnd:function(){var n=sr.length;if(n){do sr.push(sr[0].slice());while(++n<4);le.push(sr),sr=[]}},polygonEnd:Xa,result:function(){if(!le.length)return null;var n=[],r=[];return le.forEach(function(e){Nw(e)?n.push([e]):r.push(e)}),r.forEach(function(e){var t=e[0];n.some(function(i){if(Aw(i[0],t))return i.push(e),!0})||n.push([e])}),le=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function oc(n){var r=n(W,0)[0]-n(-W,0)[0];function e(t,i){var a=Y(t)<W,o=n(a?t:t>0?t-G:t+G,i),s=(o[0]-o[1])*Br,l=(o[0]+o[1])*Br;if(a)return[s,l];var c=r*Br,u=s>0^l>0?-1:1;return[u*s-Sn(l)*c,u*l-Sn(s)*c]}return n.invert&&(e.invert=function(t,i){var a=(t+i)*Br,o=(i-t)*Br,s=Y(a)<.5*r&&Y(o)<.5*r;if(!s){var l=r*Br,c=a>0^o>0?-1:1,u=-c*t+(o>0?1:-1)*l,v=-c*i+(a>0?1:-1)*l;a=(-u-v)*Br,o=(u-v)*Br}var f=n.invert(a,o);return s||(f[0]+=a>0?G:-G),f}),nn(e).rotate([-90,-90,45]).clipAngle(180-.001)}function Fw(){return oc($u).scale(176.423)}function E1(){return oc(_u).scale(111.48)}function qw(n,r){if(!(0<=(r=+r)&&r<=20))throw new Error("invalid digits");function e(l){var c=l.length,u=2,v=new Array(c);for(v[0]=+l[0].toFixed(r),v[1]=+l[1].toFixed(r);u<c;)v[u]=l[u],++u;return v}function t(l){return l.map(e)}function i(l){return l.map(t)}function a(l){if(l==null)return l;var c;switch(l.type){case"GeometryCollection":c={type:"GeometryCollection",geometries:l.geometries.map(a)};break;case"Point":c={type:"Point",coordinates:e(l.coordinates)};break;case"MultiPoint":case"LineString":c={type:l.type,coordinates:t(l.coordinates)};break;case"MultiLineString":case"Polygon":c={type:l.type,coordinates:i(l.coordinates)};break;case"MultiPolygon":c={type:"MultiPolygon",coordinates:l.coordinates.map(i)};break;default:return l}return l.bbox!=null&&(c.bbox=l.bbox),c}function o(l){var c={type:"Feature",properties:l.properties,geometry:a(l.geometry)};return l.id!=null&&(c.id=l.id),l.bbox!=null&&(c.bbox=l.bbox),c}if(n!=null)switch(n.type){case"Feature":return o(n);case"FeatureCollection":{var s={type:"FeatureCollection",features:n.features.map(o)};return n.bbox!=null&&(s.bbox=n.bbox),s}default:return a(n)}return n}function Kg(n){var r=B(n);function e(t,i){var a=r?pn(t*r/2)/r:t/2;if(!i)return[2*a,-n];var o=2*jn(a*B(i)),s=1/pn(i);return[B(o)*s,i+(1-q(o))*s-n]}return e.invert=function(t,i){if(Y(i+=n)<X)return[r?2*jn(r*t/2)/r:t,0];var a=t*t+i*i,o=0,s=10,l;do{var c=pn(o),u=1/q(o),v=a-2*i*o+o*o;o-=l=(c*v+2*(o-i))/(2+v*u*u+2*(o-i)*c)}while(Y(l)>X&&--s>0);var f=t*(c=pn(o)),h=pn(Y(i)<Y(o+1/c)?tn(f)*.5:ur(f)*.5+G/4)/B(o);return[r?2*jn(r*h)/r:2*h,o]},e}function zw(){return jt(Kg).scale(131.215)}var Rr=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Rr.forEach(function(n){n[1]*=1.0144});function uc(n,r){var e=Zr(18,Y(r)*36/G),t=Ft(e),i=e-t,a=(v=Rr[t])[0],o=v[1],s=(v=Rr[++t])[0],l=v[1],c=(v=Rr[Zr(19,++t)])[0],u=v[1],v;return[n*(s+i*(c-a)/2+i*i*(c-2*s+a)/2),(r>0?W:-W)*(l+i*(u-o)/2+i*i*(u-2*l+o)/2)]}uc.invert=function(n,r){var e=r/W,t=e*90,i=Zr(18,Y(t/5)),a=qi(0,Ft(i));do{var o=Rr[a][1],s=Rr[a+1][1],l=Rr[Zr(19,a+2)][1],c=l-o,u=l-2*s+o,v=2*(Y(e)-s)/c,f=u/c,h=v*(1-f*v*(1-2*f*v));if(h>=0||a===1){t=(r>=0?5:-5)*(h+i);var g=50,p;do i=Zr(18,Y(t)/5),a=Ft(i),h=i-a,o=Rr[a][1],s=Rr[a+1][1],l=Rr[Zr(19,a+2)][1],t-=(p=(r>=0?W:-W)*(s+h*(l-o)/2+h*h*(l-2*s+o)/2)-r)*Fn;while(Y(p)>Wt&&--g>0);break}}while(--a>=0);var d=Rr[a][0],m=Rr[a+1][0],w=Rr[Zr(19,a+2)][0];return[n/(m+h*(w-d)/2+h*h*(w-2*m+d)/2),t*Mn]};function Bw(){return nn(uc).scale(152.63)}function Gw(n){function r(e,t){var i=q(t),a=(n-1)/(n-i*q(e));return[a*i*B(e),a*B(t)]}return r.invert=function(e,t){var i=e*e+t*t,a=H(i),o=(n-H(1-i*(n+1)/(n-1)))/((n-1)/a+a/(n-1));return[$n(e*o,a*H(1-o*o)),a?tn(t*o/a):0]},r}function Zg(n,r){var e=Gw(n);if(!r)return e;var t=q(r),i=B(r);function a(o,s){var l=e(o,s),c=l[1],u=c*i/(n-1)+t;return[l[0]*t/u,c/u]}return a.invert=function(o,s){var l=(n-1)/(n-1-s*i);return e.invert(l*o,l*s*t)},a}function Uw(){var n=2,r=0,e=Or(Zg),t=e(n,r);return t.distance=function(i){return arguments.length?e(n=+i,r):n},t.tilt=function(i){return arguments.length?e(n,r=i*Mn):r*Fn},t.scale(432.147).clipAngle(ur(1/n)*Fn-1e-6)}var Ru=1e-4,S1=1e4,fc=-180,bl=fc+Ru,Qg=180,Ll=Qg-Ru,lc=-90,Nl=lc+Ru,sc=90,Al=sc-Ru;function Hw(n){return n.length>0}function Yw(n){return Math.floor(n*S1)/S1}function $1(n){return n===lc||n===sc?[0,n]:[fc,Yw(n)]}function cc(n){var r=n[0],e=n[1],t=!1;return r<=bl?(r=fc,t=!0):r>=Ll&&(r=Qg,t=!0),e<=Nl?(e=lc,t=!0):e>=Al&&(e=sc,t=!0),t?[r,e]:n}function _1(n){return n.map(cc)}function T1(n,r,e){for(var t=0,i=n.length;t<i;++t){var a=n[t].slice();e.push({index:-1,polygon:r,ring:a});for(var o=0,s=a.length;o<s;++o){var l=a[o],c=l[0],u=l[1];if(c<=bl||c>=Ll||u<=Nl||u>=Al){a[o]=cc(l);for(var v=o+1;v<s;++v){var f=a[v],h=f[0],g=f[1];if(h>bl&&h<Ll&&g>Nl&&g<Al)break}if(v===o+1)continue;if(o){var p={index:-1,polygon:r,ring:a.slice(0,o+1)};p.ring[p.ring.length-1]=$1(u),e[e.length-1]=p}else e.pop();if(v>=s)break;e.push({index:-1,polygon:r,ring:a=a.slice(v-1)}),a[0]=$1(a[0][1]),o=-1,s=a.length}}}}function M1(n){var r,e=n.length,t={},i={},a,o,s,l,c;for(r=0;r<e;++r){if(a=n[r],o=a.ring[0],l=a.ring[a.ring.length-1],o[0]===l[0]&&o[1]===l[1]){a.polygon.push(a.ring),n[r]=null;continue}a.index=r,t[o]=i[l]=a}for(r=0;r<e;++r)if(a=n[r],a){if(o=a.ring[0],l=a.ring[a.ring.length-1],s=i[o],c=t[l],delete t[o],delete i[l],o[0]===l[0]&&o[1]===l[1]){a.polygon.push(a.ring);continue}s?(delete i[o],delete t[s.ring[0]],s.ring.pop(),n[s.index]=null,a={index:-1,polygon:s.polygon,ring:s.ring.concat(a.ring)},s===c?a.polygon.push(a.ring):(a.index=e++,n.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a))):c?(delete t[l],delete i[c.ring[c.ring.length-1]],a.ring.pop(),a={index:e++,polygon:c.polygon,ring:a.ring.concat(c.ring)},n[c.index]=null,n.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a)):(a.ring.push(a.ring[0]),a.polygon.push(a.ring))}}function P1(n){var r={type:"Feature",geometry:vc(n.geometry)};return n.id!=null&&(r.id=n.id),n.bbox!=null&&(r.bbox=n.bbox),n.properties!=null&&(r.properties=n.properties),r}function vc(n){if(n==null)return n;var r,e,t,i;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(vc)};break;case"Point":r={type:"Point",coordinates:cc(n.coordinates)};break;case"MultiPoint":case"LineString":r={type:n.type,coordinates:_1(n.coordinates)};break;case"MultiLineString":r={type:"MultiLineString",coordinates:n.coordinates.map(_1)};break;case"Polygon":{var a=[];T1(n.coordinates,a,e=[]),M1(e),r={type:"Polygon",coordinates:a};break}case"MultiPolygon":{e=[],t=-1,i=n.coordinates.length;for(var o=new Array(i);++t<i;)T1(n.coordinates[t],o[t]=[],e);M1(e),r={type:"MultiPolygon",coordinates:o.filter(Hw)};break}default:return n}return n.bbox!=null&&(r.bbox=n.bbox),r}function Vw(n){if(n==null)return n;switch(n.type){case"Feature":return P1(n);case"FeatureCollection":{var r={type:"FeatureCollection",features:n.features.map(P1)};return n.bbox!=null&&(r.bbox=n.bbox),r}default:return vc(n)}}function hc(n,r){var e=pn(r/2),t=B(_r*e);return[n*(.74482-.34588*t*t),1.70711*e]}hc.invert=function(n,r){var e=r/1.70711,t=B(_r*e);return[n/(.74482-.34588*t*t),2*jn(e)]};function Xw(){return nn(hc).scale(146.153)}function np(n,r,e){var t=Pl(r,e),i=t(.5),a=Oo([-i[0],-i[1]])(r),o=t.distance/2,s=-tn(B(a[1]*Mn)/B(o)),l=[-i[0],-i[1],-(a[0]>0?G-s:s)*Fn],c=nn(n(o)).rotate(l),u=Oo(l),v=c.center;return delete c.rotate,c.center=function(f){return arguments.length?v(u(f)):u.invert(v())},c.clipAngle(90)}function rp(n){var r=q(n);function e(t,i){var a=zo(t,i);return a[0]*=r,a}return e.invert=function(t,i){return zo.invert(t/r,i)},e}function Ww(){return ep([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function ep(n,r){return np(rp,n,r)}function tp(n){if(!(n*=2))return Ot;var r=-n/2,e=-r,t=n*n,i=pn(e),a=.5/B(e);function o(s,l){var c=ur(q(l)*q(s-r)),u=ur(q(l)*q(s-e)),v=l<0?-1:1;return c*=c,u*=u,[(c-u)/(2*n),v*H(4*t*u-(t-c+u)*(t-c+u))/(2*n)]}return o.invert=function(s,l){var c=l*l,u=q(H(c+(f=s+r)*f)),v=q(H(c+(f=s+e)*f)),f,h;return[$n(h=u-v,f=(u+v)*i),(l<0?-1:1)*ur(H(f*f+h*h)*a)]},o}function jw(){return ip([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ip(n,r){return np(tp,n,r)}function gc(n,r){if(Y(r)<X)return[n,0];var e=Y(r/W),t=tn(e);if(Y(n)<X||Y(Y(r)-W)<X)return[0,Sn(r)*G*pn(t/2)];var i=q(t),a=Y(G/n-n/G)/2,o=a*a,s=i/(e+i-1),l=s*(2/e-1),c=l*l,u=c+o,v=s-c,f=o+s;return[Sn(n)*G*(a*v+H(o*v*v-u*(s*s-c)))/u,Sn(r)*G*(l*f-a*H((o+1)*u-f*f))/u]}gc.invert=function(n,r){if(Y(r)<X)return[n,0];if(Y(n)<X)return[0,W*B(2*jn(r/G))];var e=(n/=G)*n,t=(r/=G)*r,i=e+t,a=i*i,o=-Y(r)*(1+i),s=o-2*t+e,l=-2*o+1+2*t+a,c=t/l+(2*s*s*s/(l*l*l)-9*o*s/(l*l))/27,u=(o-s*s/(3*l))/l,v=2*H(-u/3),f=ur(3*c/(u*v))/3;return[G*(i-1+H(1+2*(e-t)+a))/(2*n),Sn(r)*G*(-v*q(f+G/3)-s/(3*l))]};function Jw(){return nn(gc).scale(79.4183)}function pc(n,r){if(Y(r)<X)return[n,0];var e=Y(r/W),t=tn(e);if(Y(n)<X||Y(Y(r)-W)<X)return[0,Sn(r)*G*pn(t/2)];var i=q(t),a=Y(G/n-n/G)/2,o=a*a,s=i*(H(1+o)-a*i)/(1+o*e*e);return[Sn(n)*G*s,Sn(r)*G*H(1-s*(2*a+s))]}pc.invert=function(n,r){if(!n)return[0,W*B(2*jn(r/G))];var e=Y(n/G),t=(1-e*e-(r/=G)*r)/(2*e),i=t*t,a=H(i+1);return[Sn(n)*G*(a-t),Sn(r)*W*B(2*$n(H((1-2*t*e)*(t+a)-e),H(a+t+e)))]};function Kw(){return nn(pc).scale(79.4183)}function dc(n,r){if(Y(r)<X)return[n,0];var e=r/W,t=tn(e);if(Y(n)<X||Y(Y(r)-W)<X)return[0,G*pn(t/2)];var i=(G/n-n/G)/2,a=e/(1+q(t));return[G*(Sn(n)*H(i*i+1-a*a)-i),G*a]}dc.invert=function(n,r){if(!r)return[n,0];var e=r/G,t=(G*G*(1-e*e)-n*n)/(2*G*n);return[n?G*(Sn(n)*H(t*t+1)-t):0,W*B(2*jn(e))]};function Zw(){return nn(dc).scale(79.4183)}function mc(n,r){if(!r)return[n,0];var e=Y(r);if(!n||e===W)return[0,r];var t=e/W,i=t*t,a=(8*t-i*(i+2)-5)/(2*i*(t-1)),o=a*a,s=t*a,l=i+o+2*s,c=t+3*a,u=n/W,v=u+1/u,f=Sn(Y(n)-W)*H(v*v-4),h=f*f,g=l*(i+o*h-1)+(1-i)*(i*(c*c+4*o)+12*s*o+4*o*o),p=(f*(l+o-1)+2*H(g))/(4*l+h);return[Sn(n)*W*p,Sn(r)*W*H(1+f*Y(p)-p*p)]}mc.invert=function(n,r){var e;if(!n||!r)return[n,r];r/=G;var t=Sn(n)*n/W,i=(t*t-1+4*r*r)/Y(t),a=i*i,o=2*r,s=50;do{var l=o*o,c=(8*o-l*(l+2)-5)/(2*l*(o-1)),u=(3*o-l*o-10)/(2*l*o),v=c*c,f=o*c,h=o+c,g=h*h,p=o+3*c,d=g*(l+v*a-1)+(1-l)*(l*(p*p+4*v)+v*(12*f+4*v)),m=-2*h*(4*f*v+(1-4*l+3*l*l)*(1+u)+v*(-6+14*l-a+(-8+8*l-2*a)*u)+f*(-8+12*l+(-10+10*l-a)*u)),w=H(d),E=i*(g+v-1)+2*w-t*(4*g+a),S=i*(2*c*u+2*h*(1+u))+m/w-8*h*(i*(-1+v+g)+2*w)*(1+u)/(a+4*g);o-=e=E/S}while(e>X&&--s>0);return[Sn(n)*(H(i*i+4)+i)*G/4,W*o]};function Qw(){return nn(mc).scale(127.16)}var ap=4*G+3*H(3),x1=2*H(2*G*H(3)/ap),op=Cs(x1*H(3)/G,x1,ap/6);function n3(){return nn(op).scale(176.84)}function yc(n,r){return[n*H(1-3*r*r/(G*G)),r]}yc.invert=function(n,r){return[n/H(1-3*r*r/(G*G)),r]};function r3(){return nn(yc).scale(152.63)}function wc(n,r){var e=.90631*B(r),t=H(1-e*e),i=H(2/(1+t*q(n/=3)));return[2.66723*t*i*B(n),1.24104*e*i]}wc.invert=function(n,r){var e=n/2.66723,t=r/1.24104,i=H(e*e+t*t),a=2*tn(i/2);return[3*$n(n*pn(a),2.66723*i),i&&tn(r*B(a)/(1.24104*.90631*i))]};function e3(){return nn(wc).scale(172.632)}function Ec(n,r){var e=q(r),t=q(n)*e,i=1-t,a=q(n=$n(B(n)*e,-B(r))),o=B(n);return e=H(1-t*t),[o*e-a*i,-a*e-o*i]}Ec.invert=function(n,r){var e=(n*n+r*r)/-2,t=H(-e*(2+e)),i=r*e+n*t,a=n*e-r*t,o=H(a*a+i*i);return[$n(t*i,o*(1+e)),o?-tn(t*a/o):0]};function t3(){return nn(Ec).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)}function Sc(n,r){var e=yu(n,r);return[(e[0]+n/W)/2,(e[1]+r)/2]}Sc.invert=function(n,r){var e=n,t=r,i=25;do{var a=q(t),o=B(t),s=B(2*t),l=o*o,c=a*a,u=B(e),v=q(e/2),f=B(e/2),h=f*f,g=1-c*v*v,p=g?ur(a*v)*H(d=1/g):d=0,d,m=.5*(2*p*a*f+e/W)-n,w=.5*(p*o+t)-r,E=.5*d*(c*h+p*a*v*l)+.5/W,S=d*(u*s/4-p*o*f),_=.125*d*(s*f-p*o*c*u),M=.5*d*(l*v+p*h*a)+.5,N=S*_-M*E,k=(w*S-m*M)/N,L=(m*_-w*E)/N;e-=k,t-=L}while((Y(k)>X||Y(L)>X)&&--i>0);return[e,t]};function i3(){return nn(Sc).scale(158.837)}var a3=Object.freeze(Object.defineProperty({__proto__:null,geoAiry:O5,geoAiryRaw:Eg,geoAitoff:F5,geoAitoffRaw:yu,geoArmadillo:q5,geoArmadilloRaw:Sg,geoAugust:z5,geoAugustRaw:wu,geoBaker:G5,geoBakerRaw:Rs,geoBerghaus:U5,geoBerghausRaw:$g,geoBoggs:Y5,geoBoggsRaw:Eu,geoBonne:X5,geoBonneRaw:Mg,geoBottomley:W5,geoBottomleyRaw:Pg,geoBromley:j5,geoBromleyRaw:xg,geoChamberlin:Cg,geoChamberlinRaw:Rg,geoChamberlinAfrica:K5,geoCollignon:Z5,geoCollignonRaw:ve,geoCraig:Q5,geoCraigRaw:kg,geoCraster:ny,geoCrasterRaw:ks,geoCylindricalEqualArea:ry,geoCylindricalEqualAreaRaw:bs,geoCylindricalStereographic:ey,geoCylindricalStereographicRaw:bg,geoEckert1:ty,geoEckert1Raw:Ls,geoEckert2:iy,geoEckert2Raw:Ns,geoEckert3:ay,geoEckert3Raw:As,geoEckert4:oy,geoEckert4Raw:Is,geoEckert5:uy,geoEckert5Raw:Ds,geoEckert6:fy,geoEckert6Raw:Os,geoEisenlohr:ly,geoEisenlohrRaw:Fs,geoFahey:sy,geoFaheyRaw:qs,geoFoucaut:cy,geoFoucautRaw:zs,geoGilbert:vy,geoGingery:hy,geoGingeryRaw:Lg,geoGinzburg4:gy,geoGinzburg4Raw:Ng,geoGinzburg5:py,geoGinzburg5Raw:Ag,geoGinzburg6:dy,geoGinzburg6Raw:Ig,geoGinzburg8:my,geoGinzburg8Raw:Bs,geoGinzburg9:yy,geoGinzburg9Raw:Dg,geoGringorten:Sy,geoGringortenRaw:$u,geoGuyou:Py,geoGuyouRaw:_u,geoHammer:xy,geoHammerRaw:Fg,geoHammerRetroazimuthal:Ry,geoHammerRetroazimuthalRaw:zg,geoHealpix:ky,geoHealpixRaw:Bg,geoHill:by,geoHillRaw:Gg,geoHomolosine:Ny,geoHomolosineRaw:Pu,geoInterrupt:gt,geoInterruptedBoggs:Oy,geoInterruptedHomolosine:qy,geoInterruptedMollweide:By,geoInterruptedMollweideHemispheres:Uy,geoInterruptedSinuMollweide:Yy,geoInterruptedSinusoidal:Xy,geoKavrayskiy7:Wy,geoKavrayskiy7Raw:Gs,geoLagrange:jy,geoLagrangeRaw:Ug,geoLarrivee:Jy,geoLarriveeRaw:Us,geoLaskowski:Ky,geoLaskowskiRaw:Hs,geoLittrow:Zy,geoLittrowRaw:Ys,geoLoximuthal:Qy,geoLoximuthalRaw:Hg,geoMiller:nw,geoMillerRaw:Vs,geoModifiedStereographic:Jt,geoModifiedStereographicRaw:Yg,geoModifiedStereographicAlaska:ow,geoModifiedStereographicGs48:uw,geoModifiedStereographicGs50:fw,geoModifiedStereographicMiller:lw,geoModifiedStereographicLee:sw,geoMollweide:H5,geoMollweideRaw:je,geoMtFlatPolarParabolic:cw,geoMtFlatPolarParabolicRaw:Xs,geoMtFlatPolarQuartic:vw,geoMtFlatPolarQuarticRaw:Ws,geoMtFlatPolarSinusoidal:hw,geoMtFlatPolarSinusoidalRaw:js,geoNaturalEarth:gw,geoNaturalEarthRaw:Js,geoNaturalEarth2:pw,geoNaturalEarth2Raw:Ks,geoNellHammer:dw,geoNellHammerRaw:Zs,geoPatterson:Sw,geoPattersonRaw:tc,geoPolyconic:$w,geoPolyconicRaw:ic,geoPolyhedral:xu,geoPolyhedralButterfly:Cw,geoPolyhedralCollignon:kw,geoPolyhedralWaterman:bw,geoProject:Iw,geoGringortenQuincuncial:Fw,geoPeirceQuincuncial:E1,geoPierceQuincuncial:E1,geoQuantize:qw,geoQuincuncial:oc,geoRectangularPolyconic:zw,geoRectangularPolyconicRaw:Kg,geoRobinson:Bw,geoRobinsonRaw:uc,geoSatellite:Uw,geoSatelliteRaw:Zg,geoSinuMollweide:Ly,geoSinuMollweideRaw:Mu,geoSinusoidal:V5,geoSinusoidalRaw:Ne,geoStitch:Vw,geoTimes:Xw,geoTimesRaw:hc,geoTwoPointAzimuthal:ep,geoTwoPointAzimuthalRaw:rp,geoTwoPointAzimuthalUsa:Ww,geoTwoPointEquidistant:ip,geoTwoPointEquidistantRaw:tp,geoTwoPointEquidistantUsa:jw,geoVanDerGrinten:Jw,geoVanDerGrintenRaw:gc,geoVanDerGrinten2:Kw,geoVanDerGrinten2Raw:pc,geoVanDerGrinten3:Zw,geoVanDerGrinten3Raw:dc,geoVanDerGrinten4:Qw,geoVanDerGrinten4Raw:mc,geoWagner4:n3,geoWagner4Raw:op,geoWagner6:r3,geoWagner6Raw:yc,geoWagner7:e3,geoWagner7Raw:wc,geoWiechel:t3,geoWiechelRaw:Ec,geoWinkel3:i3,geoWinkel3Raw:Sc},Symbol.toStringTag,{value:"Module"})),up=Le(a3),Je={},$c={exports:{}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(n){(function(r){function e(){}var t=e.prototype,i=r.EventEmitter;function a(l,c){for(var u=l.length;u--;)if(l[u].listener===c)return u;return-1}function o(l){return function(){return this[l].apply(this,arguments)}}t.getListeners=function(c){var u=this._getEvents(),v,f;if(c instanceof RegExp){v={};for(f in u)u.hasOwnProperty(f)&&c.test(f)&&(v[f]=u[f])}else v=u[c]||(u[c]=[]);return v},t.flattenListeners=function(c){var u=[],v;for(v=0;v<c.length;v+=1)u.push(c[v].listener);return u},t.getListenersAsObject=function(c){var u=this.getListeners(c),v;return u instanceof Array&&(v={},v[c]=u),v||u};function s(l){return typeof l=="function"||l instanceof RegExp?!0:l&&typeof l=="object"?s(l.listener):!1}t.addListener=function(c,u){if(!s(u))throw new TypeError("listener must be a function");var v=this.getListenersAsObject(c),f=typeof u=="object",h;for(h in v)v.hasOwnProperty(h)&&a(v[h],u)===-1&&v[h].push(f?u:{listener:u,once:!1});return this},t.on=o("addListener"),t.addOnceListener=function(c,u){return this.addListener(c,{listener:u,once:!0})},t.once=o("addOnceListener"),t.defineEvent=function(c){return this.getListeners(c),this},t.defineEvents=function(c){for(var u=0;u<c.length;u+=1)this.defineEvent(c[u]);return this},t.removeListener=function(c,u){var v=this.getListenersAsObject(c),f,h;for(h in v)v.hasOwnProperty(h)&&(f=a(v[h],u),f!==-1&&v[h].splice(f,1));return this},t.off=o("removeListener"),t.addListeners=function(c,u){return this.manipulateListeners(!1,c,u)},t.removeListeners=function(c,u){return this.manipulateListeners(!0,c,u)},t.manipulateListeners=function(c,u,v){var f,h,g=c?this.removeListener:this.addListener,p=c?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(f in u)u.hasOwnProperty(f)&&(h=u[f])&&(typeof h=="function"?g.call(this,f,h):p.call(this,f,h));else for(f=v.length;f--;)g.call(this,u,v[f]);return this},t.removeEvent=function(c){var u=typeof c,v=this._getEvents(),f;if(u==="string")delete v[c];else if(c instanceof RegExp)for(f in v)v.hasOwnProperty(f)&&c.test(f)&&delete v[f];else delete this._events;return this},t.removeAllListeners=o("removeEvent"),t.emitEvent=function(c,u){var v=this.getListenersAsObject(c),f,h,g,p,d;for(p in v)if(v.hasOwnProperty(p))for(f=v[p].slice(0),g=0;g<f.length;g++)h=f[g],h.once===!0&&this.removeListener(c,h.listener),d=h.listener.apply(this,u||[]),d===this._getOnceReturnValue()&&this.removeListener(c,h.listener);return this},t.trigger=o("emitEvent"),t.emit=function(c){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,u)},t.setOnceReturnValue=function(c){return this._onceReturnValue=c,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=i,e},n.exports?n.exports=e:r.EventEmitter=e})(typeof window!="undefined"?window:hu||{})})($c);Object.defineProperty(Je,"__esModule",{value:!0});Je.View=void 0;var fp=En,o3=fp.__importDefault($c.exports),or=ln;function u3(n){var r={};return or.forIn(n,function(e,t){or.isObject(e)&&e.isView?r[t]=e:or.isArray(e)?r[t]=e.concat([]):or.isPlainObject(e)?r[t]=or.clone(e):r[t]=e}),r}var f3=function(n){fp.__extends(r,n);function r(e,t){var i=n.call(this)||this;if(i.isView=!0,i.isDataView=!0,i.watchingStates=null,i.dataType="table",i.transforms=[],i.origin=[],i.rows=[],e&&e.isDataSet?i.dataSet=e:(i.dataSet=null,t=e),i.loose=!i.dataSet,t&&(i.watchingStates=t.watchingStates),!i.loose){var a=i.watchingStates;e.on("statechange",function(o){or.isArray(a)?a.indexOf(o)>-1&&i._reExecute():i._reExecute()})}return i}return r.prototype._parseStateExpression=function(e){var t=this.dataSet;if(t!==null){var i=/^\$state\.(\w+)/.exec(e);return i?t.state[i[1]]:e}},r.prototype._preparseOptions=function(e){var t=this,i=u3(e);return this.loose||or.forIn(i,function(a,o){or.isString(a)&&/^\$state\./.test(a)&&(i[o]=t._parseStateExpression(a))}),i},r.prototype._prepareSource=function(e,t){if(this._source={source:e,options:t},t){var i=this._preparseOptions(t);this.origin=r.DataSet.getConnector(i.type)(e,i,this)}else if(e instanceof r||or.isString(e))this.origin=r.DataSet.getConnector("default")(e,this.dataSet);else if(or.isArray(e))this.origin=e;else if(or.isObject(e)&&e.type){var i=this._preparseOptions(e);this.origin=r.DataSet.getConnector(i.type)(i,this)}else throw new TypeError("Invalid source");return this.rows=or.deepMix([],this.origin),this},r.prototype.source=function(e,t){return this._prepareSource(e,t)._reExecuteTransforms(),this.trigger("change",[]),this},r.prototype.transform=function(e){return e&&e.type&&(this.transforms.push(e),this._executeTransform(e)),this},r.prototype._executeTransform=function(e){e=this._preparseOptions(e);var t=r.DataSet.getTransform(e.type);t(this,e)},r.prototype._reExecuteTransforms=function(){var e=this;this.transforms.forEach(function(t){e._executeTransform(t)})},r.prototype.addRow=function(e){this.rows.push(e)},r.prototype.removeRow=function(e){this.rows.splice(e,1)},r.prototype.updateRow=function(e,t){or.assign(this.rows[e],t)},r.prototype.findRows=function(e){return this.rows.filter(function(t){return or.isMatch(t,e)})},r.prototype.findRow=function(e){return or.find(this.rows,e)},r.prototype.getColumnNames=function(){var e=this.rows[0];return e?or.keys(e):[]},r.prototype.getColumnName=function(e){return this.getColumnNames()[e]},r.prototype.getColumnIndex=function(e){var t=this.getColumnNames();return t.indexOf(e)},r.prototype.getColumn=function(e){return this.rows.map(function(t){return t[e]})},r.prototype.getColumnData=function(e){return this.getColumn(e)},r.prototype.getSubset=function(e,t,i){for(var a=[],o=e;o<=t;o++)a.push(or.pick(this.rows[o],i));return a},r.prototype.toString=function(e){return e===void 0&&(e=!1),e?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},r.prototype._reExecute=function(){var e=this._source,t=e.source,i=e.options;this._prepareSource(t,i),this._reExecuteTransforms(),this.trigger("change",[])},r}(o3.default);Je.View=f3;var Cu={},F=1e-6;class l3{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const e=this._partials;let t=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=r+a,s=Math.abs(r)<Math.abs(a)?r-(o-a):a-(o-r);s&&(e[t++]=s),r=o}return e[t]=r,this._n=t+1,this}valueOf(){const r=this._partials;let e=this._n,t,i,a,o=0;if(e>0){for(o=r[--e];e>0&&(t=o,i=r[--e],o=t+i,a=i-(o-t),!a););e>0&&(a<0&&r[e-1]<0||a>0&&r[e-1]>0)&&(i=a*2,t=o+i,i==t-o&&(o=t))}return o}}function*s3(n){for(const r of n)yield*r}function lp(n){return Array.from(s3(n))}var Cn=1e-6,c3=1e-12,yn=Math.PI,Qn=yn/2,R1=yn/4,Xr=yn*2,vr=180/yn,Zn=yn/180,qn=Math.abs,Zi=Math.atan,Re=Math.atan2,xn=Math.cos,sp=Math.exp,jo=Math.log,vf=Math.pow,Pn=Math.sin,Yr=Math.sign||function(n){return n>0?1:n<0?-1:0},Ce=Math.sqrt,_c=Math.tan;function v3(n){return n>1?0:n<-1?yn:Math.acos(n)}function Ye(n){return n>1?Qn:n<-1?-Qn:Math.asin(n)}function Ei(){}function Jo(n,r){n&&k1.hasOwnProperty(n.type)&&k1[n.type](n,r)}var C1={Feature:function(n,r){Jo(n.geometry,r)},FeatureCollection:function(n,r){for(var e=n.features,t=-1,i=e.length;++t<i;)Jo(e[t].geometry,r)}},k1={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)n=e[t],r.point(n[0],n[1],n[2])},LineString:function(n,r){Il(n.coordinates,r,0)},MultiLineString:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)Il(e[t],r,0)},Polygon:function(n,r){b1(n.coordinates,r)},MultiPolygon:function(n,r){for(var e=n.coordinates,t=-1,i=e.length;++t<i;)b1(e[t],r)},GeometryCollection:function(n,r){for(var e=n.geometries,t=-1,i=e.length;++t<i;)Jo(e[t],r)}};function Il(n,r,e){var t=-1,i=n.length-e,a;for(r.lineStart();++t<i;)a=n[t],r.point(a[0],a[1],a[2]);r.lineEnd()}function b1(n,r){var e=-1,t=n.length;for(r.polygonStart();++e<t;)Il(n[e],r,1);r.polygonEnd()}function cp(n,r){n&&C1.hasOwnProperty(n.type)?C1[n.type](n,r):Jo(n,r)}function Dl(n){return[Re(n[1],n[0]),Ye(n[2])]}function zt(n){var r=n[0],e=n[1],t=xn(e);return[t*xn(r),t*Pn(r),Pn(e)]}function Sa(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function Ko(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function hf(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function $a(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function Ol(n){var r=Ce(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}function Fl(n,r){function e(t,i){return t=n(t,i),r(t[0],t[1])}return n.invert&&r.invert&&(e.invert=function(t,i){return t=r.invert(t,i),t&&n.invert(t[0],t[1])}),e}function ql(n,r){return[qn(n)>yn?n+Math.round(-n/Xr)*Xr:n,r]}ql.invert=ql;function vp(n,r,e){return(n%=Xr)?r||e?Fl(N1(n),A1(r,e)):N1(n):r||e?A1(r,e):ql}function L1(n){return function(r,e){return r+=n,[r>yn?r-Xr:r<-yn?r+Xr:r,e]}}function N1(n){var r=L1(n);return r.invert=L1(-n),r}function A1(n,r){var e=xn(n),t=Pn(n),i=xn(r),a=Pn(r);function o(s,l){var c=xn(l),u=xn(s)*c,v=Pn(s)*c,f=Pn(l),h=f*e+u*t;return[Re(v*i-h*a,u*e-f*t),Ye(h*i+v*a)]}return o.invert=function(s,l){var c=xn(l),u=xn(s)*c,v=Pn(s)*c,f=Pn(l),h=f*i-v*a;return[Re(v*i+f*a,u*e+h*t),Ye(h*e-u*t)]},o}function h3(n){n=vp(n[0]*Zn,n[1]*Zn,n.length>2?n[2]*Zn:0);function r(e){return e=n(e[0]*Zn,e[1]*Zn),e[0]*=vr,e[1]*=vr,e}return r.invert=function(e){return e=n.invert(e[0]*Zn,e[1]*Zn),e[0]*=vr,e[1]*=vr,e},r}function g3(n,r,e,t,i,a){if(!!e){var o=xn(r),s=Pn(r),l=t*e;i==null?(i=r+t*Xr,a=r-l/2):(i=I1(o,i),a=I1(o,a),(t>0?i<a:i>a)&&(i+=t*Xr));for(var c,u=i;t>0?u>a:u<a;u-=l)c=Dl([o,-s*xn(u),-s*Pn(u)]),n.point(c[0],c[1])}}function I1(n,r){r=zt(r),r[0]-=n,Ol(r);var e=v3(-r[1]);return((-r[2]<0?-e:e)+Xr-Cn)%Xr}function hp(){var n=[],r;return{point:function(e,t,i){r.push([e,t,i])},lineStart:function(){n.push(r=[])},lineEnd:Ei,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],r=null,e}}}function Wa(n,r){return qn(n[0]-r[0])<Cn&&qn(n[1]-r[1])<Cn}function _a(n,r,e,t){this.x=n,this.z=r,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function gp(n,r,e,t,i){var a=[],o=[],s,l;if(n.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],m=g[p],w;if(Wa(d,m)){if(!d[2]&&!m[2]){for(i.lineStart(),s=0;s<p;++s)i.point((d=g[s])[0],d[1]);i.lineEnd();return}m[0]+=2*Cn}a.push(w=new _a(d,g,null,!0)),o.push(w.o=new _a(d,null,w,!1)),a.push(w=new _a(m,g,null,!1)),o.push(w.o=new _a(m,null,w,!0))}}),!!a.length){for(o.sort(r),D1(a),D1(o),s=0,l=o.length;s<l;++s)o[s].e=e=!e;for(var c=a[0],u,v;;){for(var f=c,h=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(s=0,l=u.length;s<l;++s)i.point((v=u[s])[0],v[1]);else t(f.x,f.n.x,1,i);f=f.n}else{if(h)for(u=f.p.z,s=u.length-1;s>=0;--s)i.point((v=u[s])[0],v[1]);else t(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,h=!h}while(!f.v);i.lineEnd()}}}function D1(n){if(!!(r=n.length)){for(var r,e=0,t=n[0],i;++e<r;)t.n=i=n[e],i.p=t,t=i;t.n=i=n[0],i.p=t}}function gf(n){return qn(n[0])<=yn?n[0]:Yr(n[0])*((qn(n[0])+yn)%Xr-yn)}function p3(n,r){var e=gf(r),t=r[1],i=Pn(t),a=[Pn(e),-xn(e),0],o=0,s=0,l=new l3;i===1?t=Qn+Cn:i===-1&&(t=-Qn-Cn);for(var c=0,u=n.length;c<u;++c)if(!!(f=(v=n[c]).length))for(var v,f,h=v[f-1],g=gf(h),p=h[1]/2+R1,d=Pn(p),m=xn(p),w=0;w<f;++w,g=S,d=M,m=N,h=E){var E=v[w],S=gf(E),_=E[1]/2+R1,M=Pn(_),N=xn(_),k=S-g,L=k>=0?1:-1,D=L*k,A=D>yn,C=d*M;if(l.add(Re(C*L*Pn(D),m*N+C*xn(D))),o+=A?k+L*Xr:k,A^g>=e^S>=e){var z=Ko(zt(h),zt(E));Ol(z);var $=Ko(a,z);Ol($);var y=(A^k>=0?-1:1)*Ye($[2]);(t>y||t===y&&(z[0]||z[1]))&&(s+=A^k>=0?1:-1)}}return(o<-Cn||o<Cn&&l<-c3)^s&1}function pp(n,r,e,t){return function(i){var a=r(i),o=hp(),s=r(o),l=!1,c,u,v,f={point:h,lineStart:p,lineEnd:d,polygonStart:function(){f.point=m,f.lineStart=w,f.lineEnd=E,u=[],c=[]},polygonEnd:function(){f.point=h,f.lineStart=p,f.lineEnd=d,u=lp(u);var S=p3(c,t);u.length?(l||(i.polygonStart(),l=!0),gp(u,m3,S,e,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(S,_){n(S,_)&&i.point(S,_)}function g(S,_){a.point(S,_)}function p(){f.point=g,a.lineStart()}function d(){f.point=h,a.lineEnd()}function m(S,_){v.push([S,_]),s.point(S,_)}function w(){s.lineStart(),v=[]}function E(){m(v[0][0],v[0][1]),s.lineEnd();var S=s.clean(),_=o.result(),M,N=_.length,k,L,D;if(v.pop(),c.push(v),v=null,!!N){if(S&1){if(L=_[0],(k=L.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),M=0;M<k;++M)i.point((D=L[M])[0],D[1]);i.lineEnd()}return}N>1&&S&2&&_.push(_.pop().concat(_.shift())),u.push(_.filter(d3))}}return f}}function d3(n){return n.length>1}function m3(n,r){return((n=n.x)[0]<0?n[1]-Qn-Cn:Qn-n[1])-((r=r.x)[0]<0?r[1]-Qn-Cn:Qn-r[1])}var O1=pp(function(){return!0},y3,E3,[-yn,-Qn]);function y3(n){var r=NaN,e=NaN,t=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var s=a>0?yn:-yn,l=qn(a-r);qn(l-yn)<Cn?(n.point(r,e=(e+o)/2>0?Qn:-Qn),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(s,e),n.point(a,e),i=0):t!==s&&l>=yn&&(qn(r-t)<Cn&&(r-=t*Cn),qn(a-s)<Cn&&(a-=s*Cn),e=w3(r,e,a,o),n.point(t,e),n.lineEnd(),n.lineStart(),n.point(s,e),i=0),n.point(r=a,e=o),t=s},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-i}}}function w3(n,r,e,t){var i,a,o=Pn(n-e);return qn(o)>Cn?Zi((Pn(r)*(a=xn(t))*Pn(e)-Pn(t)*(i=xn(r))*Pn(n))/(i*a*o)):(r+t)/2}function E3(n,r,e,t){var i;if(n==null)i=e*Qn,t.point(-yn,i),t.point(0,i),t.point(yn,i),t.point(yn,0),t.point(yn,-i),t.point(0,-i),t.point(-yn,-i),t.point(-yn,0),t.point(-yn,i);else if(qn(n[0]-r[0])>Cn){var a=n[0]<r[0]?yn:-yn;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(r[0],r[1])}function S3(n){var r=xn(n),e=6*Zn,t=r>0,i=qn(r)>Cn;function a(u,v,f,h){g3(h,n,e,f,u,v)}function o(u,v){return xn(u)*xn(v)>r}function s(u){var v,f,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,m){var w=[d,m],E,S=o(d,m),_=t?S?0:c(d,m):S?c(d+(d<0?yn:-yn),m):0;if(!v&&(g=h=S)&&u.lineStart(),S!==h&&(E=l(v,w),(!E||Wa(v,E)||Wa(w,E))&&(w[2]=1)),S!==h)p=0,S?(u.lineStart(),E=l(w,v),u.point(E[0],E[1])):(E=l(v,w),u.point(E[0],E[1],2),u.lineEnd()),v=E;else if(i&&v&&t^S){var M;!(_&f)&&(M=l(w,v,!0))&&(p=0,t?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}S&&(!v||!Wa(v,w))&&u.point(w[0],w[1]),v=w,h=S,f=_},lineEnd:function(){h&&u.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function l(u,v,f){var h=zt(u),g=zt(v),p=[1,0,0],d=Ko(h,g),m=Sa(d,d),w=d[0],E=m-w*w;if(!E)return!f&&u;var S=r*m/E,_=-r*w/E,M=Ko(p,d),N=$a(p,S),k=$a(d,_);hf(N,k);var L=M,D=Sa(N,L),A=Sa(L,L),C=D*D-A*(Sa(N,N)-1);if(!(C<0)){var z=Ce(C),$=$a(L,(-D-z)/A);if(hf($,N),$=Dl($),!f)return $;var y=u[0],P=v[0],x=u[1],O=v[1],J;P<y&&(J=y,y=P,P=J);var cn=P-y,rn=qn(cn-yn)<Cn,sn=rn||cn<Cn;if(!rn&&O<x&&(J=x,x=O,O=J),sn?rn?x+O>0^$[1]<(qn($[0]-y)<Cn?x:O):x<=$[1]&&$[1]<=O:cn>yn^(y<=$[0]&&$[0]<=P)){var mn=$a(L,(-D+z)/A);return hf(mn,N),[$,Dl(mn)]}}}function c(u,v){var f=t?n:yn-n,h=0;return u<-f?h|=1:u>f&&(h|=2),v<-f?h|=4:v>f&&(h|=8),h}return pp(o,s,a,t?[0,-n]:[-yn,n-yn])}function $3(n,r,e,t,i,a){var o=n[0],s=n[1],l=r[0],c=r[1],u=0,v=1,f=l-o,h=c-s,g;if(g=e-o,!(!f&&g>0)){if(g/=f,f<0){if(g<u)return;g<v&&(v=g)}else if(f>0){if(g>v)return;g>u&&(u=g)}if(g=i-o,!(!f&&g<0)){if(g/=f,f<0){if(g>v)return;g>u&&(u=g)}else if(f>0){if(g<u)return;g<v&&(v=g)}if(g=t-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>u&&(u=g)}if(g=a-s,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<v&&(v=g)}return u>0&&(n[0]=o+u*f,n[1]=s+u*h),v<1&&(r[0]=o+v*f,r[1]=s+v*h),!0}}}}}var Si=1e9,Ta=-Si;function _3(n,r,e,t){function i(c,u){return n<=c&&c<=e&&r<=u&&u<=t}function a(c,u,v,f){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(u,v))||l(c,u)<0^v>0)do f.point(h===0||h===3?n:e,h>1?t:r);while((h=(h+v+4)%4)!==g);else f.point(u[0],u[1])}function o(c,u){return qn(c[0]-n)<Cn?u>0?0:3:qn(c[0]-e)<Cn?u>0?2:1:qn(c[1]-r)<Cn?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var v=o(c,1),f=o(u,1);return v!==f?v-f:v===0?u[1]-c[1]:v===1?c[0]-u[0]:v===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,v=hp(),f,h,g,p,d,m,w,E,S,_,M,N={point:k,lineStart:C,lineEnd:z,polygonStart:D,polygonEnd:A};function k(y,P){i(y,P)&&u.point(y,P)}function L(){for(var y=0,P=0,x=h.length;P<x;++P)for(var O=h[P],J=1,cn=O.length,rn=O[0],sn,mn,zn=rn[0],Bn=rn[1];J<cn;++J)sn=zn,mn=Bn,rn=O[J],zn=rn[0],Bn=rn[1],mn<=t?Bn>t&&(zn-sn)*(t-mn)>(Bn-mn)*(n-sn)&&++y:Bn<=t&&(zn-sn)*(t-mn)<(Bn-mn)*(n-sn)&&--y;return y}function D(){u=v,f=[],h=[],M=!0}function A(){var y=L(),P=M&&y,x=(f=lp(f)).length;(P||x)&&(c.polygonStart(),P&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),x&&gp(f,s,y,a,c),c.polygonEnd()),u=c,f=h=g=null}function C(){N.point=$,h&&h.push(g=[]),_=!0,S=!1,w=E=NaN}function z(){f&&($(p,d),m&&S&&v.rejoin(),f.push(v.result())),N.point=k,S&&u.lineEnd()}function $(y,P){var x=i(y,P);if(h&&g.push([y,P]),_)p=y,d=P,m=x,_=!1,x&&(u.lineStart(),u.point(y,P));else if(x&&S)u.point(y,P);else{var O=[w=Math.max(Ta,Math.min(Si,w)),E=Math.max(Ta,Math.min(Si,E))],J=[y=Math.max(Ta,Math.min(Si,y)),P=Math.max(Ta,Math.min(Si,P))];$3(O,J,n,r,e,t)?(S||(u.lineStart(),u.point(O[0],O[1])),u.point(J[0],J[1]),x||u.lineEnd(),M=!1):x&&(u.lineStart(),u.point(y,P),M=!1)}w=y,E=P,S=x}return N}}var F1=n=>n,Bt=1/0,Zo=Bt,zi=-Bt,Qo=zi,T3={point:M3,lineStart:Ei,lineEnd:Ei,polygonStart:Ei,polygonEnd:Ei,result:function(){var n=[[Bt,Zo],[zi,Qo]];return zi=Qo=-(Zo=Bt=1/0),n}};function M3(n,r){n<Bt&&(Bt=n),n>zi&&(zi=n),r<Zo&&(Zo=r),r>Qo&&(Qo=r)}var q1=T3;function Tc(n){return function(r){var e=new zl;for(var t in n)e[t]=n[t];return e.stream=r,e}}function zl(){}zl.prototype={constructor:zl,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Mc(n,r,e){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),cp(e,n.stream(q1)),r(q1.result()),t!=null&&n.clipExtent(t),n}function dp(n,r,e){return Mc(n,function(t){var i=r[1][0]-r[0][0],a=r[1][1]-r[0][1],o=Math.min(i/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),s=+r[0][0]+(i-o*(t[1][0]+t[0][0]))/2,l=+r[0][1]+(a-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([s,l])},e)}function P3(n,r,e){return dp(n,[[0,0],r],e)}function x3(n,r,e){return Mc(n,function(t){var i=+r,a=i/(t[1][0]-t[0][0]),o=(i-a*(t[1][0]+t[0][0]))/2,s=-a*t[0][1];n.scale(150*a).translate([o,s])},e)}function R3(n,r,e){return Mc(n,function(t){var i=+r,a=i/(t[1][1]-t[0][1]),o=-a*t[0][0],s=(i-a*(t[1][1]+t[0][1]))/2;n.scale(150*a).translate([o,s])},e)}var z1=16,C3=xn(30*Zn);function B1(n,r){return+r?b3(n,r):k3(n)}function k3(n){return Tc({point:function(r,e){r=n(r,e),this.stream.point(r[0],r[1])}})}function b3(n,r){function e(t,i,a,o,s,l,c,u,v,f,h,g,p,d){var m=c-t,w=u-i,E=m*m+w*w;if(E>4*r&&p--){var S=o+f,_=s+h,M=l+g,N=Ce(S*S+_*_+M*M),k=Ye(M/=N),L=qn(qn(M)-1)<Cn||qn(a-v)<Cn?(a+v)/2:Re(_,S),D=n(L,k),A=D[0],C=D[1],z=A-t,$=C-i,y=w*z-m*$;(y*y/E>r||qn((m*z+w*$)/E-.5)>.3||o*f+s*h+l*g<C3)&&(e(t,i,a,o,s,l,A,C,L,S/=N,_/=N,M,p,d),d.point(A,C),e(A,C,L,S,_,M,c,u,v,f,h,g,p,d))}}return function(t){var i,a,o,s,l,c,u,v,f,h,g,p,d={point:m,lineStart:w,lineEnd:S,polygonStart:function(){t.polygonStart(),d.lineStart=_},polygonEnd:function(){t.polygonEnd(),d.lineStart=w}};function m(k,L){k=n(k,L),t.point(k[0],k[1])}function w(){v=NaN,d.point=E,t.lineStart()}function E(k,L){var D=zt([k,L]),A=n(k,L);e(v,f,u,h,g,p,v=A[0],f=A[1],u=k,h=D[0],g=D[1],p=D[2],z1,t),t.point(v,f)}function S(){d.point=m,t.lineEnd()}function _(){w(),d.point=M,d.lineEnd=N}function M(k,L){E(i=k,L),a=v,o=f,s=h,l=g,c=p,d.point=E}function N(){e(v,f,u,h,g,p,a,o,i,s,l,c,z1,t),d.lineEnd=S,S()}return d}}var L3=Tc({point:function(n,r){this.stream.point(n*Zn,r*Zn)}});function N3(n){return Tc({point:function(r,e){var t=n(r,e);return this.stream.point(t[0],t[1])}})}function A3(n,r,e,t,i){function a(o,s){return o*=t,s*=i,[r+n*o,e-n*s]}return a.invert=function(o,s){return[(o-r)/n*t,(e-s)/n*i]},a}function G1(n,r,e,t,i,a){if(!a)return A3(n,r,e,t,i);var o=xn(a),s=Pn(a),l=o*n,c=s*n,u=o/n,v=s/n,f=(s*e-o*r)/n,h=(s*r+o*e)/n;function g(p,d){return p*=t,d*=i,[l*p-c*d+r,e-c*p-l*d]}return g.invert=function(p,d){return[t*(u*p-v*d+f),i*(h-v*p-u*d)]},g}function Pc(n){return mp(function(){return n})()}function mp(n){var r,e=150,t=480,i=250,a=0,o=0,s=0,l=0,c=0,u,v=0,f=1,h=1,g=null,p=O1,d=null,m,w,E,S=F1,_=.5,M,N,k,L,D;function A(y){return k(y[0]*Zn,y[1]*Zn)}function C(y){return y=k.invert(y[0],y[1]),y&&[y[0]*vr,y[1]*vr]}A.stream=function(y){return L&&D===y?L:L=L3(N3(u)(p(M(S(D=y)))))},A.preclip=function(y){return arguments.length?(p=y,g=void 0,$()):p},A.postclip=function(y){return arguments.length?(S=y,d=m=w=E=null,$()):S},A.clipAngle=function(y){return arguments.length?(p=+y?S3(g=y*Zn):(g=null,O1),$()):g*vr},A.clipExtent=function(y){return arguments.length?(S=y==null?(d=m=w=E=null,F1):_3(d=+y[0][0],m=+y[0][1],w=+y[1][0],E=+y[1][1]),$()):d==null?null:[[d,m],[w,E]]},A.scale=function(y){return arguments.length?(e=+y,z()):e},A.translate=function(y){return arguments.length?(t=+y[0],i=+y[1],z()):[t,i]},A.center=function(y){return arguments.length?(a=y[0]%360*Zn,o=y[1]%360*Zn,z()):[a*vr,o*vr]},A.rotate=function(y){return arguments.length?(s=y[0]%360*Zn,l=y[1]%360*Zn,c=y.length>2?y[2]%360*Zn:0,z()):[s*vr,l*vr,c*vr]},A.angle=function(y){return arguments.length?(v=y%360*Zn,z()):v*vr},A.reflectX=function(y){return arguments.length?(f=y?-1:1,z()):f<0},A.reflectY=function(y){return arguments.length?(h=y?-1:1,z()):h<0},A.precision=function(y){return arguments.length?(M=B1(N,_=y*y),$()):Ce(_)},A.fitExtent=function(y,P){return dp(A,y,P)},A.fitSize=function(y,P){return P3(A,y,P)},A.fitWidth=function(y,P){return x3(A,y,P)},A.fitHeight=function(y,P){return R3(A,y,P)};function z(){var y=G1(e,0,0,f,h,v).apply(null,r(a,o)),P=G1(e,t-y[0],i-y[1],f,h,v);return u=vp(s,l,c),N=Fl(r,P),k=Fl(u,N),M=B1(N,_),$()}function $(){return L=D=null,A}return function(){return r=n.apply(this,arguments),A.invert=r.invert&&C,z()}}function xc(n){var r=0,e=yn/3,t=mp(n),i=t(r,e);return i.parallels=function(a){return arguments.length?t(r=a[0]*Zn,e=a[1]*Zn):[r*vr,e*vr]},i}function I3(n){var r=xn(n);function e(t,i){return[t*r,Pn(i)/r]}return e.invert=function(t,i){return[t/r,Ye(i*r)]},e}function D3(n,r){var e=Pn(n),t=(e+Pn(r))/2;if(qn(t)<Cn)return I3(n);var i=1+e*(2*t-e),a=Ce(i)/t;function o(s,l){var c=Ce(i-2*t*Pn(l))/t;return[c*Pn(s*=t),a-c*xn(s)]}return o.invert=function(s,l){var c=a-l,u=Re(s,qn(c))*Yr(c);return c*t<0&&(u-=yn*Yr(s)*Yr(c)),[u/t,Ye((i-(s*s+c*c)*t*t)/(2*t))]},o}function Ct(){return xc(D3).scale(155.424).center([0,33.6442])}function nu(){return Ct().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function O3(n){return function(r,e){var t=Ce(r*r+e*e),i=n(t),a=Pn(i),o=xn(i);return[Re(r*a,t*o),Ye(t&&e*a/t)]}}function ku(n,r){return[n,jo(_c((Qn+r)/2))]}ku.invert=function(n,r){return[n,2*Zi(sp(r))-Qn]};function On(){return yp(ku).scale(961/Xr)}function yp(n){var r=Pc(n),e=r.center,t=r.scale,i=r.translate,a=r.clipExtent,o=null,s,l,c;r.scale=function(v){return arguments.length?(t(v),u()):t()},r.translate=function(v){return arguments.length?(i(v),u()):i()},r.center=function(v){return arguments.length?(e(v),u()):e()},r.clipExtent=function(v){return arguments.length?(v==null?o=s=l=c=null:(o=+v[0][0],s=+v[0][1],l=+v[1][0],c=+v[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var v=yn*t(),f=r(h3(r.rotate()).invert([0,0]));return a(o==null?[[f[0]-v,f[1]-v],[f[0]+v,f[1]+v]]:n===ku?[[Math.max(f[0]-v,o),s],[Math.min(f[0]+v,l),c]]:[[o,Math.max(f[1]-v,s)],[l,Math.min(f[1]+v,c)]])}return u()}function Ma(n){return _c((Qn+n)/2)}function F3(n,r){var e=xn(n),t=n===r?Pn(n):jo(e/xn(r))/jo(Ma(r)/Ma(n)),i=e*vf(Ma(n),t)/t;if(!t)return ku;function a(o,s){i>0?s<-Qn+Cn&&(s=-Qn+Cn):s>Qn-Cn&&(s=Qn-Cn);var l=i/vf(Ma(s),t);return[l*Pn(t*o),i-l*xn(t*o)]}return a.invert=function(o,s){var l=i-s,c=Yr(t)*Ce(o*o+l*l),u=Re(o,qn(l))*Yr(l);return l*t<0&&(u-=yn*Yr(o)*Yr(l)),[u/t,2*Zi(vf(i/c,1/t))-Qn]},a}function Sr(){return xc(F3).scale(109.5).parallels([30,30])}function ru(n,r){return[n,r]}ru.invert=ru;function U1(){return Pc(ru).scale(152.63)}function q3(n,r){var e=xn(n),t=n===r?Pn(n):(e-xn(r))/(r-n),i=e/t+n;if(qn(t)<Cn)return ru;function a(o,s){var l=i-s,c=t*o;return[l*Pn(c),i-l*xn(c)]}return a.invert=function(o,s){var l=i-s,c=Re(o,qn(l))*Yr(l);return l*t<0&&(c-=yn*Yr(o)*Yr(l)),[c/t,i-Yr(t)*Ce(o*o+l*l)]},a}function pf(){return xc(q3).scale(131.154).center([0,13.9389])}function wp(n,r){var e=xn(r),t=1+xn(n)*e;return[e*Pn(n)/t,Pn(r)/t]}wp.invert=O3(function(n){return 2*Zi(n)});function z3(){return Pc(wp).scale(250).clipAngle(142)}function Ep(n,r){return[jo(_c((Qn+r)/2)),-n]}Ep.invert=function(n,r){return[-r,2*Zi(sp(n))-Qn]};function B3(){var n=yp(Ep),r=n.center,e=n.rotate;return n.center=function(t){return arguments.length?r([-t[1],t[0]]):(t=r(),[t[1],-t[0]])},n.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}function Pa(){}var Gt=1/0,eu=Gt,Bi=-Gt,tu=Bi,H1={point:G3,lineStart:Pa,lineEnd:Pa,polygonStart:Pa,polygonEnd:Pa,result:function(){var n=[[Gt,eu],[Bi,tu]];return Bi=tu=-(eu=Gt=1/0),n}};function G3(n,r){n<Gt&&(Gt=n),n>Bi&&(Bi=n),r<eu&&(eu=r),r>tu&&(tu=r)}function Pr(n,r,e){var t=r[1][0]-r[0][0],i=r[1][1]-r[0][1],a=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),cp(e,n.stream(H1));var o=H1.result(),s=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),l=+r[0][0]+(t-s*(o[1][0]+o[0][0]))/2,c=+r[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return a!=null&&n.clipExtent(a),n.scale(s*150).translate([l,c])}function Fr(n,r,e){return Pr(n,[[0,0],r],e)}const Bl=Math.PI,Gl=2*Bl,it=1e-6,U3=Gl-it;function Ul(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function xr(){return new Ul}Ul.prototype=xr.prototype={constructor:Ul,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,t){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(n,r,e,t,i,a){this._+="C"+ +n+","+ +r+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(n,r,e,t,i){n=+n,r=+r,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,s=e-n,l=t-r,c=a-n,u=o-r,v=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(v>it)if(!(Math.abs(u*s-l*c)>it)||!i)this._+="L"+(this._x1=n)+","+(this._y1=r);else{var f=e-a,h=t-o,g=s*s+l*l,p=f*f+h*h,d=Math.sqrt(g),m=Math.sqrt(v),w=i*Math.tan((Bl-Math.acos((g+v-p)/(2*d*m)))/2),E=w/m,S=w/d;Math.abs(E-1)>it&&(this._+="L"+(n+E*c)+","+(r+E*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*h)+","+(this._x1=n+S*s)+","+(this._y1=r+S*l)}},arc:function(n,r,e,t,i,a){n=+n,r=+r,e=+e,a=!!a;var o=e*Math.cos(t),s=e*Math.sin(t),l=n+o,c=r+s,u=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>it||Math.abs(this._y1-c)>it)&&(this._+="L"+l+","+c),e&&(v<0&&(v=v%Gl+Gl),v>U3?this._+="A"+e+","+e+",0,1,"+u+","+(n-o)+","+(r-s)+"A"+e+","+e+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):v>it&&(this._+="A"+e+","+e+",0,"+ +(v>=Bl)+","+u+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=r+e*Math.sin(i))))},rect:function(n,r,e,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function H3(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function Y3(){var n,r,e=nu(),t,i=Ct().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Ct().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(f,h){l=[f,h]}};function u(f){var h=f[0],g=f[1];return l=null,t.point(h,g),l||(a.point(h,g),l)||(s.point(h,g),l)}u.invert=function(f){var h=e.scale(),g=e.translate(),p=(f[0]-g[0])/h,d=(f[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=H3([e.stream(r=f),i.stream(f),o.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),o.precision(f),v()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f*.35),o.scale(f),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var h=e.scale(),g=+f[0],p=+f[1];return t=e.translate(f).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+F,p+.12*h+F],[g-.214*h-F,p+.234*h-F]]).stream(c),s=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+F,p+.166*h+F],[g-.115*h-F,p+.234*h-F]]).stream(c),v()},u.fitExtent=function(f,h){return Pr(u,f,h)},u.fitSize=function(f,h){return Fr(u,f,h)};function v(){return n=r=null,u}return u.drawCompositionBorders=function(f){var h=e([-102.91,26.3]),g=e([-104,27.5]),p=e([-108,29.1]),d=e([-110,29.1]),m=e([-110,26.7]),w=e([-112.8,27.6]),E=e([-114.3,30.6]),S=e([-119.3,30.1]);f.moveTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.lineTo(p[0],p[1]),f.lineTo(d[0],d[1]),f.moveTo(m[0],m[1]),f.lineTo(w[0],w[1]),f.lineTo(E[0],E[1]),f.lineTo(S[0],S[1])},u.getCompositionBorders=function(){var f=xr();return this.drawCompositionBorders(f),f.toString()},u.scale(1070)}function V3(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function X3(){var n,r,e=nu(),t,i=Ct().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Ct().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l=Ct().rotate([66,0]).center([0,18]).parallels([8,18]),c,u=U1().rotate([173,14]),v,f=U1().rotate([-145,-16.8]),h,g,p={point:function(w,E){g=[w,E]}};function d(w){var E=w[0],S=w[1];return g=null,t.point(E,S),g||(a.point(E,S),g)||(s.point(E,S),g)||(c.point(E,S),g)||(v.point(E,S),g)||(h.point(E,S),g)}d.invert=function(w){var E=e.scale(),S=e.translate(),_=(w[0]-S[0])/E,M=(w[1]-S[1])/E;return(M>=.12&&M<.234&&_>=-.425&&_<-.214?i:M>=.166&&M<.234&&_>=-.214&&_<-.115?o:M>=.2064&&M<.2413&&_>=.312&&_<.385?l:M>=.09&&M<.1197&&_>=-.4243&&_<-.3232?u:M>=-.0518&&M<.0895&&_>=-.4243&&_<-.3824?f:e).invert(w)},d.stream=function(w){return n&&r===w?n:n=V3([e.stream(r=w),i.stream(w),o.stream(w),l.stream(w),u.stream(w),f.stream(w)])},d.precision=function(w){return arguments.length?(e.precision(w),i.precision(w),o.precision(w),l.precision(w),u.precision(w),f.precision(w),m()):e.precision()},d.scale=function(w){return arguments.length?(e.scale(w),i.scale(w*.35),o.scale(w),l.scale(w),u.scale(w*2),f.scale(w),d.translate(e.translate())):e.scale()},d.translate=function(w){if(!arguments.length)return e.translate();var E=e.scale(),S=+w[0],_=+w[1];return t=e.translate(w).clipExtent([[S-.455*E,_-.238*E],[S+.455*E,_+.238*E]]).stream(p),a=i.translate([S-.307*E,_+.201*E]).clipExtent([[S-.425*E+F,_+.12*E+F],[S-.214*E-F,_+.233*E-F]]).stream(p),s=o.translate([S-.205*E,_+.212*E]).clipExtent([[S-.214*E+F,_+.166*E+F],[S-.115*E-F,_+.233*E-F]]).stream(p),c=l.translate([S+.35*E,_+.224*E]).clipExtent([[S+.312*E+F,_+.2064*E+F],[S+.385*E-F,_+.233*E-F]]).stream(p),v=u.translate([S-.492*E,_+.09*E]).clipExtent([[S-.4243*E+F,_+.0903*E+F],[S-.3233*E-F,_+.1197*E-F]]).stream(p),h=f.translate([S-.408*E,_+.018*E]).clipExtent([[S-.4244*E+F,_-.0519*E+F],[S-.3824*E-F,_+.0895*E-F]]).stream(p),m()},d.fitExtent=function(w,E){return Pr(d,w,E)},d.fitSize=function(w,E){return Fr(d,w,E)};function m(){return n=r=null,d}return d.drawCompositionBorders=function(w){var E=e([-110.4641,28.2805]),S=e([-104.0597,28.9528]),_=e([-103.7049,25.1031]),M=e([-109.8337,24.4531]),N=e([-124.4745,28.1407]),k=e([-110.931,30.8844]),L=e([-109.8337,24.4531]),D=e([-122.4628,21.8562]),A=e([-76.8579,25.1544]),C=e([-72.429,24.2097]),z=e([-72.8265,22.7056]),$=e([-77.1852,23.6392]),y=e([-125.0093,29.7791]),P=e([-118.5193,31.3262]),x=e([-118.064,29.6912]),O=e([-124.4369,28.169]),J=e([-128.1314,37.4582]),cn=e([-125.2132,38.214]),rn=e([-122.3616,30.5115]),sn=e([-125.0315,29.8211]);w.moveTo(E[0],E[1]),w.lineTo(S[0],S[1]),w.lineTo(_[0],_[1]),w.lineTo(_[0],_[1]),w.lineTo(M[0],M[1]),w.closePath(),w.moveTo(N[0],N[1]),w.lineTo(k[0],k[1]),w.lineTo(L[0],L[1]),w.lineTo(L[0],L[1]),w.lineTo(D[0],D[1]),w.closePath(),w.moveTo(A[0],A[1]),w.lineTo(C[0],C[1]),w.lineTo(z[0],z[1]),w.lineTo(z[0],z[1]),w.lineTo($[0],$[1]),w.closePath(),w.moveTo(y[0],y[1]),w.lineTo(P[0],P[1]),w.lineTo(x[0],x[1]),w.lineTo(x[0],x[1]),w.lineTo(O[0],O[1]),w.closePath(),w.moveTo(J[0],J[1]),w.lineTo(cn[0],cn[1]),w.lineTo(rn[0],rn[1]),w.lineTo(rn[0],rn[1]),w.lineTo(sn[0],sn[1]),w.closePath()},d.getCompositionBorders=function(){var w=xr();return this.drawCompositionBorders(w),w.toString()},d.scale(1070)}function W3(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function j3(){var n,r,e=Sr().rotate([5,-38.6]).parallels([0,60]),t,i=Sr().rotate([5,-38.6]).parallels([0,60]),a,o,s={point:function(u,v){o=[u,v]}};function l(u){var v=u[0],f=u[1];return o=null,t.point(v,f),o||(a.point(v,f),o)}l.invert=function(u){var v=e.scale(),f=e.translate(),h=(u[0]-f[0])/v,g=(u[1]-f[1])/v;return(g>=.05346&&g<.0897&&h>=-.13388&&h<-.0322?i:e).invert(u)},l.stream=function(u){return n&&r===u?n:n=W3([e.stream(r=u),i.stream(u)])},l.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},l.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),l.translate(e.translate())):e.scale()},l.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),f=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[f-.06857*v,h-.1288*v],[f+.13249*v,h+.06*v]]).stream(s),a=i.translate([f+.1*v,h-.094*v]).clipExtent([[f-.1331*v+F,h+.053457*v+F],[f-.0354*v-F,h+.08969*v-F]]).stream(s),c()},l.fitExtent=function(u,v){return Pr(l,u,v)},l.fitSize=function(u,v){return Fr(l,u,v)};function c(){return n=r=null,l}return l.drawCompositionBorders=function(u){var v=e([-14.034675,34.965007]),f=e([-7.4208899,35.536988]),h=e([-7.3148275,33.54359]);u.moveTo(v[0],v[1]),u.lineTo(f[0],f[1]),u.lineTo(h[0],h[1])},l.getCompositionBorders=function(){var u=xr();return this.drawCompositionBorders(u),u.toString()},l.scale(2700)}function J3(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function K3(){var n,r,e=Sr().rotate([10,-39.3]).parallels([0,60]),t,i=Sr().rotate([17,-32.7]).parallels([0,60]),a,o=Sr().rotate([27.8,-38.6]).parallels([0,60]),s,l,c={point:function(f,h){l=[f,h]}};function u(f){var h=f[0],g=f[1];return l=null,t.point(h,g),l||(a.point(h,g),l)||(s.point(h,g),l)}u.invert=function(f){var h=e.scale(),g=e.translate(),p=(f[0]-g[0])/h,d=(f[1]-g[1])/h;return(d>=.0093&&d<.03678&&p>=-.03875&&p<-.0116?i:d>=-.0412&&d<.0091&&p>=-.07782&&p<-.01166?o:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=J3([e.stream(r=f),i.stream(f),o.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),o.precision(f),v()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f),o.scale(f*.6),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var h=e.scale(),g=+f[0],p=+f[1];return t=e.translate(f).clipExtent([[g-.0115*h,p-.1138*h],[g+.2105*h,p+.0673*h]]).stream(c),a=i.translate([g-.0265*h,p+.025*h]).clipExtent([[g-.0388*h+F,p+.0093*h+F],[g-.0116*h-F,p+.0368*h-F]]).stream(c),s=o.translate([g-.045*h,p+-.02*h]).clipExtent([[g-.0778*h+F,p-.0413*h+F],[g-.0117*h-F,p+.0091*h-F]]).stream(c),v()},u.fitExtent=function(f,h){return Pr(u,f,h)},u.fitSize=function(f,h){return Fr(u,f,h)};function v(){return n=r=null,u}return u.drawCompositionBorders=function(f){var h=e([-12.8351,38.7113]),g=e([-10.8482,38.7633]),p=e([-10.8181,37.2072]),d=e([-12.7345,37.1573]),m=e([-16.0753,41.4436]),w=e([-10.9168,41.6861]),E=e([-10.8557,38.7747]),S=e([-15.6728,38.5505]);f.moveTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.lineTo(p[0],p[1]),f.lineTo(p[0],p[1]),f.lineTo(d[0],d[1]),f.closePath(),f.moveTo(m[0],m[1]),f.lineTo(w[0],w[1]),f.lineTo(E[0],E[1]),f.lineTo(E[0],E[1]),f.lineTo(S[0],S[1]),f.closePath()},u.getCompositionBorders=function(){var f=xr();return this.drawCompositionBorders(f),f.toString()},u.scale(4200)}function Z3(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function Q3(){var n,r,e=On().rotate([80,1.5]),t,i=On().rotate([90.73,1]),a,o,s={point:function(u,v){o=[u,v]}};function l(u){var v=u[0],f=u[1];return o=null,t.point(v,f),o||(a.point(v,f),o)}l.invert=function(u){var v=e.scale(),f=e.translate(),h=(u[0]-f[0])/v,g=(u[1]-f[1])/v;return(g>=-.0676&&g<-.026&&h>=-.0857&&h<-.0263?i:e).invert(u)},l.stream=function(u){return n&&r===u?n:n=Z3([e.stream(r=u),i.stream(u)])},l.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},l.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),l.translate(e.translate())):e.scale()},l.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),f=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[f-.0262*v,h-.0734*v],[f+.1741*v,h+.079*v]]).stream(s),a=i.translate([f-.06*v,h-.04*v]).clipExtent([[f-.0857*v+F,h-.0676*v+F],[f-.0263*v-F,h-.026*v-F]]).stream(s),c()},l.fitExtent=function(u,v){return Pr(l,u,v)},l.fitSize=function(u,v){return Fr(l,u,v)};function c(){return n=r=null,l}return l.drawCompositionBorders=function(u){var v=e([-84.9032,2.3757]),f=e([-81.5047,2.3708]),h=e([-81.5063,-.01]),g=e([-84.9086,-.005]);u.moveTo(v[0],v[1]),u.lineTo(f[0],f[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1]),u.closePath()},l.getCompositionBorders=function(){var u=xr();return this.drawCompositionBorders(u),u.toString()},l.scale(3500)}function n4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function r4(){var n,r,e=B3().rotate([72,37]),t,i=z3().rotate([72,0]),a,o=On().rotate([80,33.5]),s,l=On().rotate([110,25]),c,u,v={point:function(g,p){u=[g,p]}};function f(g){var p=g[0],d=g[1];return u=null,t.point(p,d),u||(a.point(p,d),u)||(s.point(p,d),u)||(c.point(p,d),u)}f.invert=function(g){var p=e.scale(),d=e.translate(),m=(g[0]-d[0])/p,w=(g[1]-d[1])/p;return(w>=.2582&&w<.32&&m>=-.1036&&m<-.087?i:w>=-.01298&&w<.0133&&m>=-.11396&&m<-.05944?o:w>=.01539&&w<.03911&&m>=-.089&&m<-.0588?l:e).invert(g)},f.stream=function(g){return n&&r===g?n:n=n4([e.stream(r=g),i.stream(g),o.stream(g),l.stream(g)])},f.precision=function(g){return arguments.length?(e.precision(g),i.precision(g),o.precision(g),l.precision(g),h()):e.precision()},f.scale=function(g){return arguments.length?(e.scale(g),i.scale(g*.15),o.scale(g*1.5),l.scale(g*1.5),f.translate(e.translate())):e.scale()},f.translate=function(g){if(!arguments.length)return e.translate();var p=e.scale(),d=+g[0],m=+g[1];return t=e.translate(g).clipExtent([[d-.059*p,m-.3835*p],[d+.4498*p,m+.3375*p]]).stream(v),a=i.translate([d-.087*p,m+.17*p]).clipExtent([[d-.1166*p+F,m+.2582*p+F],[d-.06*p-F,m+.32*p-F]]).stream(v),s=o.translate([d-.092*p,m-0*p]).clipExtent([[d-.114*p+F,m-.013*p+F],[d-.0594*p-F,m+.0133*p-F]]).stream(v),c=l.translate([d-.089*p,m-.0265*p]).clipExtent([[d-.089*p+F,m+.0154*p+F],[d-.0588*p-F,m+.0391*p-F]]).stream(v),h()},f.fitExtent=function(g,p){return Pr(f,g,p)},f.fitSize=function(g,p){return Fr(f,g,p)};function h(){return n=r=null,f}return f.drawCompositionBorders=function(g){var p=e([-82.6999,-51.3043]),d=e([-77.5442,-51.6631]),m=e([-78.0254,-55.186]),w=e([-83.6106,-54.7785]),E=e([-80.0638,-35.984]),S=e([-76.2153,-36.1811]),_=e([-76.2994,-37.6839]),M=e([-80.2231,-37.4757]),N=e([-78.442,-37.706]),k=e([-76.263,-37.8054]),L=e([-76.344,-39.1595]),D=e([-78.5638,-39.0559]);g.moveTo(p[0],p[1]),g.lineTo(d[0],d[1]),g.lineTo(m[0],m[1]),g.lineTo(m[0],m[1]),g.lineTo(w[0],w[1]),g.closePath(),g.moveTo(E[0],E[1]),g.lineTo(S[0],S[1]),g.lineTo(_[0],_[1]),g.lineTo(_[0],_[1]),g.lineTo(M[0],M[1]),g.closePath(),g.moveTo(N[0],N[1]),g.lineTo(k[0],k[1]),g.lineTo(L[0],L[1]),g.lineTo(L[0],L[1]),g.lineTo(D[0],D[1]),g.closePath()},f.getCompositionBorders=function(){var g=xr();return this.drawCompositionBorders(g),g.toString()},f.scale(700)}function e4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function t4(){var n,r,e=pf().rotate([-136,-22]).parallels([40,34]),t,i=pf().rotate([-146,-26]).parallels([40,34]),a,o=pf().rotate([-126,-19]).parallels([40,34]),s,l,c={point:function(f,h){l=[f,h]}};function u(f){var h=f[0],g=f[1];return l=null,t.point(h,g),l||(a.point(h,g),l)||(s.point(h,g),l)}u.invert=function(f){var h=e.scale(),g=e.translate(),p=(f[0]-g[0])/h,d=(f[1]-g[1])/h;return(d>=-.10925&&d<-.02701&&p>=-.135&&p<-.0397?i:d>=.04713&&d<.11138&&p>=-.03986&&p<.051?o:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=e4([e.stream(r=f),i.stream(f),o.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),o.precision(f),v()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f),o.scale(f*.7),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var h=e.scale(),g=+f[0],p=+f[1];return t=e.translate(f).clipExtent([[g-.1352*h,p-.1091*h],[g+.117*h,p+.098*h]]).stream(c),a=i.translate([g-.0425*h,p-.005*h]).clipExtent([[g-.135*h+F,p-.1093*h+F],[g-.0397*h-F,p-.027*h-F]]).stream(c),s=o.translate(f).clipExtent([[g-.0399*h+F,p+.0471*h+F],[g+.051*h-F,p+.1114*h-F]]).stream(c),v()},u.fitExtent=function(f,h){return Pr(u,f,h)},u.fitSize=function(f,h){return Fr(u,f,h)};function v(){return n=r=null,u}return u.drawCompositionBorders=function(f){var h=e([126.01320483689143,41.621090310215585]),g=e([133.04304387025903,42.15087523707186]),p=e([133.3021766080688,37.43975444725098]),d=e([126.87889168628224,36.95488945159779]),m=e([132.9,29.8]),w=e([134,33]),E=e([139.3,33.2]),S=e([139.16,30.5]);f.moveTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.lineTo(p[0],p[1]),f.lineTo(d[0],d[1]),f.closePath(),f.moveTo(m[0],m[1]),f.lineTo(w[0],w[1]),f.lineTo(E[0],E[1]),f.lineTo(S[0],S[1])},u.getCompositionBorders=function(){var f=xr();return this.drawCompositionBorders(f),f.toString()},u.scale(2200)}function i4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function a4(){var n,r,e=Sr().rotate([-3,-46.2]).parallels([0,60]),t,i=On().center([-53.2,3.9]),a,o=On().center([-61.03,14.67]),s,l=On().center([-61.46,16.14]),c,u=On().center([-62.85,17.92]),v,f=On().center([-56.23,46.93]),h,g=On().center([45.16,-12.8]),p,d=On().center([55.52,-21.13]),m,w=On().center([165.8,-21.07]),E,S=On().center([-178.1,-14.3]),_,M=On().center([-150.55,-17.11]),N,k=On().center([-150.55,-17.11]),L,D,A={point:function($,y){D=[$,y]}};function C($){var y=$[0],P=$[1];return D=null,t.point(y,P),D||(a.point(y,P),D)||(s.point(y,P),D)||(c.point(y,P),D)||(v.point(y,P),D)||(h.point(y,P),D)||(p.point(y,P),D)||(m.point(y,P),D)||(E.point(y,P),D)||(_.point(y,P),D)||(N.point(y,P),D)||(L.point(y,P),D)}C.invert=function($){var y=e.scale(),P=e.translate(),x=($[0]-P[0])/y,O=($[1]-P[1])/y;return(O>=.029&&O<.0864&&x>=-.14&&x<-.0996?i:O>=0&&O<.029&&x>=-.14&&x<-.0996?o:O>=-.032&&O<0&&x>=-.14&&x<-.0996?l:O>=-.052&&O<-.032&&x>=-.14&&x<-.0996?u:O>=-.076&&O<.052&&x>=-.14&&x<-.0996?f:O>=-.076&&O<-.052&&x>=.0967&&x<.1371?g:O>=-.052&&O<-.02&&x>=.0967&&x<.1371?d:O>=-.02&&O<.012&&x>=.0967&&x<.1371?w:O>=.012&&O<.033&&x>=.0967&&x<.1371?S:O>=.033&&O<.0864&&x>=.0967&&x<.1371?M:e).invert($)},C.stream=function($){return n&&r===$?n:n=i4([e.stream(r=$),i.stream($),o.stream($),l.stream($),u.stream($),f.stream($),g.stream($),d.stream($),w.stream($),S.stream($),M.stream($),k.stream($)])},C.precision=function($){return arguments.length?(e.precision($),i.precision($),o.precision($),l.precision($),u.precision($),f.precision($),g.precision($),d.precision($),w.precision($),S.precision($),M.precision($),k.precision($),z()):e.precision()},C.scale=function($){return arguments.length?(e.scale($),i.scale($*.6),o.scale($*1.6),l.scale($*1.4),u.scale($*5),f.scale($*1.3),g.scale($*1.6),d.scale($*1.2),w.scale($*.3),S.scale($*2.7),M.scale($*.5),k.scale($*.06),C.translate(e.translate())):e.scale()},C.translate=function($){if(!arguments.length)return e.translate();var y=e.scale(),P=+$[0],x=+$[1];return t=e.translate($).clipExtent([[P-.0996*y,x-.0908*y],[P+.0967*y,x+.0864*y]]).stream(A),a=i.translate([P-.12*y,x+.0575*y]).clipExtent([[P-.14*y+F,x+.029*y+F],[P-.0996*y-F,x+.0864*y-F]]).stream(A),s=o.translate([P-.12*y,x+.013*y]).clipExtent([[P-.14*y+F,x+0*y+F],[P-.0996*y-F,x+.029*y-F]]).stream(A),c=l.translate([P-.12*y,x-.014*y]).clipExtent([[P-.14*y+F,x-.032*y+F],[P-.0996*y-F,x+0*y-F]]).stream(A),v=u.translate([P-.12*y,x-.044*y]).clipExtent([[P-.14*y+F,x-.052*y+F],[P-.0996*y-F,x-.032*y-F]]).stream(A),h=f.translate([P-.12*y,x-.065*y]).clipExtent([[P-.14*y+F,x-.076*y+F],[P-.0996*y-F,x-.052*y-F]]).stream(A),p=g.translate([P+.117*y,x-.064*y]).clipExtent([[P+.0967*y+F,x-.076*y+F],[P+.1371*y-F,x-.052*y-F]]).stream(A),m=d.translate([P+.116*y,x-.0355*y]).clipExtent([[P+.0967*y+F,x-.052*y+F],[P+.1371*y-F,x-.02*y-F]]).stream(A),E=w.translate([P+.116*y,x-.0048*y]).clipExtent([[P+.0967*y+F,x-.02*y+F],[P+.1371*y-F,x+.012*y-F]]).stream(A),_=S.translate([P+.116*y,x+.022*y]).clipExtent([[P+.0967*y+F,x+.012*y+F],[P+.1371*y-F,x+.033*y-F]]).stream(A),L=k.translate([P+.11*y,x+.045*y]).clipExtent([[P+.0967*y+F,x+.033*y+F],[P+.1371*y-F,x+.06*y-F]]).stream(A),N=M.translate([P+.115*y,x+.075*y]).clipExtent([[P+.0967*y+F,x+.06*y+F],[P+.1371*y-F,x+.0864*y-F]]).stream(A),z()},C.fitExtent=function($,y){return Pr(C,$,y)},C.fitSize=function($,y){return Fr(C,$,y)};function z(){return n=r=null,C}return C.drawCompositionBorders=function($){var y,P,x,O;y=e([-7.938886725111036,43.7219460918835]),P=e([-4.832080896458295,44.12930268549372]),x=e([-4.205299743793263,40.98096346967365]),O=e([-7.071796453126152,40.610037319181444]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([-8.42751373617692,45.32889452553031]),P=e([-5.18599305777107,45.7566442062976]),x=e([-4.832080905154431,44.129302726751426]),O=e([-7.938886737126192,43.72194613263854]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([-9.012656899657046,47.127733821030176]),P=e([-5.6105244772793155,47.579777861410626]),x=e([-5.185993067168585,45.756644248170346]),O=e([-8.427513749141811,45.32889456686326]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([-9.405747558985553,48.26506375557457]),P=e([-5.896175018439575,48.733352850851624]),x=e([-5.610524487556043,47.57977790393761]),O=e([-9.012656913808351,47.127733862971255]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([-9.908436061346974,49.642448789505856]),P=e([-6.262026716233124,50.131426841787174]),x=e([-5.896175029331232,48.73335289377258]),O=e([-9.40574757396393,48.26506379787767]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([11.996907706504462,50.16039028163579]),P=e([15.649907879773343,49.68279246765253]),x=e([15.156712840526632,48.30371557625831]),O=e([11.64122661754411,48.761078240546816]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([11.641226606955788,48.7610781975889]),P=e([15.156712825832164,48.30371553390465]),x=e([14.549932166241172,46.4866532486199]),O=e([11.204443787952183,46.91899233914248]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([11.204443778297161,46.918992296823646]),P=e([14.549932152815039,46.486653206856396]),x=e([13.994409796764009,44.695833444323256]),O=e([10.805306599253848,45.105133870684924]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([10.805306590412085,45.10513382903308]),P=e([13.99440978444733,44.695833403183606]),x=e([13.654633799024392,43.53552468558152]),O=e([10.561516803980956,43.930671459798624]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([10.561516795617383,43.93067141859757]),P=e([13.654633787361952,43.5355246448671]),x=e([12.867691604239901,40.640701985019405]),O=e([9.997809515987688,41.00288343254471]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([10.8,42.4]),P=e([12.8,42.13]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1])},C.getCompositionBorders=function(){var $=xr();return this.drawCompositionBorders($),$.toString()},C.scale(2700)}function o4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function u4(){var n,r,e=Sr().rotate([-10,-53]).parallels([0,60]),t,i=On().center([-61.46,16.14]),a,o=On().center([-53.2,3.9]),s,l=Sr().rotate([27.8,-38.9]).parallels([0,60]),c,u=Sr().rotate([25.43,-37.398]).parallels([0,60]),v,f=Sr().rotate([31.17,-39.539]).parallels([0,60]),h,g=Sr().rotate([17,-32.7]).parallels([0,60]),p,d=Sr().rotate([16,-28.5]).parallels([0,60]),m,w=On().center([-61.03,14.67]),E,S=On().center([45.16,-12.8]),_,M=On().center([55.52,-21.13]),N,k=Sr().rotate([-14.4,-35.95]).parallels([0,60]),L,D,A={point:function($,y){D=[$,y]}};function C($){var y=$[0],P=$[1];return D=null,t.point(y,P),D||(s.point(y,P),D)||(E.point(y,P),D)||(a.point(y,P),D)||(m.point(y,P),D)||(p.point(y,P),D)||(_.point(y,P),D)||(N.point(y,P),D)||(L.point(y,P),D)||(c.point(y,P),D)||(v.point(y,P),D)||(h.point(y,P),D)}C.invert=function($){var y=e.scale(),P=e.translate(),x=($[0]-(P[0]+.08*y))/y,O=($[1]-P[1])/y;return(O>=-.31&&O<-.24&&x>=.14&&x<.24?i:O>=-.24&&O<-.17&&x>=.14&&x<.24?o:O>=-.17&&O<-.12&&x>=.21&&x<.24?u:O>=-.17&&O<-.14&&x>=.14&&x<.165?f:O>=-.17&&O<-.1&&x>=.14&&x<.24?l:O>=-.1&&O<-.03&&x>=.14&&x<.24?g:O>=-.03&&O<.04&&x>=.14&&x<.24?d:O>=-.31&&O<-.24&&x>=.24&&x<.34?w:O>=-.24&&O<-.17&&x>=.24&&x<.34?S:O>=-.17&&O<-.1&&x>=.24&&x<.34?M:O>=-.1&&O<-.03&&x>=.24&&x<.34?k:e).invert($)},C.stream=function($){return n&&r===$?n:n=o4([e.stream(r=$),o.stream($),w.stream($),i.stream($),d.stream($),g.stream($),S.stream($),M.stream($),k.stream($),l.stream($),u.stream($),f.stream($)])},C.precision=function($){return arguments.length?(e.precision($),o.precision($),w.precision($),i.precision($),d.precision($),g.precision($),S.precision($),M.precision($),k.precision($),l.precision($),u.precision($),f.precision($),z()):e.precision()},C.scale=function($){return arguments.length?(e.scale($),i.scale($*3),o.scale($*.8),w.scale($*3.5),M.scale($*2.7),l.scale($*2),u.scale($*2),f.scale($*2),g.scale($*3),d.scale($),S.scale($*5.5),k.scale($*6),C.translate(e.translate())):e.scale()},C.translate=function($){if(!arguments.length)return e.translate();var y=e.scale(),P=+$[0],x=+$[1];return t=e.translate([P-.08*y,x]).clipExtent([[P-.51*y,x-.33*y],[P+.5*y,x+.33*y]]).stream(A),a=i.translate([P+.19*y,x-.275*y]).clipExtent([[P+.14*y+F,x-.31*y+F],[P+.24*y-F,x-.24*y-F]]).stream(A),s=o.translate([P+.19*y,x-.205*y]).clipExtent([[P+.14*y+F,x-.24*y+F],[P+.24*y-F,x-.17*y-F]]).stream(A),c=l.translate([P+.19*y,x-.135*y]).clipExtent([[P+.14*y+F,x-.17*y+F],[P+.24*y-F,x-.1*y-F]]).stream(A),v=u.translate([P+.225*y,x-.147*y]).clipExtent([[P+.21*y+F,x-.17*y+F],[P+.24*y-F,x-.12*y-F]]).stream(A),h=f.translate([P+.153*y,x-.15*y]).clipExtent([[P+.14*y+F,x-.17*y+F],[P+.165*y-F,x-.14*y-F]]).stream(A),p=g.translate([P+.19*y,x-.065*y]).clipExtent([[P+.14*y+F,x-.1*y+F],[P+.24*y-F,x-.03*y-F]]).stream(A),m=d.translate([P+.19*y,x+.005*y]).clipExtent([[P+.14*y+F,x-.03*y+F],[P+.24*y-F,x+.04*y-F]]).stream(A),E=w.translate([P+.29*y,x-.275*y]).clipExtent([[P+.24*y+F,x-.31*y+F],[P+.34*y-F,x-.24*y-F]]).stream(A),_=S.translate([P+.29*y,x-.205*y]).clipExtent([[P+.24*y+F,x-.24*y+F],[P+.34*y-F,x-.17*y-F]]).stream(A),N=M.translate([P+.29*y,x-.135*y]).clipExtent([[P+.24*y+F,x-.17*y+F],[P+.34*y-F,x-.1*y-F]]).stream(A),L=k.translate([P+.29*y,x-.065*y]).clipExtent([[P+.24*y+F,x-.1*y+F],[P+.34*y-F,x-.03*y-F]]).stream(A),z()},C.fitExtent=function($,y){return Pr(C,$,y)},C.fitSize=function($,y){return Fr(C,$,y)};function z(){return n=r=null,C}return C.drawCompositionBorders=function($){var y,P,x,O;y=e([42.45755610828648,63.343658547914934]),P=e([52.65837266667029,59.35045080290929]),x=e([47.19754502247785,56.12653496548117]),O=e([37.673034273363044,59.61638268506111]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([59.41110754003403,62.35069727399336]),P=e([66.75050228640794,57.11797303636038]),x=e([60.236065725110436,54.63331433818992]),O=e([52.65837313153311,59.350450804599355]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([48.81091130080243,66.93353402634641]),P=e([59.41110730654679,62.35069740653086]),x=e([52.6583728974441,59.3504509222445]),O=e([42.45755631675751,63.34365868805821]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([31.054198418446475,52.1080673766184]),P=e([39.09869284884117,49.400700047190554]),x=e([36.0580811499175,46.02944174908498]),O=e([28.690508588835726,48.433126979386415]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([33.977877745912025,55.849945501331]),P=e([42.75328432167726,52.78455122462353]),x=e([39.09869297540224,49.400700176148625]),O=e([31.05419851807008,52.10806751810923]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([52.658372900759296,59.35045068526415]),P=e([60.23606549583304,54.63331423800264]),x=e([54.6756370953122,51.892298789399455]),O=e([47.19754524788189,56.126534861222794]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([47.19754506082455,56.126534735591456]),P=e([54.675636900123514,51.892298681337095]),x=e([49.94448648951486,48.98775484983285]),O=e([42.75328468716108,52.78455126060818]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([42.75328453416769,52.78455113209101]),P=e([49.94448632339758,48.98775473706457]),x=e([45.912339990394315,45.99361784987003]),O=e([39.09869317356607,49.40070009378711]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([37.673034114296634,59.61638254183119]),P=e([47.197544835420544,56.126534839849846]),x=e([42.75328447467064,52.78455135314068]),O=e([33.977877870363905,55.849945644671145]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([44.56748486446032,57.26489367845818]),x=e([43.9335791193588,53.746540942601726]),O=e([43,56]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath(),y=e([37.673034114296634,59.61638254183119]),P=e([40.25902691953466,58.83002044222639]),x=e([38.458270492742024,57.26232178028002]),O=e([35.97754948030156,58.00266637992386]),$.moveTo(y[0],y[1]),$.lineTo(P[0],P[1]),$.lineTo(x[0],x[1]),$.lineTo(O[0],O[1]),$.closePath()},C.getCompositionBorders=function(){var $=xr();return this.drawCompositionBorders($),$.toString()},C.scale(750)}function f4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function l4(){var n,r,e=Sr().rotate([-5.5,-52.2]).parallels([0,60]),t,i=On().center([-68.25,12.2]),a,o=On().center([-63.1,17.5]),s,l,c={point:function(f,h){l=[f,h]}};function u(f){const[h,g]=f;return l=null,t.point(h,g),l||(a.point(h,g),l)||(s.point(h,g),l)}u.invert=function(f){var h=e.scale(),g=e.translate(),p=(f[0]-g[0])/h,d=(f[1]-g[1])/h;return(d>=-.0067&&d<.0015&&p>=-.0232&&p<-.0154?i:d>=-.022&&d<-.014&&p>=-.023&&p<-.014?o:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=f4([e.stream(r=f),i.stream(f),o.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),o.precision(f),v()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f),o.scale(f),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();const h=e.scale(),g=+f[0],p=+f[1];return t=e.translate(f).clipExtent([[g-.0245*h,p-.026*h],[g+.023*h,p+.026*h]]).stream(c),a=i.translate([g-.0186*h,p-.00325*h]).clipExtent([[g-.0232*h+F,p-.0067*h+F],[g-.0154*h-F,p+.0015*h-F]]).stream(c),s=o.translate([g-.0185*h,p-.017*h]).clipExtent([[g-.023*h+F,p-.022*h+F],[g-.014*h-F,p-.014*h-F]]).stream(c),v()},u.fitExtent=function(f,h){return Pr(u,f,h)},u.fitSize=function(f,h){return Fr(u,f,h)};function v(){return n=r=null,u}return u.drawCompositionBorders=function(f){var h=e([3.30573,52.5562]),g=e([4.043,52.572]),p=e([4.0646,52.1017]),d=e([3.3382,52.0861]),m=e([3.262,53.439]),w=e([4.1373,53.4571]),E=e([4.1574,52.9946]),S=e([3.2951,52.9768]);f.moveTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.lineTo(p[0],p[1]),f.lineTo(p[0],p[1]),f.lineTo(d[0],d[1]),f.closePath(),f.moveTo(m[0],m[1]),f.lineTo(w[0],w[1]),f.lineTo(E[0],E[1]),f.lineTo(E[0],E[1]),f.lineTo(S[0],S[1]),f.closePath()},u.getCompositionBorders=function(){var f=xr();return this.drawCompositionBorders(f),f.toString()},u.scale(4200)}function s4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function c4(){var n,r,e=On().center([105.25,4]),t,i=On().center([118.65,2.86]),a,o,s={point:function(u,v){o=[u,v]}};function l(u){var v=u[0],f=u[1];return o=null,t.point(v,f),o||(a.point(v,f),o)}l.invert=function(u){var v=e.scale(),f=e.translate(),h=(u[0]-f[0])/v,g=(u[1]-f[1])/v;return(g>=-.0521&&g<.0229&&h>=-.0111&&h<.1?i:e).invert(u)},l.stream=function(u){return n&&r===u?n:n=s4([e.stream(r=u),i.stream(u)])},l.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},l.scale=function(u){return arguments.length?(e.scale(u),i.scale(u*.615),l.translate(e.translate())):e.scale()},l.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),f=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[f-.11*v,h-.0521*v],[f-.0111*v,h+.0521*v]]).stream(s),a=i.translate([f+.09*v,h-0*v]).clipExtent([[f-.0111*v+F,h-.0521*v+F],[f+.1*v-F,h+.024*v-F]]).stream(s),c()},l.fitExtent=function(u,v){return Pr(l,u,v)},l.fitSize=function(u,v){return Fr(l,u,v)};function c(){return n=r=null,l}return l.drawCompositionBorders=function(u){var v=e([106.3214,2.0228]),f=e([105.1843,2.3761]),h=e([104.2151,3.3618]),g=e([104.215,4.5651]);u.moveTo(v[0],v[1]),u.lineTo(f[0],f[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1])},l.getCompositionBorders=function(){var u=xr();return this.drawCompositionBorders(u),u.toString()},l.scale(4800)}function v4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function h4(){var n,r,e=On().rotate([-9.5,-1.5]),t,i=On().rotate([-8.6,-3.5]),a,o=On().rotate([-5.6,1.45]),s,l,c={point:function(f,h){l=[f,h]}};function u(f){var h=f[0],g=f[1];return l=null,t.point(h,g),l||(a.point(h,g),l)||(s.point(h,g),l)}u.invert=function(f){var h=e.scale(),g=e.translate(),p=(f[0]-g[0])/h,d=(f[1]-g[1])/h;return(d>=-.02&&d<0&&p>=-.038&&p<-.005?i:d>=0&&d<.02&&p>=-.038&&p<-.005?o:e).invert(f)},u.stream=function(f){return n&&r===f?n:n=v4([e.stream(r=f),i.stream(f),o.stream(f)])},u.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),o.precision(f),v()):e.precision()},u.scale=function(f){return arguments.length?(e.scale(f),i.scale(f*1.5),o.scale(f*4),u.translate(e.translate())):e.scale()},u.translate=function(f){if(!arguments.length)return e.translate();var h=e.scale(),g=+f[0],p=+f[1];return t=e.translate(f).clipExtent([[g-.005*h,p-.02*h],[g+.038*h,p+.02*h]]).stream(c),a=i.translate([g-.025*h,p-.01*h]).clipExtent([[g-.038*h+F,p-.02*h+F],[g-.005*h-F,p+0*h-F]]).stream(c),s=o.translate([g-.025*h,p+.01*h]).clipExtent([[g-.038*h+F,p-0*h+F],[g-.005*h-F,p+.02*h-F]]).stream(c),v()},u.fitExtent=function(f,h){return Pr(u,f,h)},u.fitSize=function(f,h){return Fr(u,f,h)};function v(){return n=r=null,u}return u.drawCompositionBorders=function(f){var h,g,p,d;h=e([9.21327272751682,2.645820439454123]),g=e([11.679126293239872,2.644755519268689]),p=e([11.676845389029227,.35307824637606433]),d=e([9.213572917774014,.35414205204417754]),f.moveTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.lineTo(p[0],p[1]),f.lineTo(d[0],d[1]),f.closePath(),h=e([7.320873711543669,2.64475551449975]),g=e([9.213272722738658,2.645820434679803]),p=e([9.213422896480349,1.4999812505283054]),d=e([7.322014760520787,1.4989168878985566]),f.moveTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.lineTo(p[0],p[1]),f.lineTo(d[0],d[1]),f.closePath(),h=e([7.3220147605302905,1.4989168783492766]),g=e([9.213422896481598,1.499981240979021]),p=e([9.213572912999604,.354142056817247]),d=e([7.323154615739809,.353078251154504]),f.moveTo(h[0],h[1]),f.lineTo(g[0],g[1]),f.lineTo(p[0],p[1]),f.lineTo(d[0],d[1]),f.closePath()},u.getCompositionBorders=function(){var f=xr();return this.drawCompositionBorders(f),f.toString()},u.scale(12e3)}function g4(n){var r=n.length;return{point:function(e,t){for(var i=-1;++i<r;)n[i].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}}}function p4(){var n,r,e=nu().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),t,i=nu().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a,o,s={point:function(u,v){o=[u,v]}};function l(u){var v=u[0],f=u[1];return o=null,t.point(v,f),o||(a.point(v,f),o)}l.invert=function(u){var v=e.scale(),f=e.translate(),h=(u[0]-f[0])/v,g=(u[1]-f[1])/v;return(g>=-.089&&g<.06&&h>=.029&&h<.046?i:e).invert(u)},l.stream=function(u){return n&&r===u?n:n=g4([e.stream(r=u),i.stream(u)])},l.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},l.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),l.translate(e.translate())):e.scale()},l.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),f=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[f-.065*v,h-.089*v],[f+.075*v,h+.089*v]]).stream(s),a=i.translate([f+.01*v,h+.025*v]).clipExtent([[f+.029*v+F,h-.089*v+F],[f+.046*v-F,h-.06*v-F]]).stream(s),c()},l.fitExtent=function(u,v){return Pr(l,u,v)},l.fitSize=function(u,v){return Fr(l,u,v)};function c(){return n=r=null,l}return l.drawCompositionBorders=function(u){var v,f,h,g;v=e([-1.113205870242365,59.64920050773357]),f=e([.807899092399606,59.59085836472269]),h=e([.5778611961420386,57.93467822832577]),g=e([-1.25867782078448,57.99029450085142]),u.moveTo(v[0],v[1]),u.lineTo(f[0],f[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1]),u.closePath()},l.getCompositionBorders=function(){var u=xr();return this.drawCompositionBorders(u),u.toString()},l.scale(2800)}var d4=Object.freeze(Object.defineProperty({__proto__:null,geoAlbersUsa:Y3,geoAlbersUsaTerritories:X3,geoConicConformalSpain:j3,geoConicConformalPortugal:K3,geoMercatorEcuador:Q3,geoTransverseMercatorChile:r4,geoConicEquidistantJapan:t4,geoConicConformalFrance:a4,geoConicConformalEurope:u4,geoConicConformalNetherlands:l4,geoMercatorMalaysia:c4,geoMercatorEquatorialGuinea:h4,geoAlbersUk:p4},Symbol.toStringTag,{value:"Module"})),m4=Le(d4);Object.defineProperty(Cu,"__esModule",{value:!0});var Rc=En,Y1=ln,df=Rc.__importStar(ji),mf=Rc.__importStar(up),yf=Rc.__importStar(m4);Cu.default=function(n,r){if(r===void 0&&(r=!1),Y1.isFunction(n))return r?n:n();if(Y1.isString(n)){if(df[n])return r?df[n]:df[n]();if(mf[n])return r?mf[n]:mf[n]();if(yf[n])return r?yf[n]:yf[n]()}return null};var y4=En,w4=ln,ye=ji,V1=up,E4=Je,ti=y4.__importDefault(Cu),S4={geoArea:function(n){return ye.geoArea(n)},geoAreaByName:function(n){return ye.geoArea(this.geoFeatureByName(n))},geoCentroid:function(n){return ye.geoCentroid(n)},geoCentroidByName:function(n){return ye.geoCentroid(this.geoFeatureByName(n))},geoDistance:function(n,r){return ye.geoDistance(n,r)},geoLength:function(n){return ye.geoLength(n)},geoLengthByName:function(n){return ye.geoLength(this.geoFeatureByName(n))},geoContains:function(n,r){return ye.geoContains(n,r)},geoFeatureByName:function(n){var r=this.rows,e;return r.some(function(t){return t.name===n?(e=t,!0):!1}),e},geoFeatureByPosition:function(n){var r=this.rows,e;return r.some(function(t){return ye.geoContains(t,n)?(e=t,!0):!1}),e},geoNameByPosition:function(n){var r=this.geoFeatureByPosition(n);if(r)return r.name},getGeoProjection:ti.default,geoProject:function(n,r,e){return r=ti.default(r,e),V1.geoProject(n,r)},geoProjectByName:function(n,r,e){return r=ti.default(r,e),V1.geoProject(this.geoFeatureByName(n),r)},geoProjectPosition:function(n,r,e){var t=ti.default(r,e);return t(n)},geoProjectInvert:function(n,r,e){var t=ti.default(r,e);return t.invert(n)}};w4.assign(E4.View.prototype,S4);var Sp=ln,Hl=Je;Sp.assign(Hl.View.prototype,{getAllNodes:function(){var n=[],r=this.root;return r&&r.each?r.each(function(e){n.push(e)}):r&&r.eachNode&&r.eachNode(function(e){n.push(e)}),n},getAllLinks:function(){for(var n=[],r=[this.root],e;e=r.pop();){var t=e.children;t&&t.forEach(function(i){n.push({source:e,target:i}),r.push(i)})}return n}});Sp.assign(Hl.View.prototype,{getAllEdges:Hl.View.prototype.getAllLinks});var qr={},Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});var wf=ln;function $4(n,r){r===void 0&&(r=[]);var e=void 0;return wf.isFunction(r)?e=r:wf.isArray(r)?e=function(t,i){for(var a=0;a<r.length;a++){var o=r[a];if(t[o]<i[o])return-1;if(t[o]>i[o])return 1}return 0}:wf.isString(r)&&(e=function(t,i){return t[r]<i[r]?-1:t[r]>i[r]?1:0}),n.sort(e)}Cc.default=$4;Object.defineProperty(qr,"__esModule",{value:!0});var _4=En,xa=ln,T4=_4.__importDefault(Cc);qr.default=function(n,r,e){e===void 0&&(e=[]);var t=n;e&&e.length&&(t=T4.default(n,e));var i;xa.isFunction(r)?i=r:xa.isArray(r)?i=function(o){return"_"+r.map(function(s){return o[s]}).join("-")}:xa.isString(r)&&(i=function(o){return"_"+o[r]});var a=xa.groupBy(t,i);return a};var M4=En,X1=ln,P4=M4.__importDefault(qr),x4=Je;X1.assign(x4.View.prototype,{partition:function(n,r){return r===void 0&&(r=[]),P4.default(this.rows,n,r)},group:function(n,r){r===void 0&&(r=[]);var e=this.partition(n,r);return X1.values(e)},groups:function(n,r){return r===void 0&&(r=[]),this.group(n,r)}});var ie={exports:{}};(function(n,r){(function(e,t){t(r)})(hu,function(e){function t(T){if(T.length===0)return 0;for(var R,b=T[0],I=0,U=1;U<T.length;U++)R=b+T[U],Math.abs(b)>=Math.abs(T[U])?I+=b-R+T[U]:I+=T[U]-R+b,b=R;return b+I}function i(T){if(T.length===0)throw new Error("mean requires at least one data point");return t(T)/T.length}function a(T,R){var b,I,U=i(T),V=0;if(R===2)for(I=0;I<T.length;I++)V+=(b=T[I]-U)*b;else for(I=0;I<T.length;I++)V+=Math.pow(T[I]-U,R);return V}function o(T){if(T.length===0)throw new Error("variance requires at least one data point");return a(T,2)/T.length}function s(T){if(T.length===1)return 0;var R=o(T);return Math.sqrt(R)}function l(T){if(T.length===0)throw new Error("mode requires at least one data point");if(T.length===1)return T[0];for(var R=T[0],b=NaN,I=0,U=1,V=1;V<T.length+1;V++)T[V]!==R?(I<U&&(I=U,b=R),U=1,R=T[V]):U++;return b}function c(T){return T.slice().sort(function(R,b){return R-b})}function u(T){if(T.length===0)throw new Error("min requires at least one data point");for(var R=T[0],b=1;b<T.length;b++)T[b]<R&&(R=T[b]);return R}function v(T){if(T.length===0)throw new Error("max requires at least one data point");for(var R=T[0],b=1;b<T.length;b++)T[b]>R&&(R=T[b]);return R}function f(T,R){var b=T.length*R;if(T.length===0)throw new Error("quantile requires at least one data point.");if(R<0||1<R)throw new Error("quantiles must be between 0 and 1");return R===1?T[T.length-1]:R===0?T[0]:b%1!=0?T[Math.ceil(b)-1]:T.length%2==0?(T[b-1]+T[b])/2:T[b]}function h(T,R,b,I){for(b=b||0,I=I||T.length-1;b<I;){if(600<I-b){var U=I-b+1,V=R-b+1,K=Math.log(U),j=.5*Math.exp(2*K/3),Z=.5*Math.sqrt(K*j*(U-j)/U);V-U/2<0&&(Z*=-1),h(T,R,Math.max(b,Math.floor(R-V*j/U+Z)),Math.min(I,Math.floor(R+(U-V)*j/U+Z)))}var dn=T[R],Un=b,In=I;for(g(T,b,R),T[I]>dn&&g(T,b,I);Un<In;){for(g(T,Un,In),Un++,In--;T[Un]<dn;)Un++;for(;T[In]>dn;)In--}T[b]===dn?g(T,b,In):g(T,++In,I),In<=R&&(b=In+1),R<=In&&(I=In-1)}}function g(T,R,b){var I=T[R];T[R]=T[b],T[b]=I}function p(T,R){var b=T.slice();if(Array.isArray(R)){(function(V,K){for(var j=[0],Z=0;Z<K.length;Z++)j.push(w(V.length,K[Z]));j.push(V.length-1),j.sort(m);for(var dn=[0,j.length-1];dn.length;){var Un=Math.ceil(dn.pop()),In=Math.floor(dn.pop());if(!(Un-In<=1)){var rr=Math.floor((In+Un)/2);d(V,j[rr],j[In],j[Un]),dn.push(In,rr,rr,Un)}}})(b,R);for(var I=[],U=0;U<R.length;U++)I[U]=f(b,R[U]);return I}return d(b,w(b.length,R),0,b.length-1),f(b,R)}function d(T,R,b,I){R%1==0?h(T,R,b,I):(h(T,R=Math.floor(R),b,I),h(T,R+1,R+1,I))}function m(T,R){return T-R}function w(T,R){var b=T*R;return R===1?T-1:R===0?0:b%1!=0?Math.ceil(b)-1:T%2==0?b-.5:b}function E(T,R){if(R<T[0])return 0;if(R>T[T.length-1])return 1;var b=function(V,K){for(var j=0,Z=0,dn=V.length;Z<dn;)K<=V[j=Z+dn>>>1]?dn=j:Z=-~j;return Z}(T,R);if(T[b]!==R)return b/T.length;b++;var I=function(V,K){for(var j=0,Z=0,dn=V.length;Z<dn;)K>=V[j=Z+dn>>>1]?Z=-~j:dn=j;return Z}(T,R);if(I===b)return b/T.length;var U=I-b+1;return U*(I+b)/2/U/T.length}function S(T){var R=p(T,.75),b=p(T,.25);if(typeof R=="number"&&typeof b=="number")return R-b}function _(T){return+p(T,.5)}function M(T){for(var R=_(T),b=[],I=0;I<T.length;I++)b.push(Math.abs(T[I]-R));return _(b)}function N(T,R){R=R||Math.random;for(var b,I,U=T.length;0<U;)I=Math.floor(R()*U--),b=T[U],T[U]=T[I],T[I]=b;return T}function k(T,R){return N(T.slice().slice(),R)}function L(T){for(var R,b=0,I=0;I<T.length;I++)I!==0&&T[I]===R||(R=T[I],b++);return b}function D(T,R){for(var b=[],I=0;I<T;I++){for(var U=[],V=0;V<R;V++)U.push(0);b.push(U)}return b}function A(T,R,b,I){var U;if(0<T){var V=(b[R]-b[T-1])/(R-T+1);U=I[R]-I[T-1]-(R-T+1)*V*V}else U=I[R]-b[R]*b[R]/(R+1);return U<0?0:U}function C(T,R,b,I,U,V,K){if(!(R<T)){var j=Math.floor((T+R)/2);I[b][j]=I[b-1][j-1],U[b][j]=j;var Z=b;b<T&&(Z=Math.max(Z,U[b][T-1]||0)),Z=Math.max(Z,U[b-1][j]||0);var dn,Un,In,rr=j-1;R<I.length-1&&(rr=Math.min(rr,U[b][R+1]||0));for(var oe=rr;Z<=oe&&!((dn=A(oe,j,V,K))+I[b-1][Z-1]>=I[b][j]);--oe)(Un=A(Z,j,V,K)+I[b-1][Z-1])<I[b][j]&&(I[b][j]=Un,U[b][j]=Z),Z++,(In=dn+I[b-1][oe-1])<I[b][j]&&(I[b][j]=In,U[b][j]=oe);C(T,j-1,b,I,U,V,K),C(j+1,R,b,I,U,V,K)}}function z(T,R){if(T.length!==R.length)throw new Error("sampleCovariance requires samples with equal lengths");if(T.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var b=i(T),I=i(R),U=0,V=0;V<T.length;V++)U+=(T[V]-b)*(R[V]-I);return U/(T.length-1)}function $(T){if(T.length<2)throw new Error("sampleVariance requires at least two data points");return a(T,2)/(T.length-1)}function y(T){var R=$(T);return Math.sqrt(R)}function P(T,R,b,I){return(T*R+b*I)/(R+I)}function x(T){if(T.length===0)throw new Error("rootMeanSquare requires at least one data point");for(var R=0,b=0;b<T.length;b++)R+=Math.pow(T[b],2);return Math.sqrt(R/T.length)}function O(){this.totalCount=0,this.data={}}function J(){this.weights=[],this.bias=0}O.prototype.train=function(T,R){for(var b in this.data[R]||(this.data[R]={}),T){var I=T[b];this.data[R][b]===void 0&&(this.data[R][b]={}),this.data[R][b][I]===void 0&&(this.data[R][b][I]=0),this.data[R][b][I]++}this.totalCount++},O.prototype.score=function(T){var R,b={};for(var I in T){var U=T[I];for(R in this.data)b[R]={},this.data[R][I]?b[R][I+"_"+U]=(this.data[R][I][U]||0)/this.totalCount:b[R][I+"_"+U]=0}var V={};for(R in b)for(var K in V[R]=0,b[R])V[R]+=b[R][K];return V},J.prototype.predict=function(T){if(T.length!==this.weights.length)return null;for(var R=0,b=0;b<this.weights.length;b++)R+=this.weights[b]*T[b];return 0<(R+=this.bias)?1:0},J.prototype.train=function(T,R){if(R!==0&&R!==1)return null;T.length!==this.weights.length&&(this.weights=T,this.bias=1);var b=this.predict(T);if(b!==R){for(var I=R-b,U=0;U<this.weights.length;U++)this.weights[U]+=I*T[U];this.bias+=I}return this};var cn=1e-4;function rn(T){if(T<0)throw new Error("factorial requires a non-negative value");if(Math.floor(T)!==T)throw new Error("factorial requires an integer input");for(var R=1,b=2;b<=T;b++)R*=b;return R}var sn=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],mn=Math.log(Math.sqrt(2*Math.PI)),zn={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},Bn=Math.sqrt(2*Math.PI),Ke={gaussian:function(T){return Math.exp(-.5*T*T)/Bn}},Uu={nrd:function(T){var R=y(T),b=S(T);return typeof b=="number"&&(R=Math.min(R,b/1.34)),1.06*R*Math.pow(T.length,-.2)}};function f0(T,R,b){var I,U;if(R===void 0)I=Ke.gaussian;else if(typeof R=="string"){if(!Ke[R])throw new Error('Unknown kernel "'+R+'"');I=Ke[R]}else I=R;if(b===void 0)U=Uu.nrd(T);else if(typeof b=="string"){if(!Uu[b])throw new Error('Unknown bandwidth method "'+b+'"');U=Uu[b](T)}else U=b;return function(V){var K=0,j=0;for(K=0;K<T.length;K++)j+=I((V-T[K])/U);return j/U/T.length}}var E2=Math.sqrt(2*Math.PI);function S2(T){for(var R=T,b=T,I=1;I<15;I++)R+=b*=T*T/(2*I+1);return Math.round(1e4*(.5+R/E2*Math.exp(-T*T/2)))/1e4}for(var Qt=[],Hu=0;Hu<=3.09;Hu+=.01)Qt.push(S2(Hu));function l0(T){var R=1/(1+.5*Math.abs(T)),b=R*Math.exp(-Math.pow(T,2)-1.26551223+1.00002368*R+.37409196*Math.pow(R,2)+.09678418*Math.pow(R,3)-.18628806*Math.pow(R,4)+.27886807*Math.pow(R,5)-1.13520398*Math.pow(R,6)+1.48851587*Math.pow(R,7)-.82215223*Math.pow(R,8)+.17087277*Math.pow(R,9));return 0<=T?1-b:b-1}function s0(T){var R=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),b=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*R)+Math.log(1-T*T)/2,2)-Math.log(1-T*T)/R)-(2/(Math.PI*R)+Math.log(1-T*T)/2));return 0<=T?b:-b}function Yu(T){if(typeof T=="number")return T<0?-1:T===0?0:1;throw new TypeError("not a number")}e.linearRegression=function(T){var R,b,I=T.length;if(I===1)b=T[R=0][1];else{for(var U,V,K,j=0,Z=0,dn=0,Un=0,In=0;In<I;In++)j+=V=(U=T[In])[0],Z+=K=U[1],dn+=V*V,Un+=V*K;b=Z/I-(R=(I*Un-j*Z)/(I*dn-j*j))*j/I}return{m:R,b}},e.linearRegressionLine=function(T){return function(R){return T.b+T.m*R}},e.standardDeviation=s,e.rSquared=function(T,R){if(T.length<2)return 1;for(var b,I=0,U=0;U<T.length;U++)I+=T[U][1];b=I/T.length;for(var V=0,K=0;K<T.length;K++)V+=Math.pow(b-T[K][1],2);for(var j=0,Z=0;Z<T.length;Z++)j+=Math.pow(T[Z][1]-R(T[Z][0]),2);return 1-j/V},e.mode=function(T){return l(c(T))},e.modeFast=function(T){for(var R,b=new Map,I=0,U=0;U<T.length;U++){var V=b.get(T[U]);V===void 0?V=1:V++,I<V&&(R=T[U],I=V),b.set(T[U],V)}if(I===0)throw new Error("mode requires at last one data point");return R},e.modeSorted=l,e.min=u,e.max=v,e.extent=function(T){if(T.length===0)throw new Error("extent requires at least one data point");for(var R=T[0],b=T[0],I=1;I<T.length;I++)T[I]>b&&(b=T[I]),T[I]<R&&(R=T[I]);return[R,b]},e.minSorted=function(T){return T[0]},e.maxSorted=function(T){return T[T.length-1]},e.extentSorted=function(T){return[T[0],T[T.length-1]]},e.sum=t,e.sumSimple=function(T){for(var R=0,b=0;b<T.length;b++)R+=T[b];return R},e.product=function(T){for(var R=1,b=0;b<T.length;b++)R*=T[b];return R},e.quantile=p,e.quantileSorted=f,e.quantileRank=function(T,R){return E(c(T),R)},e.quantileRankSorted=E,e.interquartileRange=S,e.iqr=S,e.medianAbsoluteDeviation=M,e.mad=M,e.chunk=function(T,R){var b=[];if(R<1)throw new Error("chunk size must be a positive number");if(Math.floor(R)!==R)throw new Error("chunk size must be an integer");for(var I=0;I<T.length;I+=R)b.push(T.slice(I,I+R));return b},e.sampleWithReplacement=function(T,R,b){if(T.length===0)return[];b=b||Math.random;for(var I=T.length,U=[],V=0;V<R;V++){var K=Math.floor(b()*I);U.push(T[K])}return U},e.shuffle=k,e.shuffleInPlace=N,e.sample=function(T,R,b){return k(T,b).slice(0,R)},e.ckmeans=function(T,R){if(R>T.length)throw new Error("cannot generate more classes than there are data values");var b=c(T);if(L(b)===1)return[b];var I=D(R,b.length),U=D(R,b.length);(function(dn,Un,In){for(var rr,oe=Un[0].length,$2=dn[Math.floor(oe/2)],ni=[],ri=[],me=0;me<oe;++me)rr=dn[me]-$2,me===0?(ni.push(rr),ri.push(rr*rr)):(ni.push(ni[me-1]+rr),ri.push(ri[me-1]+rr*rr)),Un[0][me]=A(0,me,ni,ri),In[0][me]=0;for(var ei=1;ei<Un.length;++ei)C(ei<Un.length-1?ei:oe-1,oe-1,ei,Un,In,ni,ri)})(b,I,U);for(var V=[],K=U[0].length-1,j=U.length-1;0<=j;j--){var Z=U[j][K];V[j]=b.slice(Z,K+1),0<j&&(K=Z-1)}return V},e.uniqueCountSorted=L,e.sumNthPowerDeviations=a,e.equalIntervalBreaks=function(T,R){if(T.length<2)return T;for(var b=u(T),I=v(T),U=[b],V=(I-b)/R,K=1;K<R;K++)U.push(U[0]+V*K);return U.push(I),U},e.sampleCovariance=z,e.sampleCorrelation=function(T,R){return z(T,R)/y(T)/y(R)},e.sampleVariance=$,e.sampleStandardDeviation=y,e.sampleSkewness=function(T){if(T.length<3)throw new Error("sampleSkewness requires at least three data points");for(var R,b=i(T),I=0,U=0,V=0;V<T.length;V++)I+=(R=T[V]-b)*R,U+=R*R*R;var K=T.length-1,j=Math.sqrt(I/K),Z=T.length;return Z*U/((Z-1)*(Z-2)*Math.pow(j,3))},e.sampleKurtosis=function(T){var R=T.length;if(R<4)throw new Error("sampleKurtosis requires at least four data points");for(var b,I=i(T),U=0,V=0,K=0;K<R;K++)U+=(b=T[K]-I)*b,V+=b*b*b*b;return(R-1)/((R-2)*(R-3))*(R*(R+1)*V/(U*U)-3*(R-1))},e.permutationsHeap=function(T){for(var R=new Array(T.length),b=[T.slice()],I=0;I<T.length;I++)R[I]=0;for(I=0;I<T.length;)if(R[I]<I){var U=0;I%2!=0&&(U=R[I]);var V=T[U];T[U]=T[I],T[I]=V,b.push(T.slice()),R[I]++,I=0}else R[I]=0,I++;return b},e.combinations=function T(R,b){var I,U,V,K,j=[];for(I=0;I<R.length;I++)if(b===1)j.push([R[I]]);else for(V=T(R.slice(I+1,R.length),b-1),U=0;U<V.length;U++)(K=V[U]).unshift(R[I]),j.push(K);return j},e.combinationsReplacement=function T(R,b){for(var I=[],U=0;U<R.length;U++)if(b===1)I.push([R[U]]);else for(var V=T(R.slice(U,R.length),b-1),K=0;K<V.length;K++)I.push([R[U]].concat(V[K]));return I},e.addToMean=function(T,R,b){return T+(b-T)/(R+1)},e.combineMeans=P,e.combineVariances=function(T,R,b,I,U,V){var K=P(R,b,U,V);return(b*(T+Math.pow(R-K,2))+V*(I+Math.pow(U-K,2)))/(b+V)},e.geometricMean=function(T){if(T.length===0)throw new Error("geometricMean requires at least one data point");for(var R=1,b=0;b<T.length;b++){if(T[b]<=0)throw new Error("geometricMean requires only positive numbers as input");R*=T[b]}return Math.pow(R,1/T.length)},e.harmonicMean=function(T){if(T.length===0)throw new Error("harmonicMean requires at least one data point");for(var R=0,b=0;b<T.length;b++){if(T[b]<=0)throw new Error("harmonicMean requires only positive numbers as input");R+=1/T[b]}return T.length/R},e.average=i,e.mean=i,e.median=_,e.medianSorted=function(T){return f(T,.5)},e.subtractFromMean=function(T,R,b){return(T*R-b)/(R-1)},e.rootMeanSquare=x,e.rms=x,e.variance=o,e.tTest=function(T,R){return(i(T)-R)/(s(T)/Math.sqrt(T.length))},e.tTestTwoSample=function(T,R,b){var I=T.length,U=R.length;if(!I||!U)return null;b||(b=0);var V=i(T),K=i(R),j=$(T),Z=$(R);if(typeof V=="number"&&typeof K=="number"&&typeof j=="number"&&typeof Z=="number"){var dn=((I-1)*j+(U-1)*Z)/(I+U-2);return(V-K-b)/Math.sqrt(dn*(1/I+1/U))}},e.BayesianClassifier=O,e.bayesian=O,e.PerceptronModel=J,e.perceptron=J,e.epsilon=cn,e.factorial=rn,e.gamma=function T(R){if(typeof(b=R)=="number"&&isFinite(b)&&Math.floor(b)===b)return R<=0?NaN:rn(R-1);var b;if(--R<0)return Math.PI/(Math.sin(Math.PI*-R)*T(-R));var I=R+.25;return Math.pow(R/Math.E,R)*Math.sqrt(2*Math.PI*(R+1/6))*(1+1/144/Math.pow(I,2)-1/12960/Math.pow(I,3)-257/207360/Math.pow(I,4)-52/2612736/Math.pow(I,5)+5741173/9405849600/Math.pow(I,6)+37529/18811699200/Math.pow(I,7))},e.gammaln=function(T){if(T<=0)return 1/0;T--;for(var R=sn[0],b=1;b<15;b++)R+=sn[b]/(T+b);var I=5.2421875+T;return mn+Math.log(R)-I+(T+.5)*Math.log(I)},e.bernoulliDistribution=function(T){if(T<0||1<T)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-T,T]},e.binomialDistribution=function(T,R){if(!(R<0||1<R||T<=0||T%1!=0)){for(var b=0,I=0,U=[],V=1;U[b]=V*Math.pow(R,b)*Math.pow(1-R,T-b),I+=U[b],V=V*(T-++b+1)/b,I<1-cn;);return U}},e.poissonDistribution=function(T){if(!(T<=0)){for(var R=0,b=0,I=[],U=1;I[R]=Math.exp(-T)*Math.pow(T,R)/U,b+=I[R],U*=++R,b<1-cn;);return I}},e.chiSquaredDistributionTable=zn,e.chiSquaredGoodnessOfFit=function(T,R,b){for(var I,U,V=0,K=R(i(T)),j=[],Z=[],dn=0;dn<T.length;dn++)j[T[dn]]===void 0&&(j[T[dn]]=0),j[T[dn]]++;for(dn=0;dn<j.length;dn++)j[dn]===void 0&&(j[dn]=0);for(U in K)U in j&&(Z[+U]=K[U]*T.length);for(U=Z.length-1;0<=U;U--)Z[U]<3&&(Z[U-1]+=Z[U],Z.pop(),j[U-1]+=j[U],j.pop());for(U=0;U<j.length;U++)V+=Math.pow(j[U]-Z[U],2)/Z[U];return I=j.length-1-1,zn[I][b]<V},e.kernelDensityEstimation=f0,e.kde=f0,e.zScore=function(T,R,b){return(T-R)/b},e.cumulativeStdNormalProbability=function(T){var R=Math.abs(T),b=Math.min(Math.round(100*R),Qt.length-1);return 0<=T?Qt[b]:+(1-Qt[b]).toFixed(4)},e.standardNormalTable=Qt,e.errorFunction=l0,e.erf=l0,e.inverseErrorFunction=s0,e.probit=function(T){return T===0?T=cn:1<=T&&(T=1-cn),Math.sqrt(2)*s0(2*T-1)},e.permutationTest=function(T,R,b,I){if(I===void 0&&(I=1e4),b===void 0&&(b="two_side"),b!=="two_side"&&b!=="greater"&&b!=="less")throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var U=i(T)-i(R),V=new Array(I),K=T.concat(R),j=Math.floor(K.length/2),Z=0;Z<I;Z++){N(K);var dn=K.slice(0,j),Un=K.slice(j,K.length),In=i(dn)-i(Un);V[Z]=In}var rr=0;if(b==="two_side")for(Z=0;Z<=I;Z++)Math.abs(V[Z])>=Math.abs(U)&&(rr+=1);else if(b==="greater")for(Z=0;Z<=I;Z++)V[Z]>=U&&(rr+=1);else for(Z=0;Z<=I;Z++)V[Z]<=U&&(rr+=1);return rr/I},e.bisect=function(T,R,b,I,U){if(typeof T!="function")throw new TypeError("func must be a function");for(var V=0;V<I;V++){var K=(R+b)/2;if(T(K)===0||Math.abs((b-R)/2)<U)return K;Yu(T(K))===Yu(T(R))?R=K:b=K}throw new Error("maximum number of iterations exceeded")},e.quickselect=h,e.sign=Yu,e.numericSort=c,Object.defineProperty(e,"__esModule",{value:!0})})})(ie,ie.exports);var bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.default=function(n){for(var r=1/n,e=[],t=0;t<=1;t=t+r)e.push(t);return e};var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]};var kc=En,$p=kc.__importStar(ie.exports),ja=ln,Yl=Je,R4=kc.__importDefault(bu),C4=kc.__importDefault(Lu),k4=C4.default.STATISTICS_METHODS;function Vl(n,r){var e=n.getColumn(r);return ja.isArray(e)&&ja.isArray(e[0])&&(e=ja.flattenDeep(e)),e}k4.forEach(function(n){Yl.View.prototype[n]=function(r){return $p[n](Vl(this,r))}});var W1=$p.quantile;ja.assign(Yl.View.prototype,{average:Yl.View.prototype.mean,quantile:function(n,r){return W1(Vl(this,n),r)},quantiles:function(n,r){var e=Vl(this,n);return r.map(function(t){return W1(e,t)})},quantilesByFraction:function(n,r){return this.quantiles(n,R4.default(r))},range:function(n){return[this.min(n),this.max(n)]},extent:function(n){return this.range(n)}});var on={};Object.defineProperty(on,"__esModule",{value:!0});on.DataSet=void 0;var bc=En,Tt=ln,b4=bc.__importDefault($c.exports),Ja=Je,_p=bc.__importDefault(Lu),Gi=function(n){bc.__extends(r,n);function r(e){e===void 0&&(e={state:{}});var t=n.call(this)||this;return t.isDataSet=!0,t._onChangeTimer=null,t.views={},t.state={},t.state=e.state,t}return r.registerConnector=function(e,t){r.connectors[e]=t},r.getConnector=function(e){return r.connectors[e]||r.connectors.default},r.registerTransform=function(e,t){r.transforms[e]=t},r.getTransform=function(e){return r.transforms[e]||r.transforms.default},r.prototype._getUniqueViewName=function(){for(var e=Tt.uniqueId("view_");this.views[e];)e=Tt.uniqueId("view_");return e},r.prototype.createView=function(e,t){if(Tt.isNil(e)&&(e=this._getUniqueViewName()),Tt.isObject(e)&&(t=e,e=this._getUniqueViewName()),this.views[e])throw new Error("data view exists: "+e);var i=new Ja.View(this,t);return this.views[e]=i,i},r.prototype.getView=function(e){return this.views[e]},r.prototype.setView=function(e,t){this.views[e]=t},r.prototype.setState=function(e,t){var i=this;this.state[e]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout(function(){i.emit("statechange",e,t)},16)},r.CONSTANTS=_p.default,r.connectors={},r.transforms={},r.DataSet=r,r.DataView=Ja.View,r.View=Ja.View,r.version="____DATASET_VERSION____",r}(b4.default);on.DataSet=Gi;Tt.assign(Gi,_p.default);Tt.assign(Gi.prototype,{view:Gi.prototype.createView});Ja.View.DataSet=Gi;var j1=ln,L4=on;L4.DataSet.registerConnector("default",function(n,r){var e;if(j1.isString(n)?e=r.getView(n):e=n,!e)throw new TypeError("Invalid dataView");return j1.deepMix([],e.rows)});var J1={},Ef={},Sf=34,ii=10,$f=13;function Tp(n){return new Function("d","return {"+n.map(function(r,e){return JSON.stringify(r)+": d["+e+'] || ""'}).join(",")+"}")}function N4(n,r){var e=Tp(n);return function(t,i){return r(e(t),i,n)}}function K1(n){var r=Object.create(null),e=[];return n.forEach(function(t){for(var i in t)i in r||e.push(r[i]=i)}),e}function Er(n,r){var e=n+"",t=e.length;return t<r?new Array(r-t+1).join(0)+e:e}function A4(n){return n<0?"-"+Er(-n,6):n>9999?"+"+Er(n,6):Er(n,4)}function I4(n){var r=n.getUTCHours(),e=n.getUTCMinutes(),t=n.getUTCSeconds(),i=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":A4(n.getUTCFullYear())+"-"+Er(n.getUTCMonth()+1,2)+"-"+Er(n.getUTCDate(),2)+(i?"T"+Er(r,2)+":"+Er(e,2)+":"+Er(t,2)+"."+Er(i,3)+"Z":t?"T"+Er(r,2)+":"+Er(e,2)+":"+Er(t,2)+"Z":e||r?"T"+Er(r,2)+":"+Er(e,2)+"Z":"")}function Lc(n){var r=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function t(v,f){var h,g,p=i(v,function(d,m){if(h)return h(d,m-1);g=d,h=f?N4(d,f):Tp(d)});return p.columns=g||[],p}function i(v,f){var h=[],g=v.length,p=0,d=0,m,w=g<=0,E=!1;v.charCodeAt(g-1)===ii&&--g,v.charCodeAt(g-1)===$f&&--g;function S(){if(w)return Ef;if(E)return E=!1,J1;var M,N=p,k;if(v.charCodeAt(N)===Sf){for(;p++<g&&v.charCodeAt(p)!==Sf||v.charCodeAt(++p)===Sf;);return(M=p)>=g?w=!0:(k=v.charCodeAt(p++))===ii?E=!0:k===$f&&(E=!0,v.charCodeAt(p)===ii&&++p),v.slice(N+1,M-1).replace(/""/g,'"')}for(;p<g;){if((k=v.charCodeAt(M=p++))===ii)E=!0;else if(k===$f)E=!0,v.charCodeAt(p)===ii&&++p;else if(k!==e)continue;return v.slice(N,M)}return w=!0,v.slice(N,g)}for(;(m=S())!==Ef;){for(var _=[];m!==J1&&m!==Ef;)_.push(m),m=S();f&&(_=f(_,d++))==null||h.push(_)}return h}function a(v,f){return v.map(function(h){return f.map(function(g){return u(h[g])}).join(n)})}function o(v,f){return f==null&&(f=K1(v)),[f.map(u).join(n)].concat(a(v,f)).join(`
`)}function s(v,f){return f==null&&(f=K1(v)),a(v,f).join(`
`)}function l(v){return v.map(c).join(`
`)}function c(v){return v.map(u).join(n)}function u(v){return v==null?"":v instanceof Date?I4(v):r.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:t,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}var pt=Lc(","),D4=pt.parse,O4=pt.parseRows,F4=pt.format,q4=pt.formatBody,z4=pt.formatRows,B4=pt.formatRow,G4=pt.formatValue,dt=Lc("	"),U4=dt.parse,H4=dt.parseRows,Y4=dt.format,V4=dt.formatBody,X4=dt.formatRows,W4=dt.formatRow,j4=dt.formatValue;function J4(n){for(var r in n){var e=n[r].trim(),t,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(t=+e))e=t;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))K4&&!!i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[r]=e}return n}var K4=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Z4=Object.freeze(Object.defineProperty({__proto__:null,dsvFormat:Lc,csvParse:D4,csvParseRows:O4,csvFormat:F4,csvFormatBody:q4,csvFormatRows:z4,csvFormatRow:B4,csvFormatValue:G4,tsvParse:U4,tsvParseRows:H4,tsvFormat:Y4,tsvFormatBody:V4,tsvFormatRows:X4,tsvFormatRow:W4,tsvFormatValue:j4,autoType:J4},Symbol.toStringTag,{value:"Module"})),Q4=Le(Z4),n9=ln,Nc=Q4,Ac=on;Ac.DataSet.registerConnector("dsv",function(n,r){r===void 0&&(r={});var e=r.delimiter||",";if(!n9.isString(e))throw new TypeError("Invalid delimiter: must be a string!");return Nc.dsvFormat(e).parse(n)});Ac.DataSet.registerConnector("csv",function(n){return Nc.csvParse(n)});Ac.DataSet.registerConnector("tsv",function(n){return Nc.tsvParse(n)});var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});var r9=ji,e9=on;function Pp(n,r){r.dataType="geo-graticule";var e=r9.geoGraticule().lines();return e.map(function(t,i){return t.index=""+i,t}),r.rows=e,e}Mp.default=Pp;e9.DataSet.registerConnector("geo-graticule",Pp);var Ic={},t9=a9,_f={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i9=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function a9(n){var r=[];return n.replace(i9,function(e,t,i){var a=t.toLowerCase();for(i=u9(i),a=="m"&&i.length>2&&(r.push([t].concat(i.splice(0,2))),a="l",t=t=="m"?"l":"L");;){if(i.length==_f[a])return i.unshift(t),r.push(i);if(i.length<_f[a])throw new Error("malformed path data");r.push([t].concat(i.splice(0,_f[a])))}}),r}var o9=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function u9(n){var r=n.match(o9);return r?r.map(Number):[]}var f9=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},l9=s9;function s9(n){var r=0,e=0,t=0,i=0;return n.map(function(a){a=a.slice();var o=a[0],s=o.toUpperCase();if(o!=s)switch(a[0]=s,o){case"a":a[6]+=t,a[7]+=i;break;case"v":a[1]+=i;break;case"h":a[1]+=t;break;default:for(var l=1;l<a.length;)a[l++]+=t,a[l++]+=i}switch(s){case"Z":t=r,i=e;break;case"H":t=a[1];break;case"V":i=a[1];break;case"M":t=r=a[1],i=e=a[2];break;default:t=a[a.length-2],i=a[a.length-1]}return a})}var c9=t9,v9=f9,h9=l9,xp=Ut;function Ut(n){if(!(this instanceof Ut))return new Ut(n);this._path=v9(n)?n:c9(n),this._path=h9(this._path),this._path=p9(this._path),this._path=g9(this._path)}Ut.prototype.at=function(n,r){return this._walk(n,r).pos};Ut.prototype.length=function(){return this._walk(null).length};Ut.prototype._walk=function(n,r){for(var e=[0,0],t=[0,0,0],i=[0,0],a=0,o=0;o<this._path.length;o++){var s=this._path[o];if(s[0]==="M"){if(e[0]=s[1],e[1]=s[2],n===0)return{length:a,pos:e}}else if(s[0]==="C"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var l=100,c=0;c<=l;c++){var u=c/l,v=p(s,u),f=d(s,u);if(a+=Tf(e[0],e[1],v,f),e[0]=v,e[1]=f,typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(s[0]==="Q"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var l=100,c=0;c<=l;c++){var u=c/l,v=m(s,u),f=w(s,u);if(a+=Tf(e[0],e[1],v,f),e[0]=v,e[1]=f,typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(s[0]==="L"){if(t[0]=e[0],t[1]=e[1],t[2]=a,a+=Tf(e[0],e[1],s[1],s[2]),e[0]=s[1],e[1]=s[2],typeof n=="number"&&a>=n){var h=(a-n)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}return{length:a,pos:e};function p(E,S){return Math.pow(1-S,3)*i[0]+3*Math.pow(1-S,2)*S*E[1]+3*(1-S)*Math.pow(S,2)*E[3]+Math.pow(S,3)*E[5]}function d(E,S){return Math.pow(1-S,3)*i[1]+3*Math.pow(1-S,2)*S*E[2]+3*(1-S)*Math.pow(S,2)*E[4]+Math.pow(S,3)*E[6]}function m(E,S){return Math.pow(1-S,2)*i[0]+2*(1-S)*S*E[1]+Math.pow(S,2)*E[3]}function w(E,S){return Math.pow(1-S,2)*i[1]+2*(1-S)*S*E[2]+Math.pow(S,2)*E[4]}};function Tf(n,r,e,t){var i=n-e,a=r-t;return Math.sqrt(i*i+a*a)}function g9(n){for(var r,e=0,t=0,i={S:{to:"C",x:3},T:{to:"Q",x:1}},a=0,o=n.length;a<o;a++){var s=n[a],l=i[s[0]];l&&(s[0]=l.to,r&&(r[0]===l.to?(e=2*r[l.x+2]-r[l.x],t=2*r[l.x+3]-r[l.x+1]):(e=r[r.length-2],t=r[r.length-1])),s.splice(1,0,e,t)),r=s}return n}function p9(n){for(var r=[],e=["L",0,0],t,i=0,a=n.length;i<a;i++){var o=n[i];switch(o[0]){case"M":e=["L",o[1],o[2]],r.push(o);break;case"Z":r.push(e);break;case"H":t=r[r.length-1]||["L",0,0],r.push(["L",o[1],t[t.length-1]]);break;case"V":t=r[r.length-1]||["L",0,0],r.push(["L",t[t.length-2],o[1]]);break;default:r.push(o)}}return r}Object.defineProperty(Ic,"__esModule",{value:!0});var d9=En,m9=d9.__importDefault(xp),y9=ln,w9=ji,Nu=on,Z1=w9.geoPath();function Au(n,r,e){e.dataType=Nu.DataSet.CONSTANTS.GEO;var t=y9.deepMix([],n.features);return t.forEach(function(i){i.name=i.properties.name,i.longitude=[],i.latitude=[];var a=i.pathData=Z1(i),o=m9.default(a);o._path.forEach(function(l){i.longitude.push(l[1]),i.latitude.push(l[2])});var s=Z1.centroid(i);i.centroidX=s[0],i.centroidY=s[1]}),t}Nu.DataSet.registerConnector("geo",Au);Nu.DataSet.registerConnector("geojson",Au);Nu.DataSet.registerConnector("GeoJSON",Au);Ic.default=Au;var Ra=ln,Dc=on,E9={nodes:function(n){return n.nodes},edges:function(n){return n.edges}};function Rp(n,r,e){r=Ra.assign({},E9,r),e.dataType=Dc.DataSet.CONSTANTS.GRAPH;var t=r.nodes,i=r.edges;if(t&&!Ra.isFunction(t))throw new TypeError("Invalid nodes: must be a function!");if(i&&!Ra.isFunction(i))throw new TypeError("Invalid edges: must be a function!");return e.rows=e.graph={nodes:t(n),edges:i(n)},Ra.assign(e,e.graph),e.rows}Dc.DataSet.registerConnector("graph",Rp);Dc.DataSet.registerConnector("diagram",Rp);var Cp={};function S9(n,r,e){var t=n.layout,i=[],a=0;Object.keys(n.hexes).forEach(function(p){n.hexes[p].key=p,i.push(n.hexes[p])});var o=He(i,function(p){return+p.q}),s=cr(i,function(p){return+p.q}),l=He(i,function(p){return+p.r}),c=cr(i,function(p){return+p.r}),u=o-s+1,v=l-c+1;t==="odd-r"||t==="even-r"?a=cr([r/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):a=cr([e/((v+.5)*Math.sqrt(3)),r/((u+1/3)*1.5)]);var f=a*Math.sqrt(3),h=$9(t,f,a),g=_9(h);return i.forEach(function(p){p.qc=p.q-s,p.rc=l-p.r,p.x=Oc(p,t,f,a),p.y=Fc(p,t,f,a),p.vertices=h,p.points=g}),i}function Oc(n,r,e,t){var i=0,a=0;switch(r){case"odd-r":a=n.rc%2===1?e:e/2,i=n.qc*e+a;break;case"even-r":a=n.rc%2===0?e:e/2,i=n.qc*e+a;break;case"odd-q":case"even-q":i=n.qc*t*1.5+t;break}return i}function Fc(n,r,e,t){var i=0,a=0;switch(r){case"odd-r":case"even-r":i=n.rc*t*1.5+t;break;case"odd-q":a=n.qc%2===1?e:e/2,i=n.rc*e+a;break;case"even-q":a=n.qc%2===0?e:e/2,i=n.rc*e+a;break}return i}function $9(n,r,e){var t=[];switch(n){case"odd-r":case"even-r":t.push({x:0,y:0-e}),t.push({x:0+r*.5,y:0-.5*e}),t.push({x:0+r*.5,y:0+.5*e}),t.push({x:0,y:0+e}),t.push({x:0-r*.5,y:0+.5*e}),t.push({x:0-r*.5,y:0-.5*e});break;case"odd-q":case"even-q":t.push({x:0-e,y:0}),t.push({x:0-.5*e,y:0-r*.5}),t.push({x:0+.5*e,y:0-r*.5}),t.push({x:0+e,y:0}),t.push({x:0+.5*e,y:0+r*.5}),t.push({x:0-.5*e,y:0+r*.5});break}return t}function _9(n){var r="";return n.forEach(function(e){r+=e.x+","+e.y+" "}),r.substring(0,r.length-1)}function T9(n){var r={};r.layout=n.layout,r.hexes={};var e=[];Object.keys(n.hexes).forEach(function(u){e.push(n.hexes[u])});var t=He(e,function(u){return+u.q}),i=cr(e,function(u){return+u.q}),a=He(e,function(u){return+u.r}),o=cr(e,function(u){return+u.r}),s,l,c;for(s=i;s<=t;s++)for(l=o;l<=a;l++)c="Q"+s+"R"+l,r.hexes[c]={q:s,r:l};return r}function M9(n,r,e,t){var i=[],a=n.layout;Object.keys(n.hexes).forEach(function(k){i.push(n.hexes[k])});var o=He(i,function(k){return+k.q}),s=cr(i,function(k){return+k.q}),l=He(i,function(k){return+k.r}),c=cr(i,function(k){return+k.r}),u=o-s+1,v=l-c+1,f;a==="odd-r"||a==="even-r"?f=cr([r/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):f=cr([e/((v+.5)*Math.sqrt(3)),r/((u+1/3)*1.5)]);var h=f*Math.sqrt(3),g=[],p=f*f*4,d=i.length;if(d>1){i.forEach(function(k){k.qc=k.q-s,k.rc=l-k.r,k.x=Oc(k,a,h,f),k.y=Fc(k,a,h,f)});for(var m=0;m<d-1;m++)for(var w=m+1;w<d;w++){var E=i[m],S=i[w];if(E[t]!==S[t]&&Math.abs(E.q-S.q)<=1&&Math.abs(E.r-S.r)<=1&&(E.x-S.x)*(E.x-S.x)+(E.y-S.y)*(E.y-S.y)<p){var _={};_.x=S.x+(E.x-S.x)/2,_.y=S.y+(E.y-S.y)/2;var M={},N=Math.sqrt(3)*4;M.dx=(E.y-S.y)/N,M.dy=-(E.x-S.x)/N,g.push({x:_.x-2*M.dx,y:_.y-2*M.dy}),g.push({x:_.x-M.dx,y:_.y-M.dy}),g.push({x:_.x,y:_.y}),g.push({x:_.x+M.dx,y:_.y+M.dy}),g.push({x:_.x+2*M.dx,y:_.y+2*M.dy})}}}return g}function P9(n,r,e,t){var i=[],a=n.layout;Object.keys(n.hexes).forEach(function(L){i.push(n.hexes[L])});var o=He(i,function(L){return+L.q}),s=cr(i,function(L){return+L.q}),l=He(i,function(L){return+L.r}),c=cr(i,function(L){return+L.r}),u=o-s+1,v=l-c+1,f;a==="odd-r"||a==="even-r"?f=cr([r/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):f=cr([e/((v+.5)*Math.sqrt(3)),r/((u+1/3)*1.5)]);var h=f*Math.sqrt(3),g=[],p=f*f*4,d=i.length;if(d>1){i.forEach(function(L){L.qc=L.q-s,L.rc=l-L.r,L.x=Oc(L,a,h,f),L.y=Fc(L,a,h,f)});for(var m=0;m<d-1;m++)for(var w=m+1;w<d;w++){var E=i[m],S=i[w];if(E[t]!==S[t]&&Math.abs(E.q-S.q)<=1&&Math.abs(E.r-S.r)<=1&&(E.x-S.x)*(E.x-S.x)+(E.y-S.y)*(E.y-S.y)<p){var _={};_.x=S.x+(E.x-S.x)/2,_.y=S.y+(E.y-S.y)/2;var M={},N=1;E[t]<S[t]&&(N=-1);var k=Math.sqrt(3)*2*N;M.dx=(E.y-S.y)/k,M.dy=-(E.x-S.x)/k,g.push({x1:_.x-M.dx,y1:_.y-M.dy,x2:_.x+M.dx,y2:_.y+M.dy})}}}return g}var x9=Object.freeze(Object.defineProperty({__proto__:null,renderHexJSON:S9,getGridForHexJSON:T9,getBoundaryDotsForHexJSON:M9,getBoundarySegmentsForHexJSON:P9},Symbol.toStringTag,{value:"Module"})),R9=Le(x9);Object.defineProperty(Cp,"__esModule",{value:!0});var Q1=ln,Mf=R9,Qi=on,C9={width:1,height:1};function nv(n){return n.cx=n.x,n.cy=n.y,n.x=[],n.y=[],n.vertices.forEach(function(r){n.x.push(r.x+n.cx),n.y.push(r.y+n.cy)}),n}function na(n,r,e){e.dataType=Qi.DataSet.CONSTANTS.HEX,r=Q1.assign({},C9,r);var t=r.width,i=r.height,a=Q1.deepMix([],n);e._HexJSON=a;var o=e._GridHexJSON=Mf.getGridForHexJSON(a),s=e.rows=Mf.renderHexJSON(a,t,i).map(nv);return e._gridRows=Mf.renderHexJSON(o,t,i).map(nv),s}Qi.DataSet.registerConnector("hex",na);Qi.DataSet.registerConnector("hexjson",na);Qi.DataSet.registerConnector("hex-json",na);Qi.DataSet.registerConnector("HexJSON",na);Cp.default=na;function k9(n,r){return n.parent===r.parent?1:2}function b9(n){return n.reduce(L9,0)/n.length}function L9(n,r){return n+r.x}function N9(n){return 1+n.reduce(A9,0)}function A9(n,r){return Math.max(n,r.y)}function I9(n){for(var r;r=n.children;)n=r[0];return n}function D9(n){for(var r;r=n.children;)n=r[r.length-1];return n}function O9(){var n=k9,r=1,e=1,t=!1;function i(a){var o,s=0;a.eachAfter(function(f){var h=f.children;h?(f.x=b9(h),f.y=N9(h)):(f.x=o?s+=n(f,o):0,f.y=0,o=f)});var l=I9(a),c=D9(a),u=l.x-n(l,c)/2,v=c.x+n(c,l)/2;return a.eachAfter(t?function(f){f.x=(f.x-a.x)*r,f.y=(a.y-f.y)*e}:function(f){f.x=(f.x-u)/(v-u)*r,f.y=(1-(a.y?f.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(n=a,i):n},i.size=function(a){return arguments.length?(t=!1,r=+a[0],e=+a[1],i):t?null:[r,e]},i.nodeSize=function(a){return arguments.length?(t=!0,r=+a[0],e=+a[1],i):t?[r,e]:null},i}function F9(n){var r=0,e=n.children,t=e&&e.length;if(!t)r=1;else for(;--t>=0;)r+=e[t].value;n.value=r}function q9(){return this.eachAfter(F9)}function z9(n){var r=this,e,t=[r],i,a,o;do for(e=t.reverse(),t=[];r=e.pop();)if(n(r),i=r.children,i)for(a=0,o=i.length;a<o;++a)t.push(i[a]);while(t.length);return this}function B9(n){for(var r=this,e=[r],t,i;r=e.pop();)if(n(r),t=r.children,t)for(i=t.length-1;i>=0;--i)e.push(t[i]);return this}function G9(n){for(var r=this,e=[r],t=[],i,a,o;r=e.pop();)if(t.push(r),i=r.children,i)for(a=0,o=i.length;a<o;++a)e.push(i[a]);for(;r=t.pop();)n(r);return this}function U9(n){return this.eachAfter(function(r){for(var e=+n(r.data)||0,t=r.children,i=t&&t.length;--i>=0;)e+=t[i].value;r.value=e})}function H9(n){return this.eachBefore(function(r){r.children&&r.children.sort(n)})}function Y9(n){for(var r=this,e=V9(r,n),t=[r];r!==e;)r=r.parent,t.push(r);for(var i=t.length;n!==e;)t.splice(i,0,n),n=n.parent;return t}function V9(n,r){if(n===r)return n;var e=n.ancestors(),t=r.ancestors(),i=null;for(n=e.pop(),r=t.pop();n===r;)i=n,n=e.pop(),r=t.pop();return i}function X9(){for(var n=this,r=[n];n=n.parent;)r.push(n);return r}function W9(){var n=[];return this.each(function(r){n.push(r)}),n}function j9(){var n=[];return this.eachBefore(function(r){r.children||n.push(r)}),n}function J9(){var n=this,r=[];return n.each(function(e){e!==n&&r.push({source:e.parent,target:e})}),r}function qc(n,r){var e=new Ht(n),t=+n.value&&(e.value=n.value),i,a=[e],o,s,l,c;for(r==null&&(r=Z9);i=a.pop();)if(t&&(i.value=+i.data.value),(s=r(i.data))&&(c=s.length))for(i.children=new Array(c),l=c-1;l>=0;--l)a.push(o=i.children[l]=new Ht(s[l])),o.parent=i,o.depth=i.depth+1;return e.eachBefore(kp)}function K9(){return qc(this).eachBefore(Q9)}function Z9(n){return n.children}function Q9(n){n.data=n.data.data}function kp(n){var r=0;do n.height=r;while((n=n.parent)&&n.height<++r)}function Ht(n){this.data=n,this.depth=this.height=0,this.parent=null}Ht.prototype=qc.prototype={constructor:Ht,count:q9,each:z9,eachAfter:G9,eachBefore:B9,sum:U9,sort:H9,path:Y9,ancestors:X9,descendants:W9,leaves:j9,links:J9,copy:K9};var nE=Array.prototype.slice;function rE(n){for(var r=n.length,e,t;r;)t=Math.random()*r--|0,e=n[r],n[r]=n[t],n[t]=e;return n}function bp(n){for(var r=0,e=(n=rE(nE.call(n))).length,t=[],i,a;r<e;)i=n[r],a&&Lp(a,i)?++r:(a=tE(t=eE(t,i)),r=0);return a}function eE(n,r){var e,t;if(Pf(r,n))return[r];for(e=0;e<n.length;++e)if(Ca(r,n[e])&&Pf($i(n[e],r),n))return[n[e],r];for(e=0;e<n.length-1;++e)for(t=e+1;t<n.length;++t)if(Ca($i(n[e],n[t]),r)&&Ca($i(n[e],r),n[t])&&Ca($i(n[t],r),n[e])&&Pf(Np(n[e],n[t],r),n))return[n[e],n[t],r];throw new Error}function Ca(n,r){var e=n.r-r.r,t=r.x-n.x,i=r.y-n.y;return e<0||e*e<t*t+i*i}function Lp(n,r){var e=n.r-r.r+1e-6,t=r.x-n.x,i=r.y-n.y;return e>0&&e*e>t*t+i*i}function Pf(n,r){for(var e=0;e<r.length;++e)if(!Lp(n,r[e]))return!1;return!0}function tE(n){switch(n.length){case 1:return iE(n[0]);case 2:return $i(n[0],n[1]);case 3:return Np(n[0],n[1],n[2])}}function iE(n){return{x:n.x,y:n.y,r:n.r}}function $i(n,r){var e=n.x,t=n.y,i=n.r,a=r.x,o=r.y,s=r.r,l=a-e,c=o-t,u=s-i,v=Math.sqrt(l*l+c*c);return{x:(e+a+l/v*u)/2,y:(t+o+c/v*u)/2,r:(v+i+s)/2}}function Np(n,r,e){var t=n.x,i=n.y,a=n.r,o=r.x,s=r.y,l=r.r,c=e.x,u=e.y,v=e.r,f=t-o,h=t-c,g=i-s,p=i-u,d=l-a,m=v-a,w=t*t+i*i-a*a,E=w-o*o-s*s+l*l,S=w-c*c-u*u+v*v,_=h*g-f*p,M=(g*S-p*E)/(_*2)-t,N=(p*d-g*m)/_,k=(h*E-f*S)/(_*2)-i,L=(f*m-h*d)/_,D=N*N+L*L-1,A=2*(a+M*N+k*L),C=M*M+k*k-a*a,z=-(D?(A+Math.sqrt(A*A-4*D*C))/(2*D):C/A);return{x:t+M+N*z,y:i+k+L*z,r:z}}function rv(n,r,e){var t=n.x-r.x,i,a,o=n.y-r.y,s,l,c=t*t+o*o;c?(a=r.r+e.r,a*=a,l=n.r+e.r,l*=l,a>l?(i=(c+l-a)/(2*c),s=Math.sqrt(Math.max(0,l/c-i*i)),e.x=n.x-i*t-s*o,e.y=n.y-i*o+s*t):(i=(c+a-l)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),e.x=r.x+i*t-s*o,e.y=r.y+i*o+s*t)):(e.x=r.x+e.r,e.y=r.y)}function ev(n,r){var e=n.r+r.r-1e-6,t=r.x-n.x,i=r.y-n.y;return e>0&&e*e>t*t+i*i}function tv(n){var r=n._,e=n.next._,t=r.r+e.r,i=(r.x*e.r+e.x*r.r)/t,a=(r.y*e.r+e.y*r.r)/t;return i*i+a*a}function ka(n){this._=n,this.next=null,this.previous=null}function Ap(n){if(!(i=n.length))return 0;var r,e,t,i,a,o,s,l,c,u,v;if(r=n[0],r.x=0,r.y=0,!(i>1))return r.r;if(e=n[1],r.x=-e.r,e.x=r.r,e.y=0,!(i>2))return r.r+e.r;rv(e,r,t=n[2]),r=new ka(r),e=new ka(e),t=new ka(t),r.next=t.previous=e,e.next=r.previous=t,t.next=e.previous=r;n:for(s=3;s<i;++s){rv(r._,e._,t=n[s]),t=new ka(t),l=e.next,c=r.previous,u=e._.r,v=r._.r;do if(u<=v){if(ev(l._,t._)){e=l,r.next=e,e.previous=r,--s;continue n}u+=l._.r,l=l.next}else{if(ev(c._,t._)){r=c,r.next=e,e.previous=r,--s;continue n}v+=c._.r,c=c.previous}while(l!==c.next);for(t.previous=r,t.next=e,r.next=e.previous=e=t,a=tv(r);(t=t.next)!==e;)(o=tv(t))<a&&(r=t,a=o);e=r.next}for(r=[e._],t=e;(t=t.next)!==e;)r.push(t._);for(t=bp(r),s=0;s<i;++s)r=n[s],r.x-=t.x,r.y-=t.y;return t.r}function aE(n){return Ap(n),n}function oE(n){return n==null?null:iu(n)}function iu(n){if(typeof n!="function")throw new Error;return n}function ut(){return 0}function $t(n){return function(){return n}}function uE(n){return Math.sqrt(n.value)}function fE(){var n=null,r=1,e=1,t=ut;function i(a){return a.x=r/2,a.y=e/2,n?a.eachBefore(iv(n)).eachAfter(xf(t,.5)).eachBefore(av(1)):a.eachBefore(iv(uE)).eachAfter(xf(ut,1)).eachAfter(xf(t,a.r/Math.min(r,e))).eachBefore(av(Math.min(r,e)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(n=oE(a),i):n},i.size=function(a){return arguments.length?(r=+a[0],e=+a[1],i):[r,e]},i.padding=function(a){return arguments.length?(t=typeof a=="function"?a:$t(+a),i):t},i}function iv(n){return function(r){r.children||(r.r=Math.max(0,+n(r)||0))}}function xf(n,r){return function(e){if(t=e.children){var t,i,a=t.length,o=n(e)*r||0,s;if(o)for(i=0;i<a;++i)t[i].r+=o;if(s=Ap(t),o)for(i=0;i<a;++i)t[i].r-=o;e.r=s+o}}}function av(n){return function(r){var e=r.parent;r.r*=n,e&&(r.x=e.x+n*r.x,r.y=e.y+n*r.y)}}function Ip(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function ra(n,r,e,t,i){for(var a=n.children,o,s=-1,l=a.length,c=n.value&&(t-r)/n.value;++s<l;)o=a[s],o.y0=e,o.y1=i,o.x0=r,o.x1=r+=o.value*c}function lE(){var n=1,r=1,e=0,t=!1;function i(o){var s=o.height+1;return o.x0=o.y0=e,o.x1=n,o.y1=r/s,o.eachBefore(a(r,s)),t&&o.eachBefore(Ip),o}function a(o,s){return function(l){l.children&&ra(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var c=l.x0,u=l.y0,v=l.x1-e,f=l.y1-e;v<c&&(c=v=(c+v)/2),f<u&&(u=f=(u+f)/2),l.x0=c,l.y0=u,l.x1=v,l.y1=f}}return i.round=function(o){return arguments.length?(t=!!o,i):t},i.size=function(o){return arguments.length?(n=+o[0],r=+o[1],i):[n,r]},i.padding=function(o){return arguments.length?(e=+o,i):e},i}var ov="$",sE={depth:-1},uv={};function cE(n){return n.id}function vE(n){return n.parentId}function hE(){var n=cE,r=vE;function e(t){var i,a,o=t.length,s,l,c,u=new Array(o),v,f,h={};for(a=0;a<o;++a)i=t[a],c=u[a]=new Ht(i),(v=n(i,a,t))!=null&&(v+="")&&(f=ov+(c.id=v),h[f]=f in h?uv:c);for(a=0;a<o;++a)if(c=u[a],v=r(t[a],a,t),v==null||!(v+="")){if(s)throw new Error("multiple roots");s=c}else{if(l=h[ov+v],!l)throw new Error("missing: "+v);if(l===uv)throw new Error("ambiguous: "+v);l.children?l.children.push(c):l.children=[c],c.parent=l}if(!s)throw new Error("no root");if(s.parent=sE,s.eachBefore(function(g){g.depth=g.parent.depth+1,--o}).eachBefore(kp),s.parent=null,o>0)throw new Error("cycle");return s}return e.id=function(t){return arguments.length?(n=iu(t),e):n},e.parentId=function(t){return arguments.length?(r=iu(t),e):r},e}function gE(n,r){return n.parent===r.parent?1:2}function Rf(n){var r=n.children;return r?r[0]:n.t}function Cf(n){var r=n.children;return r?r[r.length-1]:n.t}function pE(n,r,e){var t=e/(r.i-n.i);r.c-=t,r.s+=e,n.c+=t,r.z+=e,r.m+=e}function dE(n){for(var r=0,e=0,t=n.children,i=t.length,a;--i>=0;)a=t[i],a.z+=r,a.m+=r,r+=a.s+(e+=a.c)}function mE(n,r,e){return n.a.parent===r.parent?n.a:e}function Ka(n,r){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}Ka.prototype=Object.create(Ht.prototype);function yE(n){for(var r=new Ka(n,0),e,t=[r],i,a,o,s;e=t.pop();)if(a=e._.children)for(e.children=new Array(s=a.length),o=s-1;o>=0;--o)t.push(i=e.children[o]=new Ka(a[o],o)),i.parent=e;return(r.parent=new Ka(null,0)).children=[r],r}function wE(){var n=gE,r=1,e=1,t=null;function i(c){var u=yE(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),t)c.eachBefore(l);else{var v=c,f=c,h=c;c.eachBefore(function(w){w.x<v.x&&(v=w),w.x>f.x&&(f=w),w.depth>h.depth&&(h=w)});var g=v===f?1:n(v,f)/2,p=g-v.x,d=r/(f.x+g+p),m=e/(h.depth||1);c.eachBefore(function(w){w.x=(w.x+p)*d,w.y=w.depth*m})}return c}function a(c){var u=c.children,v=c.parent.children,f=c.i?v[c.i-1]:null;if(u){dE(c);var h=(u[0].z+u[u.length-1].z)/2;f?(c.z=f.z+n(c._,f._),c.m=c.z-h):c.z=h}else f&&(c.z=f.z+n(c._,f._));c.parent.A=s(c,f,c.parent.A||v[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,u,v){if(u){for(var f=c,h=c,g=u,p=f.parent.children[0],d=f.m,m=h.m,w=g.m,E=p.m,S;g=Cf(g),f=Rf(f),g&&f;)p=Rf(p),h=Cf(h),h.a=c,S=g.z+w-f.z-d+n(g._,f._),S>0&&(pE(mE(g,c,v),c,S),d+=S,m+=S),w+=g.m,d+=f.m,E+=p.m,m+=h.m;g&&!Cf(h)&&(h.t=g,h.m+=w-m),f&&!Rf(p)&&(p.t=f,p.m+=d-E,v=c)}return v}function l(c){c.x*=r,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(n=c,i):n},i.size=function(c){return arguments.length?(t=!1,r=+c[0],e=+c[1],i):t?null:[r,e]},i.nodeSize=function(c){return arguments.length?(t=!0,r=+c[0],e=+c[1],i):t?[r,e]:null},i}function Iu(n,r,e,t,i){for(var a=n.children,o,s=-1,l=a.length,c=n.value&&(i-e)/n.value;++s<l;)o=a[s],o.x0=r,o.x1=t,o.y0=e,o.y1=e+=o.value*c}var Dp=(1+Math.sqrt(5))/2;function Op(n,r,e,t,i,a){for(var o=[],s=r.children,l,c,u=0,v=0,f=s.length,h,g,p=r.value,d,m,w,E,S,_,M;u<f;){h=i-e,g=a-t;do d=s[v++].value;while(!d&&v<f);for(m=w=d,_=Math.max(g/h,h/g)/(p*n),M=d*d*_,S=Math.max(w/M,M/m);v<f;++v){if(d+=c=s[v].value,c<m&&(m=c),c>w&&(w=c),M=d*d*_,E=Math.max(w/M,M/m),E>S){d-=c;break}S=E}o.push(l={value:d,dice:h<g,children:s.slice(u,v)}),l.dice?ra(l,e,t,i,p?t+=g*d/p:a):Iu(l,e,t,p?e+=h*d/p:i,a),p-=d,u=v}return o}var Fp=function n(r){function e(t,i,a,o,s){Op(r,t,i,a,o,s)}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(Dp);function EE(){var n=Fp,r=!1,e=1,t=1,i=[0],a=ut,o=ut,s=ut,l=ut,c=ut;function u(f){return f.x0=f.y0=0,f.x1=e,f.y1=t,f.eachBefore(v),i=[0],r&&f.eachBefore(Ip),f}function v(f){var h=i[f.depth],g=f.x0+h,p=f.y0+h,d=f.x1-h,m=f.y1-h;d<g&&(g=d=(g+d)/2),m<p&&(p=m=(p+m)/2),f.x0=g,f.y0=p,f.x1=d,f.y1=m,f.children&&(h=i[f.depth+1]=a(f)/2,g+=c(f)-h,p+=o(f)-h,d-=s(f)-h,m-=l(f)-h,d<g&&(g=d=(g+d)/2),m<p&&(p=m=(p+m)/2),n(f,g,p,d,m))}return u.round=function(f){return arguments.length?(r=!!f,u):r},u.size=function(f){return arguments.length?(e=+f[0],t=+f[1],u):[e,t]},u.tile=function(f){return arguments.length?(n=iu(f),u):n},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:$t(+f),u):a},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:$t(+f),u):o},u.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:$t(+f),u):s},u.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:$t(+f),u):l},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:$t(+f),u):c},u}function SE(n,r,e,t,i){var a=n.children,o,s=a.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=a[o].value;u(0,s,n.value,r,e,t,i);function u(v,f,h,g,p,d,m){if(v>=f-1){var w=a[v];w.x0=g,w.y0=p,w.x1=d,w.y1=m;return}for(var E=c[v],S=h/2+E,_=v+1,M=f-1;_<M;){var N=_+M>>>1;c[N]<S?_=N+1:M=N}S-c[_-1]<c[_]-S&&v+1<_&&--_;var k=c[_]-E,L=h-k;if(d-g>m-p){var D=(g*L+d*k)/h;u(v,_,k,g,p,D,m),u(_,f,L,D,p,d,m)}else{var A=(p*L+m*k)/h;u(v,_,k,g,p,d,A),u(_,f,L,g,A,d,m)}}}function $E(n,r,e,t,i){(n.depth&1?Iu:ra)(n,r,e,t,i)}var _E=function n(r){function e(t,i,a,o,s){if((l=t._squarify)&&l.ratio===r)for(var l,c,u,v,f=-1,h,g=l.length,p=t.value;++f<g;){for(c=l[f],u=c.children,v=c.value=0,h=u.length;v<h;++v)c.value+=u[v].value;c.dice?ra(c,i,a,o,a+=(s-a)*c.value/p):Iu(c,i,a,i+=(o-i)*c.value/p,s),p-=c.value}else t._squarify=l=Op(r,t,i,a,o,s),l.ratio=r}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(Dp),TE=Object.freeze(Object.defineProperty({__proto__:null,cluster:O9,hierarchy:qc,pack:fE,packSiblings:aE,packEnclose:bp,partition:lE,stratify:hE,tree:wE,treemap:EE,treemapBinary:SE,treemapDice:ra,treemapSlice:Iu,treemapSliceDice:$E,treemapSquarify:Fp,treemapResquarify:_E},Symbol.toStringTag,{value:"Module"})),Kt=Le(TE),ME=ln,PE=Kt,zc=on;function qp(n,r,e){e.dataType=zc.DataSet.CONSTANTS.HIERARCHY;var t=r&&r.children?r.children:null;if(t&&!ME.isFunction(t))throw new TypeError("Invalid children: must be a function!");return r.pureData?e.rows=e.root=n:e.rows=e.root=PE.hierarchy(n,t),n}zc.DataSet.registerConnector("hierarchy",qp);zc.DataSet.registerConnector("tree",qp);function zp(n){return n}function Bc(n){if(n==null)return zp;var r,e,t=n.scale[0],i=n.scale[1],a=n.translate[0],o=n.translate[1];return function(s,l){l||(r=e=0);var c=2,u=s.length,v=new Array(u);for(v[0]=(r+=s[0])*t+a,v[1]=(e+=s[1])*i+o;c<u;)v[c]=s[c],++c;return v}}function Bp(n){var r=Bc(n.transform),e,t=1/0,i=t,a=-t,o=-t;function s(c){c=r(c),c[0]<t&&(t=c[0]),c[0]>a&&(a=c[0]),c[1]<i&&(i=c[1]),c[1]>o&&(o=c[1])}function l(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(l);break;case"Point":s(c.coordinates);break;case"MultiPoint":c.coordinates.forEach(s);break}}n.arcs.forEach(function(c){for(var u=-1,v=c.length,f;++u<v;)f=r(c[u],u),f[0]<t&&(t=f[0]),f[0]>a&&(a=f[0]),f[1]<i&&(i=f[1]),f[1]>o&&(o=f[1])});for(e in n.objects)l(n.objects[e]);return[t,i,a,o]}function xE(n,r){for(var e,t=n.length,i=t-r;i<--t;)e=n[i],n[i++]=n[t],n[t]=e}function RE(n,r){return typeof r=="string"&&(r=n.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(e){return fv(n,e)})}:fv(n,r)}function fv(n,r){var e=r.id,t=r.bbox,i=r.properties==null?{}:r.properties,a=Du(n,r);return e==null&&t==null?{type:"Feature",properties:i,geometry:a}:t==null?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:t,properties:i,geometry:a}}function Du(n,r){var e=Bc(n.transform),t=n.arcs;function i(u,v){v.length&&v.pop();for(var f=t[u<0?~u:u],h=0,g=f.length;h<g;++h)v.push(e(f[h],h));u<0&&xE(v,g)}function a(u){return e(u)}function o(u){for(var v=[],f=0,h=u.length;f<h;++f)i(u[f],v);return v.length<2&&v.push(v[0]),v}function s(u){for(var v=o(u);v.length<4;)v.push(v[0]);return v}function l(u){return u.map(s)}function c(u){var v=u.type,f;switch(v){case"GeometryCollection":return{type:v,geometries:u.geometries.map(c)};case"Point":f=a(u.coordinates);break;case"MultiPoint":f=u.coordinates.map(a);break;case"LineString":f=o(u.arcs);break;case"MultiLineString":f=u.arcs.map(o);break;case"Polygon":f=l(u.arcs);break;case"MultiPolygon":f=u.arcs.map(l);break;default:return null}return{type:v,coordinates:f}}return c(r)}function Gp(n,r){var e={},t={},i={},a=[],o=-1;r.forEach(function(c,u){var v=n.arcs[c<0?~c:c],f;v.length<3&&!v[1][0]&&!v[1][1]&&(f=r[++o],r[o]=c,r[u]=f)}),r.forEach(function(c){var u=s(c),v=u[0],f=u[1],h,g;if(h=i[v])if(delete i[h.end],h.push(c),h.end=f,g=t[f]){delete t[g.start];var p=g===h?h:h.concat(g);t[p.start=h.start]=i[p.end=g.end]=p}else t[h.start]=i[h.end]=h;else if(h=t[f])if(delete t[h.start],h.unshift(c),h.start=v,g=i[v]){delete i[g.end];var d=g===h?h:g.concat(h);t[d.start=g.start]=i[d.end=h.end]=d}else t[h.start]=i[h.end]=h;else h=[c],t[h.start=v]=i[h.end=f]=h});function s(c){var u=n.arcs[c<0?~c:c],v=u[0],f;return n.transform?(f=[0,0],u.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=u[u.length-1],c<0?[f,v]:[v,f]}function l(c,u){for(var v in c){var f=c[v];delete u[f.start],delete f.start,delete f.end,f.forEach(function(h){e[h<0?~h:h]=1}),a.push(f)}}return l(i,t),l(t,i),r.forEach(function(c){e[c<0?~c:c]||a.push([c])}),a}function CE(n){return Du(n,Up.apply(this,arguments))}function Up(n,r,e){var t,i,a;if(arguments.length>1)t=kE(n,r,e);else for(i=0,t=new Array(a=n.arcs.length);i<a;++i)t[i]=i;return{type:"MultiLineString",arcs:Gp(n,t)}}function kE(n,r,e){var t=[],i=[],a;function o(v){var f=v<0?~v:v;(i[f]||(i[f]=[])).push({i:v,g:a})}function s(v){v.forEach(o)}function l(v){v.forEach(s)}function c(v){v.forEach(l)}function u(v){switch(a=v,v.type){case"GeometryCollection":v.geometries.forEach(u);break;case"LineString":s(v.arcs);break;case"MultiLineString":case"Polygon":l(v.arcs);break;case"MultiPolygon":c(v.arcs);break}}return u(r),i.forEach(e==null?function(v){t.push(v[0].i)}:function(v){e(v[0].g,v[v.length-1].g)&&t.push(v[0].i)}),t}function bE(n){for(var r=-1,e=n.length,t,i=n[e-1],a=0;++r<e;)t=i,i=n[r],a+=t[0]*i[1]-t[1]*i[0];return Math.abs(a)}function LE(n){return Du(n,Hp.apply(this,arguments))}function Hp(n,r){var e={},t=[],i=[];r.forEach(a);function a(l){switch(l.type){case"GeometryCollection":l.geometries.forEach(a);break;case"Polygon":o(l.arcs);break;case"MultiPolygon":l.arcs.forEach(o);break}}function o(l){l.forEach(function(c){c.forEach(function(u){(e[u=u<0?~u:u]||(e[u]=[])).push(l)})}),t.push(l)}function s(l){return bE(Du(n,{type:"Polygon",arcs:[l]}).coordinates[0])}return t.forEach(function(l){if(!l._){var c=[],u=[l];for(l._=1,i.push(c);l=u.pop();)c.push(l),l.forEach(function(v){v.forEach(function(f){e[f<0?~f:f].forEach(function(h){h._||(h._=1,u.push(h))})})})}}),t.forEach(function(l){delete l._}),{type:"MultiPolygon",arcs:i.map(function(l){var c=[],u;if(l.forEach(function(p){p.forEach(function(d){d.forEach(function(m){e[m<0?~m:m].length<2&&c.push(m)})})}),c=Gp(n,c),(u=c.length)>1)for(var v=1,f=s(c[0]),h,g;v<u;++v)(h=s(c[v]))>f&&(g=c[0],c[0]=c[v],c[v]=g,f=h);return c}).filter(function(l){return l.length>0})}}function lv(n,r){for(var e=0,t=n.length;e<t;){var i=e+t>>>1;n[i]<r?e=i+1:t=i}return e}function NE(n){var r={},e=n.map(function(){return[]});function t(p,d){p.forEach(function(m){m<0&&(m=~m);var w=r[m];w?w.push(d):r[m]=[d]})}function i(p,d){p.forEach(function(m){t(m,d)})}function a(p,d){p.type==="GeometryCollection"?p.geometries.forEach(function(m){a(m,d)}):p.type in o&&o[p.type](p.arcs,d)}var o={LineString:t,MultiLineString:i,Polygon:i,MultiPolygon:function(p,d){p.forEach(function(m){i(m,d)})}};n.forEach(a);for(var s in r)for(var l=r[s],c=l.length,u=0;u<c;++u)for(var v=u+1;v<c;++v){var f=l[u],h=l[v],g;(g=e[f])[s=lv(g,h)]!==h&&g.splice(s,0,h),(g=e[h])[s=lv(g,f)]!==f&&g.splice(s,0,f)}return e}function Yp(n){if(n==null)return zp;var r,e,t=n.scale[0],i=n.scale[1],a=n.translate[0],o=n.translate[1];return function(s,l){l||(r=e=0);var c=2,u=s.length,v=new Array(u),f=Math.round((s[0]-a)/t),h=Math.round((s[1]-o)/i);for(v[0]=f-r,r=f,v[1]=h-e,e=h;c<u;)v[c]=s[c],++c;return v}}function AE(n,r){if(n.transform)throw new Error("already quantized");if(!r||!r.scale){if(!((o=Math.floor(r))>=2))throw new Error("n must be \u22652");l=n.bbox||Bp(n);var e=l[0],t=l[1],i=l[2],a=l[3],o;r={scale:[i-e?(i-e)/(o-1):1,a-t?(a-t)/(o-1):1],translate:[e,t]}}else l=n.bbox;var s=Yp(r),l,c,u=n.objects,v={};function f(p){return s(p)}function h(p){var d;switch(p.type){case"GeometryCollection":d={type:"GeometryCollection",geometries:p.geometries.map(h)};break;case"Point":d={type:"Point",coordinates:f(p.coordinates)};break;case"MultiPoint":d={type:"MultiPoint",coordinates:p.coordinates.map(f)};break;default:return p}return p.id!=null&&(d.id=p.id),p.bbox!=null&&(d.bbox=p.bbox),p.properties!=null&&(d.properties=p.properties),d}function g(p){var d=0,m=1,w=p.length,E,S=new Array(w);for(S[0]=s(p[0],0);++d<w;)((E=s(p[d],d))[0]||E[1])&&(S[m++]=E);return m===1&&(S[m++]=[0,0]),S.length=m,S}for(c in u)v[c]=h(u[c]);return{type:"Topology",bbox:l,transform:r,objects:v,arcs:n.arcs.map(g)}}var IE=Object.freeze(Object.defineProperty({__proto__:null,bbox:Bp,feature:RE,mesh:CE,meshArcs:Up,merge:LE,mergeArcs:Hp,neighbors:NE,quantize:AE,transform:Bc,untransform:Yp},Symbol.toStringTag,{value:"Module"})),DE=Le(IE),OE=En,FE=ln,qE=DE,zE=OE.__importDefault(Ic),Vp=on;function Xp(n,r,e){var t=r.object;if(!FE.isString(t))throw new TypeError("Invalid object: must be a string!");var i=qE.feature(n,n.objects[t]);return zE.default(i,void 0,e)}Vp.DataSet.registerConnector("topojson",Xp);Vp.DataSet.registerConnector("TopoJSON",Xp);var BE=on;BE.DataSet.registerTransform("default",function(n){return n});var GE=on;function UE(n){return!!n}GE.DataSet.registerTransform("filter",function(n,r){n.rows=n.rows.filter(r.callback||UE)});var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.getFields=Ln.getField=void 0;var Ge=ln,kf="Invalid field: it must be a string!",ai="Invalid fields: it must be an array!";function HE(n,r){var e=n.field,t=n.fields;if(Ge.isString(e))return e;if(Ge.isArray(e))return console.warn(kf),e[0];if(console.warn(kf+" will try to get fields instead."),Ge.isString(t))return t;if(Ge.isArray(t)&&t.length)return t[0];if(r)return r;throw new TypeError(kf)}Ln.getField=HE;function YE(n,r){var e=n.field,t=n.fields;if(Ge.isArray(t))return t;if(Ge.isString(t))return console.warn(ai),[t];if(console.warn(ai+" will try to get field instead."),Ge.isString(e))return console.warn(ai),[e];if(Ge.isArray(e)&&e.length)return console.warn(ai),e;if(r)return r;throw new TypeError(ai)}Ln.getFields=YE;var bf=ln,VE=on,XE=Ln,WE={fields:[],key:"key",retains:[],value:"value"};VE.DataSet.registerTransform("fold",function(n,r){var e=n.getColumnNames();r=bf.assign({},WE,r);var t=XE.getFields(r);t.length===0&&(console.warn("warning: option fields is not specified, will fold all columns."),t=e);var i=r.key,a=r.value,o=r.retains;(!o||o.length===0)&&(o=bf.difference(e,t));var s=[];n.rows.forEach(function(l){t.forEach(function(c){var u=bf.pick(l,o);u[i]=c,u[a]=l[c],s.push(u)})}),n.rows=s});var jE=on;function JE(n){return n}jE.DataSet.registerTransform("map",function(n,r){n.rows=n.rows.map(r.callback||JE)});var KE=En,Xl=ln,Wp=KE.__importDefault(qr),Gc=on,jp={groupBy:[],orderBy:[]};Gc.DataSet.registerTransform("partition",function(n,r){r=Xl.assign({},jp,r),n.rows=Wp.default(n.rows,r.groupBy,r.orderBy)});function Jp(n,r){r=Xl.assign({},jp,r),n.rows=Xl.values(Wp.default(n.rows,r.groupBy,r.orderBy))}Gc.DataSet.registerTransform("group",Jp);Gc.DataSet.registerTransform("groups",Jp);var ZE=En,Et=ln,sv=ie.exports,cv=ZE.__importDefault(qr),QE=on,n6=Ln,r6={groupBy:[],as:"_percent"};function e6(n,r){r=Et.assign({},r6,r);var e=n6.getField(r),t=r.dimension,i=r.groupBy,a=r.as;if(!Et.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(Et.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!Et.isString(a))throw new TypeError("Invalid as: must be a string!");var o=n.rows,s=[],l=cv.default(o,i);Et.forIn(l,function(c){var u=sv.sum(c.map(function(f){return f[e]})),v=cv.default(c,[t]);Et.forIn(v,function(f){var h=sv.sum(f.map(function(d){return d[e]})),g=f[0],p=g[t];g[e]=h,g[t]=p,u===0?g[a]=0:g[a]=h/u,s.push(g)})}),n.rows=s}QE.DataSet.registerTransform("percent",e6);var t6=ln,i6=on,a6=Ln;i6.DataSet.registerTransform("pick",function(n,r){var e=a6.getFields(r,n.getColumnNames());n.rows=n.rows.map(function(t){return t6.pick(t,e)})});var o6=En,St=ln,vv=o6.__importDefault(qr),u6=on,f6=Ln,l6={groupBy:[],as:"_proportion"};function s6(n,r){r=St.assign({},l6,r);var e=f6.getField(r),t=r.dimension,i=r.groupBy,a=r.as;if(!St.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(St.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!St.isString(a))throw new TypeError("Invalid as: must be a string!");var o=n.rows,s=[],l=vv.default(o,i);St.forIn(l,function(c){var u=c.length,v=vv.default(c,[t]);St.forIn(v,function(f){var h=f.length,g=f[0],p=g[t];g[e]=h,g[t]=p,g[a]=h/u,s.push(g)})}),n.rows=s}u6.DataSet.registerTransform("proportion",s6);var oi=ln,Kp=on;function Zp(n,r){var e=r.map||{},t={};oi.isPlainObject(e)&&oi.forIn(e,function(i,a){oi.isString(i)&&oi.isString(a)&&(t[a]=i)}),n.rows.forEach(function(i){oi.forIn(t,function(a,o){var s=i[o];delete i[o],i[a]=s})})}Kp.DataSet.registerTransform("rename",Zp);Kp.DataSet.registerTransform("rename-fields",Zp);var c6=on;c6.DataSet.registerTransform("reverse",function(n){n.rows.reverse()});var v6=on;v6.DataSet.registerTransform("sort",function(n,r){var e=n.getColumnName(0);n.rows.sort(r.callback||function(t,i){return t[e]-i[e]})});var hv=ln,Qp=on,h6=Ln,gv=["ASC","DESC"];function nd(n,r){var e=h6.getFields(r,[n.getColumnName(0)]);if(!hv.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");n.rows=hv.sortBy(n.rows,e);var t=r.order;if(t&&gv.indexOf(t)===-1)throw new TypeError("Invalid order: "+t+" must be one of "+gv.join(", "));t==="DESC"&&n.rows.reverse()}Qp.DataSet.registerTransform("sort-by",nd);Qp.DataSet.registerTransform("sortBy",nd);var g6=on,p6=Ln;g6.DataSet.registerTransform("subset",function(n,r){var e=r.startRowIndex||0,t=r.endRowIndex||n.rows.length-1,i=p6.getFields(r,n.getColumnNames());n.rows=n.getSubset(e,t,i)});var d6=En,Lf=ln,m6=d6.__importDefault(qr),rd=on,y6={fillBy:"group",groupBy:[],orderBy:[]};function pv(n,r){var e=n.map(function(t){return t});return r.forEach(function(t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}),e}function ed(n,r){r=Lf.assign({},y6,r);var e=n.rows,t=r.groupBy,i=r.orderBy,a=m6.default(e,t,i),o=0,s=[];Lf.forIn(a,function(g){g.length>o&&(o=g.length,s=g)});var l=[],c={};if(s.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");l.push(p),c[p]=g}),r.fillBy==="order"){var u=s[0],v=[],f={};e.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");v.indexOf(p)===-1&&(v.push(p),f[p]=g)});var h=pv(v,l);h.forEach(function(g){var p={};t.forEach(function(d){p[d]=u[d]}),i.forEach(function(d){p[d]=f[g][d]}),e.push(p),s.push(p),l.push(g),c[g]=p}),o=s.length}Lf.forIn(a,function(g){if(g!==s&&g.length<o){var p=g[0],d=[];g.forEach(function(w){d.push(i.map(function(E){return w[E]}).join("-"))});var m=pv(l,d);m.some(function(w,E){if(E>=o-g.length)return!0;var S=c[w],_={};return t.forEach(function(M){_[M]=p[M]}),i.forEach(function(M){_[M]=S[M]}),e.push(_),!1})}})}rd.DataSet.registerTransform("fill-rows",ed);rd.DataSet.registerTransform("fillRows",ed);var td=En,at=ln,w6=td.__importStar(ie.exports),E6=td.__importDefault(qr),S6=on,$6=Ln,_6={groupBy:[]};function dv(n){return n.filter(function(r){return!at.isUndefined(r)})}var id=["mean","median","max","min"],Uc={};id.forEach(function(n){Uc[n]=function(r,e){return w6[n](e)}});Uc.value=function(n,r,e){return e};function T6(n,r){r=at.assign({},_6,r);var e=$6.getField(r),t=r.method;if(!t)throw new TypeError("Invalid method!");if(t==="value"&&!at.has(r,"value"))throw new TypeError("Invalid value: it is nil.");var i=dv(n.getColumn(e)),a=E6.default(n.rows,r.groupBy);at.forIn(a,function(o){var s=dv(o.map(function(l){return l[e]}));s.length===0&&(s=i),o.forEach(function(l){if(at.isUndefined(l[e]))if(at.isFunction(t))l[e]=t(l,s,r.value,o);else if(at.isString(t))l[e]=Uc[t](l,s,r.value);else throw new TypeError("Invalid method: must be a function or one of "+id.join(", "))})})}S6.DataSet.registerTransform("impute",T6);var ad={};Object.defineProperty(ad,"__esModule",{value:!0});var od=En,Jr=ln,M6=od.__importStar(ie.exports),P6=od.__importDefault(qr),ud=on,fd=ud.DataSet.registerTransform,x6=Ln,R6={as:[],fields:[],groupBy:[],operations:[]},mv="count",Ui={count:function(n){return n.length},distinct:function(n,r){var e=Jr.uniq(n.map(function(t){return t[r]}));return e.length}};ud.DataSet.CONSTANTS.STATISTICS_METHODS.forEach(function(n){Ui[n]=function(r,e){var t=r.map(function(i){return i[e]});return Jr.isArray(t)&&Jr.isArray(t[0])&&(t=Jr.flattenDeep(t)),M6[n](t)}});Ui.average=Ui.mean;function ld(n,r){r=Jr.assign({},R6,r);var e=x6.getFields(r);if(!Jr.isArray(e))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var t=r.as||[];Jr.isString(t)&&(t=[t]);var i=r.operations;Jr.isString(i)&&(i=[i]);var a=[mv];if((!Jr.isArray(i)||!i.length)&&(console.warn('operations is not defined, will use [ "count" ] directly.'),i=a,t=i),!(i.length===1&&i[0]===mv)){if(i.length!==e.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(t.length!==e.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var o=P6.default(n.rows,r.groupBy),s=[];Jr.forIn(o,function(l){var c=l[0];i.forEach(function(u,v){var f=t[v],h=e[v];c[f]=Ui[u](l,h)}),s.push(c)}),n.rows=s}fd("aggregate",ld);fd("summary",ld);ad.default={VALID_AGGREGATES:Jr.keys(Ui)};var sd={},cd={exports:{}};(function(n,r){(function(e,t){t(n)})(hu,function(e){function t(f,h,g){return h in f?Object.defineProperty(f,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[h]=g,f}var i=Object.assign||function(f){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(f[p]=g[p])}return f};function a(f){if(Array.isArray(f)){for(var h=0,g=Array(f.length);h<f.length;h++)g[h]=f[h];return g}else return Array.from(f)}var o={order:2,precision:2,period:null};function s(f,h){var g=[],p=[];f.forEach(function(S,_){S[1]!==null&&(p.push(S),g.push(h[_]))});var d=p.reduce(function(S,_){return S+_[1]},0),m=d/p.length,w=p.reduce(function(S,_){var M=_[1]-m;return S+M*M},0),E=p.reduce(function(S,_,M){var N=g[M],k=_[1]-N[1];return S+k*k},0);return 1-E/w}function l(f,h){for(var g=f,p=f.length-1,d=[h],m=0;m<p;m++){for(var w=m,E=m+1;E<p;E++)Math.abs(g[m][E])>Math.abs(g[m][w])&&(w=E);for(var S=m;S<p+1;S++){var _=g[S][m];g[S][m]=g[S][w],g[S][w]=_}for(var M=m+1;M<p;M++)for(var N=p;N>=m;N--)g[N][M]-=g[N][m]*g[m][M]/g[m][m]}for(var k=p-1;k>=0;k--){for(var L=0,D=k+1;D<p;D++)L+=g[D][k]*d[D];d[k]=(g[p][k]-L)/g[k][k]}return d}function c(f,h){var g=Math.pow(10,h);return Math.round(f*g)/g}var u={linear:function(h,g){for(var p=[0,0,0,0,0],d=0,m=0;m<h.length;m++)h[m][1]!==null&&(d++,p[0]+=h[m][0],p[1]+=h[m][1],p[2]+=h[m][0]*h[m][0],p[3]+=h[m][0]*h[m][1],p[4]+=h[m][1]*h[m][1]);var w=d*p[2]-p[0]*p[0],E=d*p[3]-p[0]*p[1],S=w===0?0:c(E/w,g.precision),_=c(p[1]/d-S*p[0]/d,g.precision),M=function(L){return[c(L,g.precision),c(S*L+_,g.precision)]},N=h.map(function(k){return M(k[0])});return{points:N,predict:M,equation:[S,_],r2:c(s(h,N),g.precision),string:_===0?"y = "+S+"x":"y = "+S+"x + "+_}},exponential:function(h,g){for(var p=[0,0,0,0,0,0],d=0;d<h.length;d++)h[d][1]!==null&&(p[0]+=h[d][0],p[1]+=h[d][1],p[2]+=h[d][0]*h[d][0]*h[d][1],p[3]+=h[d][1]*Math.log(h[d][1]),p[4]+=h[d][0]*h[d][1]*Math.log(h[d][1]),p[5]+=h[d][0]*h[d][1]);var m=p[1]*p[2]-p[5]*p[5],w=Math.exp((p[2]*p[3]-p[5]*p[4])/m),E=(p[1]*p[4]-p[5]*p[3])/m,S=c(w,g.precision),_=c(E,g.precision),M=function(L){return[c(L,g.precision),c(S*Math.exp(_*L),g.precision)]},N=h.map(function(k){return M(k[0])});return{points:N,predict:M,equation:[S,_],string:"y = "+S+"e^("+_+"x)",r2:c(s(h,N),g.precision)}},logarithmic:function(h,g){for(var p=[0,0,0,0],d=h.length,m=0;m<d;m++)h[m][1]!==null&&(p[0]+=Math.log(h[m][0]),p[1]+=h[m][1]*Math.log(h[m][0]),p[2]+=h[m][1],p[3]+=Math.pow(Math.log(h[m][0]),2));var w=(d*p[1]-p[2]*p[0])/(d*p[3]-p[0]*p[0]),E=c(w,g.precision),S=c((p[2]-E*p[0])/d,g.precision),_=function(k){return[c(k,g.precision),c(c(S+E*Math.log(k),g.precision),g.precision)]},M=h.map(function(N){return _(N[0])});return{points:M,predict:_,equation:[S,E],string:"y = "+S+" + "+E+" ln(x)",r2:c(s(h,M),g.precision)}},power:function(h,g){for(var p=[0,0,0,0,0],d=h.length,m=0;m<d;m++)h[m][1]!==null&&(p[0]+=Math.log(h[m][0]),p[1]+=Math.log(h[m][1])*Math.log(h[m][0]),p[2]+=Math.log(h[m][1]),p[3]+=Math.pow(Math.log(h[m][0]),2));var w=(d*p[1]-p[0]*p[2])/(d*p[3]-Math.pow(p[0],2)),E=(p[2]-w*p[0])/d,S=c(Math.exp(E),g.precision),_=c(w,g.precision),M=function(L){return[c(L,g.precision),c(c(S*Math.pow(L,_),g.precision),g.precision)]},N=h.map(function(k){return M(k[0])});return{points:N,predict:M,equation:[S,_],string:"y = "+S+"x^"+_,r2:c(s(h,N),g.precision)}},polynomial:function(h,g){for(var p=[],d=[],m=0,w=0,E=h.length,S=g.order+1,_=0;_<S;_++){for(var M=0;M<E;M++)h[M][1]!==null&&(m+=Math.pow(h[M][0],_)*h[M][1]);p.push(m),m=0;for(var N=[],k=0;k<S;k++){for(var L=0;L<E;L++)h[L][1]!==null&&(w+=Math.pow(h[L][0],_+k));N.push(w),w=0}d.push(N)}d.push(p);for(var D=l(d,S).map(function(y){return c(y,g.precision)}),A=function(P){return[c(P,g.precision),c(D.reduce(function(x,O,J){return x+O*Math.pow(P,J)},0),g.precision)]},C=h.map(function(y){return A(y[0])}),z="y = ",$=D.length-1;$>=0;$--)$>1?z+=D[$]+"x^"+$+" + ":$===1?z+=D[$]+"x + ":z+=D[$];return{string:z,points:C,predict:A,equation:[].concat(a(D)).reverse(),r2:c(s(h,C),g.precision)}}};function v(){var f=function(g,p){return i({_round:c},g,t({},p,function(d,m){return u[p](d,i({},o,m))}))};return Object.keys(u).reduce(f,{})}e.exports=v()})})(cd);var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});var C6=En;Zt.default=function(n,r){for(var e=r||1,t=C6.__read(n,2),i=t[0],a=t[1],o=[],s=i;s<a;)o.push(s),s+=e;return o.push(a),o};var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.nrd=ke.silverman=void 0;var Wl=ie.exports;function k6(n){var r=Wl.standardDeviation(n),e=4*Math.pow(r,5),t=3*n.length;return Math.pow(e/t,.2)}ke.silverman=k6;function b6(n){var r=Wl.standardDeviation(n),e=Wl.interquartileRange(n);return typeof e=="number"&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(n.length,-.2)}ke.nrd=b6;Object.defineProperty(sd,"__esModule",{value:!0});var Ni=En,L6=Ni.__importDefault(cd.exports),ba=ln,N6=Ni.__importDefault(Zt),A6=on,I6=Ln,D6=ke,O6={as:["x","y"],method:"linear",order:2,precision:2},jl=["linear","exponential","logarithmic","power","polynomial"];function F6(n,r){r=ba.assign({},O6,r);var e=I6.getFields(r);if(!ba.isArray(e)||e.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings.");var t=Ni.__read(e,2),i=t[0],a=t[1],o=r.method;if(jl.indexOf(o)===-1)throw new TypeError("invalid method: "+o+". Must be one of "+jl.join(", "));var s=n.rows.map(function(d){return[d[i],d[a]]}),l=L6.default[o](s,r),c=r.extent;(!ba.isArray(c)||c.length!==2)&&(c=n.range(i));var u=r.bandwidth;(!ba.isNumber(u)||u<=0)&&(u=D6.silverman(n.getColumn(i)));var v=N6.default(c,u),f=[],h=Ni.__read(r.as,2),g=h[0],p=h[1];v.forEach(function(d){var m={},w=Ni.__read(l.predict(d),2),E=w[0],S=w[1];m[g]=E,m[p]=S,isFinite(S)&&f.push(m)}),n.rows=f}A6.DataSet.registerTransform("regression",F6);sd.default={REGRESSION_METHODS:jl};var vd={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});function yv(n){return Math.abs(n)<=1?.5:0}function q6(n){var r=1-Math.pow(Math.abs(n),3);return Math.pow(r,3)}ea.default={boxcar:yv,cosine:function(n){return Math.abs(n)<=1?Math.PI/4*Math.cos(Math.PI/2*n):0},epanechnikov:function(n){return Math.abs(n)<1?.75*(1-n*n):0},gaussian:function(n){return .3989422804*Math.exp(-.5*n*n)},quartic:function(n){if(Math.abs(n)<1){var r=1-n*n;return 15/16*r*r}return 0},triangular:function(n){var r=Math.abs(n);return r<1?1-r:0},tricube:function(n){return Math.abs(n)<1?70/81*q6(n):0},triweight:function(n){if(Math.abs(n)<1){var r=1-n*n;return 35/32*r*r*r}return 0},uniform:yv};Object.defineProperty(vd,"__esModule",{value:!0});var st=En,fr=ln,z6=st.__importDefault(Zt),hd=st.__importDefault(ea),Za=st.__importStar(ke),B6=st.__importDefault(qr),Hc=on,G6=Ln,U6=ie.exports,H6={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},Jl=fr.keys(hd.default),Y6=fr.keys(Za);function Yc(n,r){r=fr.assign({},H6,r);var e=G6.getFields(r);if(!fr.isArray(e)||e.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var t=r.as;if(!fr.isArray(t)||t.length!==3)throw new TypeError("invalid as: must be an array of 3 strings!");var i=r.method;if(fr.isString(i)){if(Jl.indexOf(i)===-1)throw new TypeError("invalid method: "+i+". Must be one of "+Jl.join(", "));i=hd.default[i]}if(!fr.isFunction(i))throw new TypeError("invalid method: kernel method must be a function!");var a=r.extent;if(!fr.isArray(a)||a.length===0){var o=[];fr.each(e,function(f){var h=n.range(f);o=o.concat(h)}),a=[Math.min.apply(Math,st.__spread(o)),Math.max.apply(Math,st.__spread(o))]}var s=r.bandwidth;fr.isString(s)&&Za[s]?s=Za[s](n.getColumn(e[0])):fr.isFunction(s)?s=s(n.getColumn(e[0])):(!fr.isNumber(s)||s<=0)&&(s=Za.nrd(n.getColumn(e[0])));var l=z6.default(a,r.step?r.step:s),c=[],u=r.groupBy,v=B6.default(n.rows,u);fr.forIn(v,function(f){var h={};fr.each(e,function(g){var p=fr.pick(f[0],u);h[g]=U6.kernelDensityEstimation(f.map(function(S){return S[g]}),i,s);var d=st.__read(t,3),m=d[0],w=d[1],E=d[2];p[m]=g,p[w]=[],p[E]=[],fr.each(l,function(S){var _=h[g](S);_>=r.minSize&&(p[w].push(S),p[E].push(_))}),c.push(p)})}),n.rows=c}Hc.DataSet.registerTransform("kernel-density-estimation",Yc);Hc.DataSet.registerTransform("kde",Yc);Hc.DataSet.registerTransform("KDE",Yc);vd.default={KERNEL_METHODS:Jl,BANDWIDTH_METHODS:Y6};var jr=En,La=ln,Vc=on,V6=Ln,X6={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},wv=Math.sqrt(3),ui=Math.PI/3,W6=[0,ui,2*ui,3*ui,4*ui,5*ui];function Ev(n,r,e,t){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function Sv(n,r,e){var t=n-e;r=r/2;var i=Math.floor(t/r),a=r*(i+(Math.abs(i%2)===1?1:0)),o=r*(i+(Math.abs(i%2)===1?0:1));return[a+e,o+e]}function j6(n,r,e){r===void 0&&(r=[1,1]),e===void 0&&(e=[0,0]);var t={},i=jr.__read(r,2),a=i[0],o=i[1],s=jr.__read(e,2),l=s[0],c=s[1];return n.forEach(function(u){var v,f,h=jr.__read(u,2),g=h[0],p=h[1],d=jr.__read(Sv(g,a,l),2),m=d[0],w=d[1],E=jr.__read(Sv(p,o,c),2),S=E[0],_=E[1],M=Ev(g,p,m,S),N=Ev(g,p,w,_),k,L,D;M<N?(k="x"+m+"y"+S,v=jr.__read([m,S],2),L=v[0],D=v[1]):(k="x"+w+"y"+_,f=jr.__read([w,_],2),L=f[0],D=f[1]),t[k]=t[k]||{x:L,y:D,count:0},t[k].count++}),t}function Xc(n,r){r=La.assign({},X6,r);var e=V6.getFields(r);if(!La.isArray(e)||e.length!==2)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var t=jr.__read(e,2),i=t[0],a=t[1],o=n.range(i),s=n.range(a),l=o[1]-o[0],c=s[1]-s[0],u=r.binWidth||[];if(u.length!==2){var v=jr.__read(r.bins,2),f=v[0],h=v[1];if(f<=0||h<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");u=[l/f,c/h]}var g=jr.__read(r.offset,2),p=g[0],d=g[1],m=3*u[0]/(wv*u[1]),w=n.rows.map(function(C){return[C[i],m*C[a]]}),E=j6(w,[u[0],m*u[1]],[p,m*d]),S=jr.__read(r.as,3),_=S[0],M=S[1],N=S[2];if(!_||!M||!N)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var k=u[0]/wv,L=W6.map(function(C){return[Math.sin(C)*k,-Math.cos(C)*k]}),D=[],A=0;r.sizeByCount&&La.forIn(E,function(C){C.count>A&&(A=C.count)}),La.forIn(E,function(C){var z=C.x,$=C.y,y=C.count,P={};P[N]=y,r.sizeByCount?(P[_]=L.map(function(x){return z+C.count/A*x[0]}),P[M]=L.map(function(x){return($+C.count/A*x[1])/m})):(P[_]=L.map(function(x){return z+x[0]}),P[M]=L.map(function(x){return($+x[1])/m})),D.push(P)}),n.rows=D}Vc.DataSet.registerTransform("bin.hexagon",Xc);Vc.DataSet.registerTransform("bin.hex",Xc);Vc.DataSet.registerTransform("hexbin",Xc);var Kl=En,fi=ln,J6=Kl.__importDefault(qr),gd=on,K6=Ln,Z6={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function Q6(n,r,e){var t=n-e,i=Math.floor(t/r);return[i*r+e,(i+1)*r+e]}function nS(n){return Math.ceil(Math.log(n)/Math.LN2)+1}function pd(n,r){r=fi.assign({},Z6,r);var e=K6.getField(r);if(n.rows.length!==0){var t=n.range(e),i=t[1]-t[0],a=r.binWidth,o=r.bins;if(!a&&o){if(o<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=i/o}if(!a&&!o){var s=nS(n.rows.length);a=i/s}var l=r.offset%a,c=[],u=r.groupBy,v=J6.default(n.rows,u);fi.forIn(v,function(f){var h={},g=f.map(function(E){return E[e]});g.forEach(function(E){var S=Kl.__read(Q6(E,a,l),2),_=S[0],M=S[1],N=_+"-"+M;h[N]=h[N]||{x0:_,x1:M,count:0},h[N].count++});var p=Kl.__read(r.as,2),d=p[0],m=p[1];if(!d||!m)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var w=fi.pick(f[0],u);fi.forIn(h,function(E){var S=fi.assign({},w);S[d]=[E.x0,E.x1],S[m]=E.count,c.push(S)})}),n.rows=c}}gd.DataSet.registerTransform("bin.histogram",pd);gd.DataSet.registerTransform("bin.dot",pd);var dd=En,Na=ln,rS=ie.exports,eS=dd.__importDefault(qr),tS=dd.__importDefault(bu),iS=on,aS=iS.DataSet.registerTransform,oS=Ln,uS={as:"_bin",groupBy:[],fraction:4};function fS(n,r){r=Na.assign({},uS,r);var e=oS.getField(r),t=r.as;if(!Na.isString(t))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var i=r.p,a=r.fraction;(!Na.isArray(i)||i.length===0)&&(i=tS.default(a));var o=n.rows,s=r.groupBy,l=eS.default(o,s),c=[];Na.forIn(l,function(u){var v=u[0],f=u.map(function(g){return g[e]}),h=i.map(function(g){return rS.quantile(f,g)});v[t]=h,c.push(v)}),n.rows=c}aS("bin.quantile",fS);var Qe=En,Aa=ln,lS=on,md=lS.DataSet.registerTransform,sS=Ln,cS={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function $v(n,r,e){var t=n-e,i=Math.floor(t/r);return[i*r+e,(i+1)*r+e]}function yd(n,r){r=Aa.assign({},cS,r);var e=Qe.__read(sS.getFields(r),2),t=e[0],i=e[1];if(!t||!i)throw new TypeError("Invalid fields: must be an array with 2 strings!");var a=n.range(t),o=n.range(i),s=a[1]-a[0],l=o[1]-o[0],c=r.binWidth||[];if(c.length!==2){var u=Qe.__read(r.bins,2),v=u[0],f=u[1];if(v<=0||f<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");c=[s/v,l/f]}var h=n.rows.map(function(k){return[k[t],k[i]]}),g={},p=Qe.__read(r.offset,2),d=p[0],m=p[1];h.forEach(function(k){var L=Qe.__read($v(k[0],c[0],d),2),D=L[0],A=L[1],C=Qe.__read($v(k[1],c[1],m),2),z=C[0],$=C[1],y=D+"-"+A+"-"+z+"-"+$;g[y]=g[y]||{x0:D,x1:A,y0:z,y1:$,count:0},g[y].count++});var w=[],E=Qe.__read(r.as,3),S=E[0],_=E[1],M=E[2];if(!S||!_||!M)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(!r.sizeByCount)Aa.forIn(g,function(k){var L={};L[S]=[k.x0,k.x1,k.x1,k.x0],L[_]=[k.y0,k.y0,k.y1,k.y1],L[M]=k.count,w.push(L)});else{var N=0;Aa.forIn(g,function(k){k.count>N&&(N=k.count)}),Aa.forIn(g,function(k){var L=k.x0,D=k.x1,A=k.y0,C=k.y1,z=k.count,$=z/N,y=Qe.__read([(L+D)/2,(A+C)/2],2),P=y[0],x=y[1],O=(D-L)*$/2,J=(C-A)*$/2,cn=P-O,rn=P+O,sn=x-J,mn=x+J,zn={};zn[S]=[cn,rn,rn,cn],zn[_]=[sn,sn,mn,mn],zn[M]=z,w.push(zn)})}n.rows=w}md("bin.rectangle",yd);md("bin.rect",yd);var Nf=ln,vS=on,hS=vS.DataSet.registerTransform,gS=Ln,pS={as:["_centroid_x","_centroid_y"]};function dS(n,r){r=Nf.assign({},pS,r);var e=gS.getField(r),t=r.geoView||r.geoDataView;if(Nf.isString(t)&&n.dataSet&&(t=n.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=r.as;if(!Nf.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var a=i[0],o=i[1];n.rows.forEach(function(s){var l=t.geoFeatureByName(s[e]);l&&(t._projectedAs?(s[a]=l[t._projectedAs[2]],s[o]=l[t._projectedAs[3]]):(s[a]=l.centroidX,s[o]=l.centroidY))})}hS("geo.centroid",dS);var Wc=En,_v=ln,mS=ji,yS=Wc.__importDefault(xp),wS=on,ES=wS.DataSet.registerTransform,SS=Wc.__importDefault(Cu),$S={as:["_x","_y","_centroid_x","_centroid_y"]};function _S(n,r){if(n.dataType!=="geo"&&n.dataType!=="geo-graticule")throw new TypeError("Invalid dataView: this transform is for Geo data only!");r=_v.assign({},$S,r);var e=r.projection;if(!e)throw new TypeError("Invalid projection!");e=SS.default(e);var t=mS.geoPath(e),i=r.as;if(!_v.isArray(i)||i.length!==4)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');n._projectedAs=i;var a=Wc.__read(i,4),o=a[0],s=a[1],l=a[2],c=a[3];n.rows.forEach(function(u){u[o]=[],u[s]=[];var v=t(u);if(v){var f=yS.default(v);f._path.forEach(function(g){u[o].push(g[1]),u[s].push(g[2])});var h=t.centroid(u);u[l]=h[0],u[c]=h[1]}}),n.rows=n.rows.filter(function(u){return u[o].length!==0})}ES("geo.projection",_S);var Af=ln,TS=on,MS=TS.DataSet.registerTransform,PS=Ln,xS={as:["_x","_y"]};function RS(n,r){r=Af.assign({},xS,r);var e=PS.getField(r),t=r.geoView||r.geoDataView;if(Af.isString(t)&&(t=n.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=r.as;if(!Af.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var a=i[0],o=i[1];n.rows.forEach(function(s){var l=t.geoFeatureByName(s[e]);l&&(t._projectedAs?(s[a]=l[t._projectedAs[0]],s[o]=l[t._projectedAs[1]]):(s[a]=l.longitude,s[o]=l.latitude))})}MS("geo.region",RS);var Yt=ln,wd=on,CS={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(n){return n.id},source:function(n){return n.source},target:function(n){return n.target},sourceWeight:function(n){return n.value||1},targetWeight:function(n){return n.value||1},sortBy:null};function kS(n,r,e){return e===void 0&&(e={}),n.forEach(function(t){var i=r.edgeSource(t),a=r.edgeTarget(t);e[i]||(e[i]={id:i}),e[a]||(e[a]={id:a})}),Yt.values(e)}function bS(n,r,e){Yt.forIn(n,function(t,i){t.inEdges=r.filter(function(a){return""+e.target(a)==""+i}),t.outEdges=r.filter(function(a){return""+e.source(a)==""+i}),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach(function(a){t.value+=e.targetWeight(a)}),t.outEdges.forEach(function(a){t.value+=e.sourceWeight(a)})})}function LS(n,r){var e={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+r.id(i)).localeCompare(""+r.id(a))}},t=e[r.sortBy];!t&&Yt.isFunction(r.sortBy)&&(t=r.sortBy),t&&n.sort(t)}function NS(n,r){var e=n.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var t=r.marginRatio;if(t<0||t>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=t/(2*e),a=r.thickness;if(a<=0||a>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var o=0;n.forEach(function(l){o+=l.value}),n.forEach(function(l){l.weight=l.value/o,l.width=l.weight*(1-t),l.height=a}),n.forEach(function(l,c){for(var u=0,v=c-1;v>=0;v--)u+=n[v].width+2*i;var f=l.minX=i+u,h=l.maxX=l.minX+l.width,g=l.minY=r.y-a/2,p=l.maxY=g+a;l.x=[f,h,h,f],l.y=[g,g,p,p]})}else{var s=1/e;n.forEach(function(l,c){l.x=(c+.5)*s,l.y=r.y})}}function AS(n,r,e){if(e.weight){var t={};Yt.forIn(n,function(i,a){t[a]=i.value}),r.forEach(function(i){var a=e.source(i),o=e.target(i),s=n[a],l=n[o];if(s&&l){var c=t[a],u=e.sourceWeight(i),v=s.minX+(s.value-c)/s.value*s.width,f=v+u/s.value*s.width;t[a]-=u;var h=t[o],g=e.targetWeight(i),p=l.minX+(l.value-h)/l.value*l.width,d=p+g/l.value*l.width;t[o]-=g;var m=e.y;i.x=[v,f,p,d],i.y=[m,m,m,m]}})}else r.forEach(function(i){var a=n[e.source(i)],o=n[e.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y])})}function Ed(n,r){r=Yt.assign({},CS,r);var e={},t=n.nodes,i=n.edges;(!Yt.isArray(t)||t.length===0)&&(t=kS(i,r,e)),t.forEach(function(a){var o=r.id(a);e[o]=a}),bS(e,i,r),LS(t,r),NS(t,r),AS(e,i,r),n.nodes=t,n.edges=i}wd.DataSet.registerTransform("diagram.arc",Ed);wd.DataSet.registerTransform("arc",Ed);var au;if(typeof fh=="function")try{au=require("graphlib")}catch{}au||(au=window.graphlib);var ae=au,ou;if(typeof fh=="function")try{ou={cloneDeep:require("lodash/cloneDeep"),constant:require("lodash/constant"),defaults:require("lodash/defaults"),each:require("lodash/each"),filter:require("lodash/filter"),find:require("lodash/find"),flatten:require("lodash/flatten"),forEach:require("lodash/forEach"),forIn:require("lodash/forIn"),has:require("lodash/has"),isUndefined:require("lodash/isUndefined"),last:require("lodash/last"),map:require("lodash/map"),mapValues:require("lodash/mapValues"),max:require("lodash/max"),merge:require("lodash/merge"),min:require("lodash/min"),minBy:require("lodash/minBy"),now:require("lodash/now"),pick:require("lodash/pick"),range:require("lodash/range"),reduce:require("lodash/reduce"),sortBy:require("lodash/sortBy"),uniqueId:require("lodash/uniqueId"),values:require("lodash/values"),zipObject:require("lodash/zipObject")}}catch{}ou||(ou=window._);var Vn=ou,IS=Ou;function Ou(){var n={};n._next=n._prev=n,this._sentinel=n}Ou.prototype.dequeue=function(){var n=this._sentinel,r=n._prev;if(r!==n)return Sd(r),r};Ou.prototype.enqueue=function(n){var r=this._sentinel;n._prev&&n._next&&Sd(n),n._next=r._next,r._next._prev=n,r._next=n,n._prev=r};Ou.prototype.toString=function(){for(var n=[],r=this._sentinel,e=r._prev;e!==r;)n.push(JSON.stringify(e,DS)),e=e._prev;return"["+n.join(", ")+"]"};function Sd(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function DS(n,r){if(n!=="_next"&&n!=="_prev")return r}var _e=Vn,OS=ae.Graph,FS=IS,qS=BS,zS=_e.constant(1);function BS(n,r){if(n.nodeCount()<=1)return[];var e=US(n,r||zS),t=GS(e.graph,e.buckets,e.zeroIdx);return _e.flatten(_e.map(t,function(i){return n.outEdges(i.v,i.w)}),!0)}function GS(n,r,e){for(var t=[],i=r[r.length-1],a=r[0],o;n.nodeCount();){for(;o=a.dequeue();)If(n,r,e,o);for(;o=i.dequeue();)If(n,r,e,o);if(n.nodeCount()){for(var s=r.length-2;s>0;--s)if(o=r[s].dequeue(),o){t=t.concat(If(n,r,e,o,!0));break}}}return t}function If(n,r,e,t,i){var a=i?[]:void 0;return _e.forEach(n.inEdges(t.v),function(o){var s=n.edge(o),l=n.node(o.v);i&&a.push({v:o.v,w:o.w}),l.out-=s,Zl(r,e,l)}),_e.forEach(n.outEdges(t.v),function(o){var s=n.edge(o),l=o.w,c=n.node(l);c.in-=s,Zl(r,e,c)}),n.removeNode(t.v),a}function US(n,r){var e=new OS,t=0,i=0;_e.forEach(n.nodes(),function(s){e.setNode(s,{v:s,in:0,out:0})}),_e.forEach(n.edges(),function(s){var l=e.edge(s.v,s.w)||0,c=r(s),u=l+c;e.setEdge(s.v,s.w,u),i=Math.max(i,e.node(s.v).out+=c),t=Math.max(t,e.node(s.w).in+=c)});var a=_e.range(i+t+3).map(function(){return new FS}),o=t+1;return _e.forEach(e.nodes(),function(s){Zl(a,o,e.node(s))}),{graph:e,buckets:a,zeroIdx:o}}function Zl(n,r,e){e.out?e.in?n[e.out-e.in+r].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}var ft=Vn,HS=qS,YS={run:VS,undo:WS};function VS(n){var r=n.graph().acyclicer==="greedy"?HS(n,e(n)):XS(n);ft.forEach(r,function(t){var i=n.edge(t);n.removeEdge(t),i.forwardName=t.name,i.reversed=!0,n.setEdge(t.w,t.v,i,ft.uniqueId("rev"))});function e(t){return function(i){return t.edge(i).weight}}}function XS(n){var r=[],e={},t={};function i(a){ft.has(t,a)||(t[a]=!0,e[a]=!0,ft.forEach(n.outEdges(a),function(o){ft.has(e,o.w)?r.push(o):i(o.w)}),delete e[a])}return ft.forEach(n.nodes(),i),r}function WS(n){ft.forEach(n.edges(),function(r){var e=n.edge(r);if(e.reversed){n.removeEdge(r);var t=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(r.w,r.v,e,t)}})}var bn=Vn,$d=ae.Graph,Mr={addDummyNode:_d,simplify:jS,asNonCompoundGraph:JS,successorWeights:KS,predecessorWeights:ZS,intersectRect:QS,buildLayerMatrix:n8,normalizeRanks:r8,removeEmptyRanks:e8,addBorderNode:t8,maxRank:Td,partition:i8,time:a8,notime:o8};function _d(n,r,e,t){var i;do i=bn.uniqueId(t);while(n.hasNode(i));return e.dummy=r,n.setNode(i,e),i}function jS(n){var r=new $d().setGraph(n.graph());return bn.forEach(n.nodes(),function(e){r.setNode(e,n.node(e))}),bn.forEach(n.edges(),function(e){var t=r.edge(e.v,e.w)||{weight:0,minlen:1},i=n.edge(e);r.setEdge(e.v,e.w,{weight:t.weight+i.weight,minlen:Math.max(t.minlen,i.minlen)})}),r}function JS(n){var r=new $d({multigraph:n.isMultigraph()}).setGraph(n.graph());return bn.forEach(n.nodes(),function(e){n.children(e).length||r.setNode(e,n.node(e))}),bn.forEach(n.edges(),function(e){r.setEdge(e,n.edge(e))}),r}function KS(n){var r=bn.map(n.nodes(),function(e){var t={};return bn.forEach(n.outEdges(e),function(i){t[i.w]=(t[i.w]||0)+n.edge(i).weight}),t});return bn.zipObject(n.nodes(),r)}function ZS(n){var r=bn.map(n.nodes(),function(e){var t={};return bn.forEach(n.inEdges(e),function(i){t[i.v]=(t[i.v]||0)+n.edge(i).weight}),t});return bn.zipObject(n.nodes(),r)}function QS(n,r){var e=n.x,t=n.y,i=r.x-e,a=r.y-t,o=n.width/2,s=n.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),l=s*i/a,c=s):(i<0&&(o=-o),l=o,c=o*a/i),{x:e+l,y:t+c}}function n8(n){var r=bn.map(bn.range(Td(n)+1),function(){return[]});return bn.forEach(n.nodes(),function(e){var t=n.node(e),i=t.rank;bn.isUndefined(i)||(r[i][t.order]=e)}),r}function r8(n){var r=bn.min(bn.map(n.nodes(),function(e){return n.node(e).rank}));bn.forEach(n.nodes(),function(e){var t=n.node(e);bn.has(t,"rank")&&(t.rank-=r)})}function e8(n){var r=bn.min(bn.map(n.nodes(),function(a){return n.node(a).rank})),e=[];bn.forEach(n.nodes(),function(a){var o=n.node(a).rank-r;e[o]||(e[o]=[]),e[o].push(a)});var t=0,i=n.graph().nodeRankFactor;bn.forEach(e,function(a,o){bn.isUndefined(a)&&o%i!==0?--t:t&&bn.forEach(a,function(s){n.node(s).rank+=t})})}function t8(n,r,e,t){var i={width:0,height:0};return arguments.length>=4&&(i.rank=e,i.order=t),_d(n,"border",i,r)}function Td(n){return bn.max(bn.map(n.nodes(),function(r){var e=n.node(r).rank;if(!bn.isUndefined(e))return e}))}function i8(n,r){var e={lhs:[],rhs:[]};return bn.forEach(n,function(t){r(t)?e.lhs.push(t):e.rhs.push(t)}),e}function a8(n,r){var e=bn.now();try{return r()}finally{console.log(n+" time: "+(bn.now()-e)+"ms")}}function o8(n,r){return r()}var Md=Vn,u8=Mr,f8={run:l8,undo:c8};function l8(n){n.graph().dummyChains=[],Md.forEach(n.edges(),function(r){s8(n,r)})}function s8(n,r){var e=r.v,t=n.node(e).rank,i=r.w,a=n.node(i).rank,o=r.name,s=n.edge(r),l=s.labelRank;if(a!==t+1){n.removeEdge(r);var c,u,v;for(v=0,++t;t<a;++v,++t)s.points=[],u={width:0,height:0,edgeLabel:s,edgeObj:r,rank:t},c=u8.addDummyNode(n,"edge",u,"_d"),t===l&&(u.width=s.width,u.height=s.height,u.dummy="edge-label",u.labelpos=s.labelpos),n.setEdge(e,c,{weight:s.weight},o),v===0&&n.graph().dummyChains.push(c),e=c;n.setEdge(e,i,{weight:s.weight},o)}}function c8(n){Md.forEach(n.graph().dummyChains,function(r){var e=n.node(r),t=e.edgeLabel,i;for(n.setEdge(e.edgeObj,t);e.dummy;)i=n.successors(r)[0],n.removeNode(r),t.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height),r=i,e=n.node(r)})}var Ia=Vn,Fu={longestPath:v8,slack:h8};function v8(n){var r={};function e(t){var i=n.node(t);if(Ia.has(r,t))return i.rank;r[t]=!0;var a=Ia.min(Ia.map(n.outEdges(t),function(o){return e(o.w)-n.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Ia.forEach(n.sources(),e)}function h8(n,r){return n.node(r.w).rank-n.node(r.v).rank-n.edge(r).minlen}var uu=Vn,g8=ae.Graph,fu=Fu.slack,Pd=p8;function p8(n){var r=new g8({directed:!1}),e=n.nodes()[0],t=n.nodeCount();r.setNode(e,{});for(var i,a;d8(r,n)<t;)i=m8(r,n),a=r.hasNode(i.v)?fu(n,i):-fu(n,i),y8(r,n,a);return r}function d8(n,r){function e(t){uu.forEach(r.nodeEdges(t),function(i){var a=i.v,o=t===a?i.w:a;!n.hasNode(o)&&!fu(r,i)&&(n.setNode(o,{}),n.setEdge(t,o,{}),e(o))})}return uu.forEach(n.nodes(),e),n.nodeCount()}function m8(n,r){return uu.minBy(r.edges(),function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return fu(r,e)})}function y8(n,r,e){uu.forEach(n.nodes(),function(t){r.node(t).rank+=e})}var be=Vn,w8=Pd,E8=Fu.slack,S8=Fu.longestPath,$8=ae.alg.preorder,_8=ae.alg.postorder,T8=Mr.simplify,M8=mt;mt.initLowLimValues=Jc;mt.initCutValues=jc;mt.calcCutValue=xd;mt.leaveEdge=Cd;mt.enterEdge=kd;mt.exchangeEdges=bd;function mt(n){n=T8(n),S8(n);var r=w8(n);Jc(r),jc(r,n);for(var e,t;e=Cd(r);)t=kd(r,n,e),bd(r,n,e,t)}function jc(n,r){var e=_8(n,n.nodes());e=e.slice(0,e.length-1),be.forEach(e,function(t){P8(n,r,t)})}function P8(n,r,e){var t=n.node(e),i=t.parent;n.edge(e,i).cutvalue=xd(n,r,e)}function xd(n,r,e){var t=n.node(e),i=t.parent,a=!0,o=r.edge(e,i),s=0;return o||(a=!1,o=r.edge(i,e)),s=o.weight,be.forEach(r.nodeEdges(e),function(l){var c=l.v===e,u=c?l.w:l.v;if(u!==i){var v=c===a,f=r.edge(l).weight;if(s+=v?f:-f,R8(n,e,u)){var h=n.edge(e,u).cutvalue;s+=v?-h:h}}}),s}function Jc(n,r){arguments.length<2&&(r=n.nodes()[0]),Rd(n,{},1,r)}function Rd(n,r,e,t,i){var a=e,o=n.node(t);return r[t]=!0,be.forEach(n.neighbors(t),function(s){be.has(r,s)||(e=Rd(n,r,e,s,t))}),o.low=a,o.lim=e++,i?o.parent=i:delete o.parent,e}function Cd(n){return be.find(n.edges(),function(r){return n.edge(r).cutvalue<0})}function kd(n,r,e){var t=e.v,i=e.w;r.hasEdge(t,i)||(t=e.w,i=e.v);var a=n.node(t),o=n.node(i),s=a,l=!1;a.lim>o.lim&&(s=o,l=!0);var c=be.filter(r.edges(),function(u){return l===Tv(n,n.node(u.v),s)&&l!==Tv(n,n.node(u.w),s)});return be.minBy(c,function(u){return E8(r,u)})}function bd(n,r,e,t){var i=e.v,a=e.w;n.removeEdge(i,a),n.setEdge(t.v,t.w,{}),Jc(n),jc(n,r),x8(n,r)}function x8(n,r){var e=be.find(n.nodes(),function(i){return!r.node(i).parent}),t=$8(n,e);t=t.slice(1),be.forEach(t,function(i){var a=n.node(i).parent,o=r.edge(i,a),s=!1;o||(o=r.edge(a,i),s=!0),r.node(i).rank=r.node(a).rank+(s?o.minlen:-o.minlen)})}function R8(n,r,e){return n.hasEdge(r,e)}function Tv(n,r,e){return e.low<=r.lim&&r.lim<=e.lim}var C8=Fu,Ld=C8.longestPath,k8=Pd,b8=M8,L8=N8;function N8(n){switch(n.graph().ranker){case"network-simplex":Mv(n);break;case"tight-tree":I8(n);break;case"longest-path":A8(n);break;default:Mv(n)}}var A8=Ld;function I8(n){Ld(n),k8(n)}function Mv(n){b8(n)}var Ql=Vn,D8=O8;function O8(n){var r=q8(n);Ql.forEach(n.graph().dummyChains,function(e){for(var t=n.node(e),i=t.edgeObj,a=F8(n,r,i.v,i.w),o=a.path,s=a.lca,l=0,c=o[l],u=!0;e!==i.w;){if(t=n.node(e),u){for(;(c=o[l])!==s&&n.node(c).maxRank<t.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<o.length-1&&n.node(c=o[l+1]).minRank<=t.rank;)l++;c=o[l]}n.setParent(e,c),e=n.successors(e)[0]}})}function F8(n,r,e,t){var i=[],a=[],o=Math.min(r[e].low,r[t].low),s=Math.max(r[e].lim,r[t].lim),l,c;l=e;do l=n.parent(l),i.push(l);while(l&&(r[l].low>o||s>r[l].lim));for(c=l,l=t;(l=n.parent(l))!==c;)a.push(l);return{path:i.concat(a.reverse()),lca:c}}function q8(n){var r={},e=0;function t(i){var a=e;Ql.forEach(n.children(i),t),r[i]={low:a,lim:e++}}return Ql.forEach(n.children(),t),r}var Te=Vn,ns=Mr,z8={run:B8,cleanup:H8};function B8(n){var r=ns.addDummyNode(n,"root",{},"_root"),e=G8(n),t=Te.max(Te.values(e))-1,i=2*t+1;n.graph().nestingRoot=r,Te.forEach(n.edges(),function(o){n.edge(o).minlen*=i});var a=U8(n)+1;Te.forEach(n.children(),function(o){Nd(n,r,i,a,t,e,o)}),n.graph().nodeRankFactor=i}function Nd(n,r,e,t,i,a,o){var s=n.children(o);if(!s.length){o!==r&&n.setEdge(r,o,{weight:0,minlen:e});return}var l=ns.addBorderNode(n,"_bt"),c=ns.addBorderNode(n,"_bb"),u=n.node(o);n.setParent(l,o),u.borderTop=l,n.setParent(c,o),u.borderBottom=c,Te.forEach(s,function(v){Nd(n,r,e,t,i,a,v);var f=n.node(v),h=f.borderTop?f.borderTop:v,g=f.borderBottom?f.borderBottom:v,p=f.borderTop?t:2*t,d=h!==g?1:i-a[o]+1;n.setEdge(l,h,{weight:p,minlen:d,nestingEdge:!0}),n.setEdge(g,c,{weight:p,minlen:d,nestingEdge:!0})}),n.parent(o)||n.setEdge(r,l,{weight:0,minlen:i+a[o]})}function G8(n){var r={};function e(t,i){var a=n.children(t);a&&a.length&&Te.forEach(a,function(o){e(o,i+1)}),r[t]=i}return Te.forEach(n.children(),function(t){e(t,1)}),r}function U8(n){return Te.reduce(n.edges(),function(r,e){return r+n.edge(e).weight},0)}function H8(n){var r=n.graph();n.removeNode(r.nestingRoot),delete r.nestingRoot,Te.forEach(n.edges(),function(e){var t=n.edge(e);t.nestingEdge&&n.removeEdge(e)})}var Df=Vn,Y8=Mr,V8=X8;function X8(n){function r(e){var t=n.children(e),i=n.node(e);if(t.length&&Df.forEach(t,r),Df.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)Pv(n,"borderLeft","_bl",e,i,a),Pv(n,"borderRight","_br",e,i,a)}}Df.forEach(n.children(),r)}function Pv(n,r,e,t,i,a){var o={width:0,height:0,rank:a,borderType:r},s=i[r][a-1],l=Y8.addDummyNode(n,"border",o,e);i[r][a]=l,n.setParent(l,t),s&&n.setEdge(s,l,{weight:1})}var ge=Vn,W8={adjust:j8,undo:J8};function j8(n){var r=n.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&Ad(n)}function J8(n){var r=n.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&K8(n),(r==="lr"||r==="rl")&&(Z8(n),Ad(n))}function Ad(n){ge.forEach(n.nodes(),function(r){xv(n.node(r))}),ge.forEach(n.edges(),function(r){xv(n.edge(r))})}function xv(n){var r=n.width;n.width=n.height,n.height=r}function K8(n){ge.forEach(n.nodes(),function(r){Of(n.node(r))}),ge.forEach(n.edges(),function(r){var e=n.edge(r);ge.forEach(e.points,Of),ge.has(e,"y")&&Of(e)})}function Of(n){n.y=-n.y}function Z8(n){ge.forEach(n.nodes(),function(r){Ff(n.node(r))}),ge.forEach(n.edges(),function(r){var e=n.edge(r);ge.forEach(e.points,Ff),ge.has(e,"x")&&Ff(e)})}function Ff(n){var r=n.x;n.x=n.y,n.y=r}var we=Vn,Q8=n7;function n7(n){var r={},e=we.filter(n.nodes(),function(s){return!n.children(s).length}),t=we.max(we.map(e,function(s){return n.node(s).rank})),i=we.map(we.range(t+1),function(){return[]});function a(s){if(!we.has(r,s)){r[s]=!0;var l=n.node(s);i[l.rank].push(s),we.forEach(n.successors(s),a)}}var o=we.sortBy(e,function(s){return n.node(s).rank});return we.forEach(o,a),i}var Ie=Vn,r7=e7;function e7(n,r){for(var e=0,t=1;t<r.length;++t)e+=t7(n,r[t-1],r[t]);return e}function t7(n,r,e){for(var t=Ie.zipObject(e,Ie.map(e,function(c,u){return u})),i=Ie.flatten(Ie.map(r,function(c){return Ie.sortBy(Ie.map(n.outEdges(c),function(u){return{pos:t[u.w],weight:n.edge(u).weight}}),"pos")}),!0),a=1;a<e.length;)a<<=1;var o=2*a-1;a-=1;var s=Ie.map(new Array(o),function(){return 0}),l=0;return Ie.forEach(i.forEach(function(c){var u=c.pos+a;s[u]+=c.weight;for(var v=0;u>0;)u%2&&(v+=s[u+1]),u=u-1>>1,s[u]+=c.weight;l+=c.weight*v})),l}var Rv=Vn,i7=a7;function a7(n,r){return Rv.map(r,function(e){var t=n.inEdges(e);if(t.length){var i=Rv.reduce(t,function(a,o){var s=n.edge(o),l=n.node(o.v);return{sum:a.sum+s.weight*l.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:e}})}var br=Vn,o7=u7;function u7(n,r){var e={};br.forEach(n,function(i,a){var o=e[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};br.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),br.forEach(r.edges(),function(i){var a=e[i.v],o=e[i.w];!br.isUndefined(a)&&!br.isUndefined(o)&&(o.indegree++,a.out.push(e[i.w]))});var t=br.filter(e,function(i){return!i.indegree});return f7(t)}function f7(n){var r=[];function e(a){return function(o){o.merged||(br.isUndefined(o.barycenter)||br.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&l7(a,o)}}function t(a){return function(o){o.in.push(a),--o.indegree===0&&n.push(o)}}for(;n.length;){var i=n.pop();r.push(i),br.forEach(i.in.reverse(),e(i)),br.forEach(i.out,t(i))}return br.map(br.filter(r,function(a){return!a.merged}),function(a){return br.pick(a,["vs","i","barycenter","weight"])})}function l7(n,r){var e=0,t=0;n.weight&&(e+=n.barycenter*n.weight,t+=n.weight),r.weight&&(e+=r.barycenter*r.weight,t+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=e/t,n.weight=t,n.i=Math.min(r.i,n.i),r.merged=!0}var _i=Vn,s7=Mr,c7=v7;function v7(n,r){var e=s7.partition(n,function(u){return _i.has(u,"barycenter")}),t=e.lhs,i=_i.sortBy(e.rhs,function(u){return-u.i}),a=[],o=0,s=0,l=0;t.sort(h7(!!r)),l=Cv(a,i,l),_i.forEach(t,function(u){l+=u.vs.length,a.push(u.vs),o+=u.barycenter*u.weight,s+=u.weight,l=Cv(a,i,l)});var c={vs:_i.flatten(a,!0)};return s&&(c.barycenter=o/s,c.weight=s),c}function Cv(n,r,e){for(var t;r.length&&(t=_i.last(r)).i<=e;)r.pop(),n.push(t.vs),e++;return e}function h7(n){return function(r,e){return r.barycenter<e.barycenter?-1:r.barycenter>e.barycenter?1:n?e.i-r.i:r.i-e.i}}var ze=Vn,g7=i7,p7=o7,d7=c7,m7=Id;function Id(n,r,e,t){var i=n.children(r),a=n.node(r),o=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,l={};o&&(i=ze.filter(i,function(g){return g!==o&&g!==s}));var c=g7(n,i);ze.forEach(c,function(g){if(n.children(g.v).length){var p=Id(n,g.v,e,t);l[g.v]=p,ze.has(p,"barycenter")&&w7(g,p)}});var u=p7(c,e);y7(u,l);var v=d7(u,t);if(o&&(v.vs=ze.flatten([o,v.vs,s],!0),n.predecessors(o).length)){var f=n.node(n.predecessors(o)[0]),h=n.node(n.predecessors(s)[0]);ze.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+f.order+h.order)/(v.weight+2),v.weight+=2}return v}function y7(n,r){ze.forEach(n,function(e){e.vs=ze.flatten(e.vs.map(function(t){return r[t]?r[t].vs:t}),!0)})}function w7(n,r){ze.isUndefined(n.barycenter)?(n.barycenter=r.barycenter,n.weight=r.weight):(n.barycenter=(n.barycenter*n.weight+r.barycenter*r.weight)/(n.weight+r.weight),n.weight+=r.weight)}var Ti=Vn,E7=ae.Graph,S7=$7;function $7(n,r,e){var t=_7(n),i=new E7({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(a){return n.node(a)});return Ti.forEach(n.nodes(),function(a){var o=n.node(a),s=n.parent(a);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||t),Ti.forEach(n[e](a),function(l){var c=l.v===a?l.w:l.v,u=i.edge(c,a),v=Ti.isUndefined(u)?0:u.weight;i.setEdge(c,a,{weight:n.edge(l).weight+v})}),Ti.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),i}function _7(n){for(var r;n.hasNode(r=Ti.uniqueId("_root")););return r}var T7=Vn,M7=P7;function P7(n,r,e){var t={},i;T7.forEach(e,function(a){for(var o=n.parent(a),s,l;o;){if(s=n.parent(o),s?(l=t[s],t[s]=o):(l=i,i=o),l&&l!==o){r.setEdge(l,o);return}o=s}})}var Ue=Vn,x7=Q8,R7=r7,C7=m7,k7=S7,b7=M7,L7=ae.Graph,kv=Mr,N7=A7;function A7(n){var r=kv.maxRank(n),e=bv(n,Ue.range(1,r+1),"inEdges"),t=bv(n,Ue.range(r-1,-1,-1),"outEdges"),i=x7(n);Lv(n,i);for(var a=Number.POSITIVE_INFINITY,o,s=0,l=0;l<4;++s,++l){I7(s%2?e:t,s%4>=2),i=kv.buildLayerMatrix(n);var c=R7(n,i);c<a&&(l=0,o=Ue.cloneDeep(i),a=c)}Lv(n,o)}function bv(n,r,e){return Ue.map(r,function(t){return k7(n,t,e)})}function I7(n,r){var e=new L7;Ue.forEach(n,function(t){var i=t.graph().root,a=C7(t,i,e,r);Ue.forEach(a.vs,function(o,s){t.node(o).order=s}),b7(t,e,a.vs)})}function Lv(n,r){Ue.forEach(r,function(e){Ue.forEach(e,function(t,i){n.node(t).order=i})})}var hn=Vn,D7=ae.Graph,O7=Mr,F7={positionX:B7,findType1Conflicts:Dd,findType2Conflicts:Od,addConflict:Kc,hasConflict:Fd,verticalAlignment:qd,horizontalCompaction:zd,alignCoordinates:Gd,findSmallestWidthAlignment:Bd,balance:Ud};function Dd(n,r){var e={};function t(i,a){var o=0,s=0,l=i.length,c=hn.last(a);return hn.forEach(a,function(u,v){var f=q7(n,u),h=f?n.node(f).order:l;(f||u===c)&&(hn.forEach(a.slice(s,v+1),function(g){hn.forEach(n.predecessors(g),function(p){var d=n.node(p),m=d.order;(m<o||h<m)&&!(d.dummy&&n.node(g).dummy)&&Kc(e,p,g)})}),s=v+1,o=h)}),a}return hn.reduce(r,t),e}function Od(n,r){var e={};function t(a,o,s,l,c){var u;hn.forEach(hn.range(o,s),function(v){u=a[v],n.node(u).dummy&&hn.forEach(n.predecessors(u),function(f){var h=n.node(f);h.dummy&&(h.order<l||h.order>c)&&Kc(e,f,u)})})}function i(a,o){var s=-1,l,c=0;return hn.forEach(o,function(u,v){if(n.node(u).dummy==="border"){var f=n.predecessors(u);f.length&&(l=n.node(f[0]).order,t(o,c,v,s,l),c=v,s=l)}t(o,c,o.length,l,a.length)}),o}return hn.reduce(r,i),e}function q7(n,r){if(n.node(r).dummy)return hn.find(n.predecessors(r),function(e){return n.node(e).dummy})}function Kc(n,r,e){if(r>e){var t=r;r=e,e=t}var i=n[r];i||(n[r]=i={}),i[e]=!0}function Fd(n,r,e){if(r>e){var t=r;r=e,e=t}return hn.has(n[r],e)}function qd(n,r,e,t){var i={},a={},o={};return hn.forEach(r,function(s){hn.forEach(s,function(l,c){i[l]=l,a[l]=l,o[l]=c})}),hn.forEach(r,function(s){var l=-1;hn.forEach(s,function(c){var u=t(c);if(u.length){u=hn.sortBy(u,function(p){return o[p]});for(var v=(u.length-1)/2,f=Math.floor(v),h=Math.ceil(v);f<=h;++f){var g=u[f];a[c]===c&&l<o[g]&&!Fd(e,c,g)&&(a[g]=c,a[c]=i[c]=i[g],l=o[g])}}})}),{root:i,align:a}}function zd(n,r,e,t,i){var a={},o=z7(n,r,e,i),s=i?"borderLeft":"borderRight";function l(v,f){for(var h=o.nodes(),g=h.pop(),p={};g;)p[g]?v(g):(p[g]=!0,h.push(g),h=h.concat(f(g))),g=h.pop()}function c(v){a[v]=o.inEdges(v).reduce(function(f,h){return Math.max(f,a[h.v]+o.edge(h))},0)}function u(v){var f=o.outEdges(v).reduce(function(g,p){return Math.min(g,a[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=n.node(v);f!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(a[v]=Math.max(a[v],f))}return l(c,o.predecessors.bind(o)),l(u,o.successors.bind(o)),hn.forEach(t,function(v){a[v]=a[e[v]]}),a}function z7(n,r,e,t){var i=new D7,a=n.graph(),o=G7(a.nodesep,a.edgesep,t);return hn.forEach(r,function(s){var l;hn.forEach(s,function(c){var u=e[c];if(i.setNode(u),l){var v=e[l],f=i.edge(v,u);i.setEdge(v,u,Math.max(o(n,c,l),f||0))}l=c})}),i}function Bd(n,r){return hn.minBy(hn.values(r),function(e){var t=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return hn.forIn(e,function(a,o){var s=U7(n,o)/2;t=Math.max(a+s,t),i=Math.min(a-s,i)}),t-i})}function Gd(n,r){var e=hn.values(r),t=hn.min(e),i=hn.max(e);hn.forEach(["u","d"],function(a){hn.forEach(["l","r"],function(o){var s=a+o,l=n[s],c;if(l!==r){var u=hn.values(l);c=o==="l"?t-hn.min(u):i-hn.max(u),c&&(n[s]=hn.mapValues(l,function(v){return v+c}))}})})}function Ud(n,r){return hn.mapValues(n.ul,function(e,t){if(r)return n[r.toLowerCase()][t];var i=hn.sortBy(hn.map(n,t));return(i[1]+i[2])/2})}function B7(n){var r=O7.buildLayerMatrix(n),e=hn.merge(Dd(n,r),Od(n,r)),t={},i;hn.forEach(["u","d"],function(o){i=o==="u"?r:hn.values(r).reverse(),hn.forEach(["l","r"],function(s){s==="r"&&(i=hn.map(i,function(v){return hn.values(v).reverse()}));var l=(o==="u"?n.predecessors:n.successors).bind(n),c=qd(n,i,e,l),u=zd(n,i,c.root,c.align,s==="r");s==="r"&&(u=hn.mapValues(u,function(v){return-v})),t[o+s]=u})});var a=Bd(n,t);return Gd(t,a),Ud(t,n.graph().align)}function G7(n,r,e){return function(t,i,a){var o=t.node(i),s=t.node(a),l=0,c;if(l+=o.width/2,hn.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(l+=e?c:-c),c=0,l+=(o.dummy?r:n)/2,l+=(s.dummy?r:n)/2,l+=s.width/2,hn.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=e?c:-c),c=0,l}}function U7(n,r){return n.node(r).width}var Mi=Vn,Hd=Mr,H7=F7.positionX,Y7=V7;function V7(n){n=Hd.asNonCompoundGraph(n),X7(n),Mi.forEach(H7(n),function(r,e){n.node(e).x=r})}function X7(n){var r=Hd.buildLayerMatrix(n),e=n.graph().ranksep,t=0;Mi.forEach(r,function(i){var a=Mi.max(Mi.map(i,function(o){return n.node(o).height}));Mi.forEach(i,function(o){n.node(o).y=t+a/2}),t+=a+e})}var wn=Vn,Nv=YS,Av=f8,W7=L8,j7=Mr.normalizeRanks,J7=D8,K7=Mr.removeEmptyRanks,Iv=z8,Z7=V8,Dv=W8,Q7=N7,n$=Y7,Ve=Mr,r$=ae.Graph,e$=t$;function t$(n,r){var e=r&&r.debugTiming?Ve.time:Ve.notime;e("layout",function(){var t=e("  buildLayoutGraph",function(){return g$(n)});e("  runLayout",function(){i$(t,e)}),e("  updateInputGraph",function(){a$(n,t)})})}function i$(n,r){r("    makeSpaceForEdgeLabels",function(){p$(n)}),r("    removeSelfEdges",function(){T$(n)}),r("    acyclic",function(){Nv.run(n)}),r("    nestingGraph.run",function(){Iv.run(n)}),r("    rank",function(){W7(Ve.asNonCompoundGraph(n))}),r("    injectEdgeLabelProxies",function(){d$(n)}),r("    removeEmptyRanks",function(){K7(n)}),r("    nestingGraph.cleanup",function(){Iv.cleanup(n)}),r("    normalizeRanks",function(){j7(n)}),r("    assignRankMinMax",function(){m$(n)}),r("    removeEdgeLabelProxies",function(){y$(n)}),r("    normalize.run",function(){Av.run(n)}),r("    parentDummyChains",function(){J7(n)}),r("    addBorderSegments",function(){Z7(n)}),r("    order",function(){Q7(n)}),r("    insertSelfEdges",function(){M$(n)}),r("    adjustCoordinateSystem",function(){Dv.adjust(n)}),r("    position",function(){n$(n)}),r("    positionSelfEdges",function(){P$(n)}),r("    removeBorderNodes",function(){_$(n)}),r("    normalize.undo",function(){Av.undo(n)}),r("    fixupEdgeLabelCoords",function(){S$(n)}),r("    undoCoordinateSystem",function(){Dv.undo(n)}),r("    translateGraph",function(){w$(n)}),r("    assignNodeIntersects",function(){E$(n)}),r("    reversePoints",function(){$$(n)}),r("    acyclic.undo",function(){Nv.undo(n)})}function a$(n,r){wn.forEach(n.nodes(),function(e){var t=n.node(e),i=r.node(e);t&&(t.x=i.x,t.y=i.y,r.children(e).length&&(t.width=i.width,t.height=i.height))}),wn.forEach(n.edges(),function(e){var t=n.edge(e),i=r.edge(e);t.points=i.points,wn.has(i,"x")&&(t.x=i.x,t.y=i.y)}),n.graph().width=r.graph().width,n.graph().height=r.graph().height}var o$=["nodesep","edgesep","ranksep","marginx","marginy"],u$={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},f$=["acyclicer","ranker","rankdir","align"],l$=["width","height"],s$={width:0,height:0},c$=["minlen","weight","width","height","labeloffset"],v$={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},h$=["labelpos"];function g$(n){var r=new r$({multigraph:!0,compound:!0}),e=zf(n.graph());return r.setGraph(wn.merge({},u$,qf(e,o$),wn.pick(e,f$))),wn.forEach(n.nodes(),function(t){var i=zf(n.node(t));r.setNode(t,wn.defaults(qf(i,l$),s$)),r.setParent(t,n.parent(t))}),wn.forEach(n.edges(),function(t){var i=zf(n.edge(t));r.setEdge(t,wn.merge({},v$,qf(i,c$),wn.pick(i,h$)))}),r}function p$(n){var r=n.graph();r.ranksep/=2,wn.forEach(n.edges(),function(e){var t=n.edge(e);t.minlen*=2,t.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function d$(n){wn.forEach(n.edges(),function(r){var e=n.edge(r);if(e.width&&e.height){var t=n.node(r.v),i=n.node(r.w),a={rank:(i.rank-t.rank)/2+t.rank,e:r};Ve.addDummyNode(n,"edge-proxy",a,"_ep")}})}function m$(n){var r=0;wn.forEach(n.nodes(),function(e){var t=n.node(e);t.borderTop&&(t.minRank=n.node(t.borderTop).rank,t.maxRank=n.node(t.borderBottom).rank,r=wn.max(r,t.maxRank))}),n.graph().maxRank=r}function y$(n){wn.forEach(n.nodes(),function(r){var e=n.node(r);e.dummy==="edge-proxy"&&(n.edge(e.e).labelRank=e.rank,n.removeNode(r))})}function w$(n){var r=Number.POSITIVE_INFINITY,e=0,t=Number.POSITIVE_INFINITY,i=0,a=n.graph(),o=a.marginx||0,s=a.marginy||0;function l(c){var u=c.x,v=c.y,f=c.width,h=c.height;r=Math.min(r,u-f/2),e=Math.max(e,u+f/2),t=Math.min(t,v-h/2),i=Math.max(i,v+h/2)}wn.forEach(n.nodes(),function(c){l(n.node(c))}),wn.forEach(n.edges(),function(c){var u=n.edge(c);wn.has(u,"x")&&l(u)}),r-=o,t-=s,wn.forEach(n.nodes(),function(c){var u=n.node(c);u.x-=r,u.y-=t}),wn.forEach(n.edges(),function(c){var u=n.edge(c);wn.forEach(u.points,function(v){v.x-=r,v.y-=t}),wn.has(u,"x")&&(u.x-=r),wn.has(u,"y")&&(u.y-=t)}),a.width=e-r+o,a.height=i-t+s}function E$(n){wn.forEach(n.edges(),function(r){var e=n.edge(r),t=n.node(r.v),i=n.node(r.w),a,o;e.points?(a=e.points[0],o=e.points[e.points.length-1]):(e.points=[],a=i,o=t),e.points.unshift(Ve.intersectRect(t,a)),e.points.push(Ve.intersectRect(i,o))})}function S$(n){wn.forEach(n.edges(),function(r){var e=n.edge(r);if(wn.has(e,"x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})}function $$(n){wn.forEach(n.edges(),function(r){var e=n.edge(r);e.reversed&&e.points.reverse()})}function _$(n){wn.forEach(n.nodes(),function(r){if(n.children(r).length){var e=n.node(r),t=n.node(e.borderTop),i=n.node(e.borderBottom),a=n.node(wn.last(e.borderLeft)),o=n.node(wn.last(e.borderRight));e.width=Math.abs(o.x-a.x),e.height=Math.abs(i.y-t.y),e.x=a.x+e.width/2,e.y=t.y+e.height/2}}),wn.forEach(n.nodes(),function(r){n.node(r).dummy==="border"&&n.removeNode(r)})}function T$(n){wn.forEach(n.edges(),function(r){if(r.v===r.w){var e=n.node(r.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:r,label:n.edge(r)}),n.removeEdge(r)}})}function M$(n){var r=Ve.buildLayerMatrix(n);wn.forEach(r,function(e){var t=0;wn.forEach(e,function(i,a){var o=n.node(i);o.order=a+t,wn.forEach(o.selfEdges,function(s){Ve.addDummyNode(n,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:a+ ++t,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function P$(n){wn.forEach(n.nodes(),function(r){var e=n.node(r);if(e.dummy==="selfedge"){var t=n.node(e.e.v),i=t.x+t.width/2,a=t.y,o=e.x-i,s=t.height/2;n.setEdge(e.e,e.label),n.removeNode(r),e.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],e.label.x=e.x,e.label.y=e.y}})}function qf(n,r){return wn.mapValues(wn.pick(n,r),Number)}function zf(n){var r={};return wn.forEach(n,function(e,t){r[t.toLowerCase()]=e}),r}var Da=Vn,x$=Mr,R$=ae.Graph,C$={debugOrdering:k$};function k$(n){var r=x$.buildLayerMatrix(n),e=new R$({compound:!0,multigraph:!0}).setGraph({});return Da.forEach(n.nodes(),function(t){e.setNode(t,{label:t}),e.setParent(t,"layer"+n.node(t).rank)}),Da.forEach(n.edges(),function(t){e.setEdge(t.v,t.w,{},t.name)}),Da.forEach(r,function(t,i){var a="layer"+i;e.setNode(a,{rank:"same"}),Da.reduce(t,function(o,s){return e.setEdge(o,s,{style:"invis"}),s})}),e}var b$="0.8.5",L$={graphlib:ae,layout:e$,debug:C$,util:{time:Mr.time,notime:Mr.notime},version:b$},N$=En,A$=ln,Ov=N$.__importDefault(L$),Yd=on,I$={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(n){return n.source},target:function(n){return n.target}};function Vd(n,r){r=A$.assign({},I$,r);var e=new Ov.default.graphlib.Graph;e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),n.nodes.forEach(function(a){var o=r.nodeId?r.nodeId(a):a.id;!a.height&&!a.width&&(a.height=a.width=r.edgesep),e.setNode(o,a)}),n.edges.forEach(function(a){e.setEdge(r.source(a),r.target(a))}),Ov.default.layout(e);var t=[],i=[];e.nodes().forEach(function(a){var o=e.node(a),s=o.x,l=o.y,c=o.height,u=o.width;o.x=[s-u/2,s+u/2,s+u/2,s-u/2],o.y=[l+c/2,l+c/2,l-c/2,l-c/2],t.push(o)}),e.edges().forEach(function(a){var o=e.edge(a).points,s={};s.x=o.map(function(l){return l.x}),s.y=o.map(function(l){return l.y}),i.push(s)}),n.nodes=t,n.edges=i}Yd.DataSet.registerTransform("diagram.dagre",Vd);Yd.DataSet.registerTransform("dagre",Vd);var zr="$";function lu(){}lu.prototype=ta.prototype={constructor:lu,has:function(n){return zr+n in this},get:function(n){return this[zr+n]},set:function(n,r){return this[zr+n]=r,this},remove:function(n){var r=zr+n;return r in this&&delete this[r]},clear:function(){for(var n in this)n[0]===zr&&delete this[n]},keys:function(){var n=[];for(var r in this)r[0]===zr&&n.push(r.slice(1));return n},values:function(){var n=[];for(var r in this)r[0]===zr&&n.push(this[r]);return n},entries:function(){var n=[];for(var r in this)r[0]===zr&&n.push({key:r.slice(1),value:this[r]});return n},size:function(){var n=0;for(var r in this)r[0]===zr&&++n;return n},empty:function(){for(var n in this)if(n[0]===zr)return!1;return!0},each:function(n){for(var r in this)r[0]===zr&&n(this[r],r.slice(1),this)}};function ta(n,r){var e=new lu;if(n instanceof lu)n.each(function(s,l){e.set(l,s)});else if(Array.isArray(n)){var t=-1,i=n.length,a;if(r==null)for(;++t<i;)e.set(t,n[t]);else for(;++t<i;)e.set(r(a=n[t],t,n),a)}else if(n)for(var o in n)e.set(o,n[o]);return e}function D$(){var n=[],r=[],e,t,i;function a(s,l,c,u){if(l>=n.length)return e!=null&&s.sort(e),t!=null?t(s):s;for(var v=-1,f=s.length,h=n[l++],g,p,d=ta(),m,w=c();++v<f;)(m=d.get(g=h(p=s[v])+""))?m.push(p):d.set(g,[p]);return d.each(function(E,S){u(w,S,a(E,l,c,u))}),w}function o(s,l){if(++l>n.length)return s;var c,u=r[l-1];return t!=null&&l>=n.length?c=s.entries():(c=[],s.each(function(v,f){c.push({key:f,values:o(v,l)})})),u!=null?c.sort(function(v,f){return u(v.key,f.key)}):c}return i={object:function(s){return a(s,0,O$,F$)},map:function(s){return a(s,0,Fv,qv)},entries:function(s){return o(a(s,0,Fv,qv),0)},key:function(s){return n.push(s),i},sortKeys:function(s){return r[n.length-1]=s,i},sortValues:function(s){return e=s,i},rollup:function(s){return t=s,i}}}function O$(){return{}}function F$(n,r,e){n[r]=e}function Fv(){return ta()}function qv(n,r,e){n.set(r,e)}function zv(){}var nt=ta.prototype;zv.prototype={constructor:zv,has:nt.has,add:function(n){return n+="",this[zr+n]=n,this},remove:nt.remove,clear:nt.clear,values:nt.keys,size:nt.size,empty:nt.empty,each:nt.each};function q$(n){return n.target.depth}function z$(n){return n.depth}function B$(n,r){return r-1-n.height}function Xd(n,r){return n.sourceLinks.length?n.depth:r-1}function G$(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?cr(n.sourceLinks,q$)-1:0}function Oa(n){return function(){return n}}function Bv(n,r){return Zc(n.source,r.source)||n.index-r.index}function Gv(n,r){return Zc(n.target,r.target)||n.index-r.index}function Zc(n,r){return n.y0-r.y0}function Bf(n){return n.value}function U$(n){return n.index}function H$(n){return n.nodes}function Y$(n){return n.links}function Uv(n,r){var e=n.get(r);if(!e)throw new Error("missing: "+r);return e}function V$(){var n=0,r=0,e=1,t=1,i=24,a=8,o=U$,s=Xd,l,c=H$,u=Y$,v=6;function f(){var w={nodes:c.apply(null,arguments),links:u.apply(null,arguments)};return h(w),g(w),p(w),d(w),m(w),w}f.update=function(w){return m(w),w},f.nodeId=function(w){return arguments.length?(o=typeof w=="function"?w:Oa(w),f):o},f.nodeAlign=function(w){return arguments.length?(s=typeof w=="function"?w:Oa(w),f):s},f.nodeSort=function(w){return arguments.length?(l=w,f):l},f.nodeWidth=function(w){return arguments.length?(i=+w,f):i},f.nodePadding=function(w){return arguments.length?(a=+w,f):a},f.nodes=function(w){return arguments.length?(c=typeof w=="function"?w:Oa(w),f):c},f.links=function(w){return arguments.length?(u=typeof w=="function"?w:Oa(w),f):u},f.size=function(w){return arguments.length?(n=r=0,e=+w[0],t=+w[1],f):[e-n,t-r]},f.extent=function(w){return arguments.length?(n=+w[0][0],e=+w[1][0],r=+w[0][1],t=+w[1][1],f):[[n,r],[e,t]]},f.iterations=function(w){return arguments.length?(v=+w,f):v};function h(w){w.nodes.forEach(function(S,_){S.index=_,S.sourceLinks=[],S.targetLinks=[]});var E=ta(w.nodes,o);w.links.forEach(function(S,_){S.index=_;var M=S.source,N=S.target;typeof M!="object"&&(M=S.source=Uv(E,M)),typeof N!="object"&&(N=S.target=Uv(E,N)),M.sourceLinks.push(S),N.targetLinks.push(S)})}function g(w){w.nodes.forEach(function(E){E.value=Math.max(ju(E.sourceLinks,Bf),ju(E.targetLinks,Bf))})}function p(w){var E,S,_,M=w.nodes.length;for(E=w.nodes,S=[],_=0;E.length;++_,E=S,S=[]){if(_>M)throw new Error("circular link");E.forEach(function(k){k.depth=_,k.sourceLinks.forEach(function(L){S.indexOf(L.target)<0&&S.push(L.target)})})}for(E=w.nodes,S=[],_=0;E.length;++_,E=S,S=[]){if(_>M)throw new Error("circular link");E.forEach(function(k){k.height=_,k.targetLinks.forEach(function(L){S.indexOf(L.source)<0&&S.push(L.source)})})}var N=(e-n-i)/(_-1);w.nodes.forEach(function(k){k.x1=(k.x0=n+Math.max(0,Math.min(_-1,Math.floor(s.call(null,k,_))))*N)+i})}function d(w){var E=D$().key(function(D){return D.x0}).sortKeys(vs).entries(w.nodes).map(function(D){return D.values});M(),L();for(var S=.9,_=v;_>0;--_,S*=.9)k(S),L(),N(S),L();function M(){var D=cr(E,function(A){return(t-r-(A.length-1)*a)/ju(A,Bf)});E.forEach(function(A){l!=null&&A.sort(l),A.forEach(function(C,z){C.y1=(C.y0=z)+C.value*D})}),w.links.forEach(function(A){A.width=A.value*D})}function N(D){E.forEach(function(A){A.forEach(function(C){let z=C.y0;for(const{target:$,width:y,value:P}of C.sourceLinks.sort(Gv)){if(P>0){let x=0;for(const{source:O,width:J}of $.targetLinks){if(O===C)break;x+=J+a/2}x=(z-x-$.y0)*D*(P/Math.min(C.value,$.value)),$.y0+=x,$.y1+=x}z+=y+a/2}})})}function k(D){E.slice().reverse().forEach(function(A){A.forEach(function(C){let z=C.y0;for(const{source:$,width:y,value:P}of C.targetLinks.sort(Bv)){if(P>0){let x=0;for(const{target:O,width:J}of $.sourceLinks){if(O===C)break;x+=J+a/2}x=(z-x-$.y0)*D*(P/Math.min(C.value,$.value)),$.y0+=x,$.y1+=x}z+=y+a/2}})})}function L(){E.forEach(function(D){var A,C,z=r,$=D.length,y;for(l===void 0&&D.sort(Zc),y=0;y<$;++y)A=D[y],C=z-A.y0,C>0&&(A.y0+=C,A.y1+=C),z=A.y1+a;if(C=z-a-t,C>0)for(z=A.y0-=C,A.y1-=C,y=$-2;y>=0;--y)A=D[y],C=A.y1+a-z,C>0&&(A.y0-=C,A.y1-=C),z=A.y0})}}function m(w){w.nodes.forEach(function(E){E.sourceLinks.sort(Gv),E.targetLinks.sort(Bv)}),w.nodes.forEach(function(E){var S=E.y0,_=S;E.sourceLinks.forEach(function(M){M.y0=S+M.width/2,S+=M.width}),E.targetLinks.forEach(function(M){M.y1=_+M.width/2,_+=M.width})})}return f}var rs=Math.PI,es=2*rs,ot=1e-6,X$=es-ot;function ts(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wd(){return new ts}ts.prototype=Wd.prototype={constructor:ts,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,t){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(n,r,e,t,i,a){this._+="C"+ +n+","+ +r+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(n,r,e,t,i){n=+n,r=+r,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,s=e-n,l=t-r,c=a-n,u=o-r,v=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(v>ot)if(!(Math.abs(u*s-l*c)>ot)||!i)this._+="L"+(this._x1=n)+","+(this._y1=r);else{var f=e-a,h=t-o,g=s*s+l*l,p=f*f+h*h,d=Math.sqrt(g),m=Math.sqrt(v),w=i*Math.tan((rs-Math.acos((g+v-p)/(2*d*m)))/2),E=w/m,S=w/d;Math.abs(E-1)>ot&&(this._+="L"+(n+E*c)+","+(r+E*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*h)+","+(this._x1=n+S*s)+","+(this._y1=r+S*l)}},arc:function(n,r,e,t,i,a){n=+n,r=+r,e=+e,a=!!a;var o=e*Math.cos(t),s=e*Math.sin(t),l=n+o,c=r+s,u=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>ot||Math.abs(this._y1-c)>ot)&&(this._+="L"+l+","+c),e&&(v<0&&(v=v%es+es),v>X$?this._+="A"+e+","+e+",0,1,"+u+","+(n-o)+","+(r-s)+"A"+e+","+e+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):v>ot&&(this._+="A"+e+","+e+",0,"+ +(v>=rs)+","+u+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=r+e*Math.sin(i))))},rect:function(n,r,e,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function Hv(n){return function(){return n}}function W$(n){return n[0]}function j$(n){return n[1]}var J$=Array.prototype.slice;function K$(n){return n.source}function Z$(n){return n.target}function Q$(n){var r=K$,e=Z$,t=W$,i=j$,a=null;function o(){var s,l=J$.call(arguments),c=r.apply(this,l),u=e.apply(this,l);if(a||(a=s=Wd()),n(a,+t.apply(this,(l[0]=c,l)),+i.apply(this,l),+t.apply(this,(l[0]=u,l)),+i.apply(this,l)),s)return a=null,s+""||null}return o.source=function(s){return arguments.length?(r=s,o):r},o.target=function(s){return arguments.length?(e=s,o):e},o.x=function(s){return arguments.length?(t=typeof s=="function"?s:Hv(+s),o):t},o.y=function(s){return arguments.length?(i=typeof s=="function"?s:Hv(+s),o):i},o.context=function(s){return arguments.length?(a=s==null?null:s,o):a},o}function n_(n,r,e,t,i){n.moveTo(r,e),n.bezierCurveTo(r=(r+t)/2,e,r,i,t,i)}function r_(){return Q$(n_)}function e_(n){return[n.source.x1,n.y0]}function t_(n){return[n.target.x0,n.y1]}function i_(){return r_().source(e_).target(t_)}var a_=Object.freeze(Object.defineProperty({__proto__:null,sankey:V$,sankeyCenter:G$,sankeyLeft:z$,sankeyRight:B$,sankeyJustify:Xd,sankeyLinkHorizontal:i_},Symbol.toStringTag,{value:"Module"})),o_=Le(a_),Fa=ln,Pi=o_,jd=on,u_={sankeyLeft:Pi.sankeyLeft,sankeyRight:Pi.sankeyRight,sankeyCenter:Pi.sankeyCenter,sankeyJustify:Pi.sankeyJustify},f_={value:function(n){return n.value},source:function(n){return n.source},target:function(n){return n.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function Jd(n,r){r=Fa.assign({},f_,r);var e=null;Fa.isString(r.nodeAlign)?e=u_[r.nodeAlign]:Fa.isFunction(r.nodeAlign)&&(e=r.nodeAlign);var t=Pi.sankey().nodeSort(r.sort).links(function(i){return i.edges}).nodeWidth(r.nodeWidth).nodePadding(r.nodePadding).extent([[0,0],[1,1]]);Fa.isFunction(r.nodeId)&&t.nodeId(r.nodeId),e&&t.nodeAlign(e),t(n),n.nodes.forEach(function(i){var a=i.x0,o=i.x1,s=i.y0,l=i.y1;i.x=[a,o,o,a],i.y=[s,s,l,l]}),n.edges.forEach(function(i){var a=i.source,o=i.target,s=a.x1,l=o.x0;i.x=[s,s,l,l];var c=i.width/2;i.y=[i.y0+c,i.y0-c,i.y1+c,i.y1-c]})}jd.DataSet.registerTransform("diagram.sankey",Jd);jd.DataSet.registerTransform("sankey",Jd);function Yv(n){return function(){return n}}function l_(n){return n[0]}function s_(n){return n[1]}function su(){this._=null}function qu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}su.prototype={constructor:su,insert:function(n,r){var e,t,i;if(n){if(r.P=n,r.N=n.N,n.N&&(n.N.P=r),n.N=r,n.R){for(n=n.R;n.L;)n=n.L;n.L=r}else n.R=r;e=n}else this._?(n=Vv(this._),r.P=null,r.N=n,n.P=n.L=r,e=n):(r.P=r.N=null,this._=r,e=null);for(r.L=r.R=null,r.U=e,r.C=!0,n=r;e&&e.C;)t=e.U,e===t.L?(i=t.R,i&&i.C?(e.C=i.C=!1,t.C=!0,n=t):(n===e.R&&(li(this,e),n=e,e=n.U),e.C=!1,t.C=!0,si(this,t))):(i=t.L,i&&i.C?(e.C=i.C=!1,t.C=!0,n=t):(n===e.L&&(si(this,e),n=e,e=n.U),e.C=!1,t.C=!0,li(this,t))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var r=n.U,e,t=n.L,i=n.R,a,o;if(t?i?a=Vv(i):a=t:a=i,r?r.L===n?r.L=a:r.R=a:this._=a,t&&i?(o=a.C,a.C=n.C,a.L=t,t.U=a,a!==i?(r=a.U,a.U=n.U,n=a.R,r.L=n,a.R=i,i.U=a):(a.U=r,r=a,n=a.R)):(o=n.C,n=a),n&&(n.U=r),!o){if(n&&n.C){n.C=!1;return}do{if(n===this._)break;if(n===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,li(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,si(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,li(this,r),n=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,si(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,li(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,si(this,r),n=this._;break}e.C=!0,n=r,r=r.U}while(!n.C);n&&(n.C=!1)}}};function li(n,r){var e=r,t=r.R,i=e.U;i?i.L===e?i.L=t:i.R=t:n._=t,t.U=i,e.U=t,e.R=t.L,e.R&&(e.R.U=e),t.L=e}function si(n,r){var e=r,t=r.L,i=e.U;i?i.L===e?i.L=t:i.R=t:n._=t,t.U=i,e.U=t,e.L=t.R,e.L&&(e.L.U=e),t.R=e}function Vv(n){for(;n.L;)n=n.L;return n}function xi(n,r,e,t){var i=[null,null],a=lr.push(i)-1;return i.left=n,i.right=r,e&&cu(i,n,r,e),t&&cu(i,r,n,t),Ar[n.index].halfedges.push(a),Ar[r.index].halfedges.push(a),i}function ci(n,r,e){var t=[r,e];return t.left=n,t}function cu(n,r,e,t){!n[0]&&!n[1]?(n[0]=t,n.left=r,n.right=e):n.left===e?n[1]=t:n[0]=t}function c_(n,r,e,t,i){var a=n[0],o=n[1],s=a[0],l=a[1],c=o[0],u=o[1],v=0,f=1,h=c-s,g=u-l,p;if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<v)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>v&&(v=p)}if(p=t-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>v&&(v=p)}else if(h>0){if(p<v)return;p<f&&(f=p)}if(p=e-l,!(!g&&p>0)){if(p/=g,g<0){if(p<v)return;p<f&&(f=p)}else if(g>0){if(p>f)return;p>v&&(v=p)}if(p=i-l,!(!g&&p<0)){if(p/=g,g<0){if(p>f)return;p>v&&(v=p)}else if(g>0){if(p<v)return;p<f&&(f=p)}return!(v>0)&&!(f<1)||(v>0&&(n[0]=[s+v*h,l+v*g]),f<1&&(n[1]=[s+f*h,l+f*g])),!0}}}}}function v_(n,r,e,t,i){var a=n[1];if(a)return!0;var o=n[0],s=n.left,l=n.right,c=s[0],u=s[1],v=l[0],f=l[1],h=(c+v)/2,g=(u+f)/2,p,d;if(f===u){if(h<r||h>=t)return;if(c>v){if(!o)o=[h,e];else if(o[1]>=i)return;a=[h,i]}else{if(!o)o=[h,i];else if(o[1]<e)return;a=[h,e]}}else if(p=(c-v)/(f-u),d=g-p*h,p<-1||p>1)if(c>v){if(!o)o=[(e-d)/p,e];else if(o[1]>=i)return;a=[(i-d)/p,i]}else{if(!o)o=[(i-d)/p,i];else if(o[1]<e)return;a=[(e-d)/p,e]}else if(u<f){if(!o)o=[r,p*r+d];else if(o[0]>=t)return;a=[t,p*t+d]}else{if(!o)o=[t,p*t+d];else if(o[0]<r)return;a=[r,p*r+d]}return n[0]=o,n[1]=a,!0}function h_(n,r,e,t){for(var i=lr.length,a;i--;)(!v_(a=lr[i],n,r,e,t)||!c_(a,n,r,e,t)||!(Math.abs(a[0][0]-a[1][0])>Dn||Math.abs(a[0][1]-a[1][1])>Dn))&&delete lr[i]}function g_(n){return Ar[n.index]={site:n,halfedges:[]}}function p_(n,r){var e=n.site,t=r.left,i=r.right;return e===i&&(i=t,t=e),i?Math.atan2(i[1]-t[1],i[0]-t[0]):(e===t?(t=r[1],i=r[0]):(t=r[0],i=r[1]),Math.atan2(t[0]-i[0],i[1]-t[1]))}function Kd(n,r){return r[+(r.left!==n.site)]}function d_(n,r){return r[+(r.left===n.site)]}function m_(){for(var n=0,r=Ar.length,e,t,i,a;n<r;++n)if((e=Ar[n])&&(a=(t=e.halfedges).length)){var o=new Array(a),s=new Array(a);for(i=0;i<a;++i)o[i]=i,s[i]=p_(e,lr[t[i]]);for(o.sort(function(l,c){return s[c]-s[l]}),i=0;i<a;++i)s[i]=t[o[i]];for(i=0;i<a;++i)t[i]=s[i]}}function y_(n,r,e,t){var i=Ar.length,a,o,s,l,c,u,v,f,h,g,p,d,m=!0;for(a=0;a<i;++a)if(o=Ar[a]){for(s=o.site,c=o.halfedges,l=c.length;l--;)lr[c[l]]||c.splice(l,1);for(l=0,u=c.length;l<u;)g=d_(o,lr[c[l]]),p=g[0],d=g[1],v=Kd(o,lr[c[++l%u]]),f=v[0],h=v[1],(Math.abs(p-f)>Dn||Math.abs(d-h)>Dn)&&(c.splice(l,0,lr.push(ci(s,g,Math.abs(p-n)<Dn&&t-d>Dn?[n,Math.abs(f-n)<Dn?h:t]:Math.abs(d-t)<Dn&&e-p>Dn?[Math.abs(h-t)<Dn?f:e,t]:Math.abs(p-e)<Dn&&d-r>Dn?[e,Math.abs(f-e)<Dn?h:r]:Math.abs(d-r)<Dn&&p-n>Dn?[Math.abs(h-r)<Dn?f:n,r]:null))-1),++u);u&&(m=!1)}if(m){var w,E,S,_=1/0;for(a=0,m=null;a<i;++a)(o=Ar[a])&&(s=o.site,w=s[0]-n,E=s[1]-r,S=w*w+E*E,S<_&&(_=S,m=o));if(m){var M=[n,r],N=[n,t],k=[e,t],L=[e,r];m.halfedges.push(lr.push(ci(s=m.site,M,N))-1,lr.push(ci(s,N,k))-1,lr.push(ci(s,k,L))-1,lr.push(ci(s,L,M))-1)}}for(a=0;a<i;++a)(o=Ar[a])&&(o.halfedges.length||delete Ar[a])}var Zd=[],Qc;function w_(){qu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Mt(n){var r=n.P,e=n.N;if(!(!r||!e)){var t=r.site,i=n.site,a=e.site;if(t!==a){var o=i[0],s=i[1],l=t[0]-o,c=t[1]-s,u=a[0]-o,v=a[1]-s,f=2*(l*v-c*u);if(!(f>=-T_)){var h=l*l+c*c,g=u*u+v*v,p=(v*h-c*g)/f,d=(l*g-u*h)/f,m=Zd.pop()||new w_;m.arc=n,m.site=i,m.x=p+o,m.y=(m.cy=d+s)+Math.sqrt(p*p+d*d),n.circle=m;for(var w=null,E=Hi._;E;)if(m.y<E.y||m.y===E.y&&m.x<=E.x)if(E.L)E=E.L;else{w=E.P;break}else if(E.R)E=E.R;else{w=E;break}Hi.insert(w,m),w||(Qc=m)}}}}function kt(n){var r=n.circle;r&&(r.P||(Qc=r.N),Hi.remove(r),Zd.push(r),qu(r),n.circle=null)}var Qd=[];function E_(){qu(this),this.edge=this.site=this.circle=null}function Xv(n){var r=Qd.pop()||new E_;return r.site=n,r}function Gf(n){kt(n),bt.remove(n),Qd.push(n),qu(n)}function S_(n){var r=n.circle,e=r.x,t=r.cy,i=[e,t],a=n.P,o=n.N,s=[n];Gf(n);for(var l=a;l.circle&&Math.abs(e-l.circle.x)<Dn&&Math.abs(t-l.circle.cy)<Dn;)a=l.P,s.unshift(l),Gf(l),l=a;s.unshift(l),kt(l);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<Dn&&Math.abs(t-c.circle.cy)<Dn;)o=c.N,s.push(c),Gf(c),c=o;s.push(c),kt(c);var u=s.length,v;for(v=1;v<u;++v)c=s[v],l=s[v-1],cu(c.edge,l.site,c.site,i);l=s[0],c=s[u-1],c.edge=xi(l.site,c.site,null,i),Mt(l),Mt(c)}function $_(n){for(var r=n[0],e=n[1],t,i,a,o,s=bt._;s;)if(a=n2(s,e)-r,a>Dn)s=s.L;else if(o=r-__(s,e),o>Dn){if(!s.R){t=s;break}s=s.R}else{a>-Dn?(t=s.P,i=s):o>-Dn?(t=s,i=s.N):t=i=s;break}g_(n);var l=Xv(n);if(bt.insert(t,l),!(!t&&!i)){if(t===i){kt(t),i=Xv(t.site),bt.insert(l,i),l.edge=i.edge=xi(t.site,l.site),Mt(t),Mt(i);return}if(!i){l.edge=xi(t.site,l.site);return}kt(t),kt(i);var c=t.site,u=c[0],v=c[1],f=n[0]-u,h=n[1]-v,g=i.site,p=g[0]-u,d=g[1]-v,m=2*(f*d-h*p),w=f*f+h*h,E=p*p+d*d,S=[(d*w-h*E)/m+u,(f*E-p*w)/m+v];cu(i.edge,c,g,S),l.edge=xi(c,n,null,S),i.edge=xi(n,g,null,S),Mt(t),Mt(i)}}function n2(n,r){var e=n.site,t=e[0],i=e[1],a=i-r;if(!a)return t;var o=n.P;if(!o)return-1/0;e=o.site;var s=e[0],l=e[1],c=l-r;if(!c)return s;var u=s-t,v=1/a-1/c,f=u/c;return v?(-f+Math.sqrt(f*f-2*v*(u*u/(-2*c)-l+c/2+i-a/2)))/v+t:(t+s)/2}function __(n,r){var e=n.N;if(e)return n2(e,r);var t=n.site;return t[1]===r?t[0]:1/0}var Dn=1e-6,T_=1e-12,bt,Ar,Hi,lr;function M_(n,r,e){return(n[0]-e[0])*(r[1]-n[1])-(n[0]-r[0])*(e[1]-n[1])}function P_(n,r){return r[1]-n[1]||r[0]-n[0]}function is(n,r){var e=n.sort(P_).pop(),t,i,a;for(lr=[],Ar=new Array(n.length),bt=new su,Hi=new su;;)if(a=Qc,e&&(!a||e[1]<a.y||e[1]===a.y&&e[0]<a.x))(e[0]!==t||e[1]!==i)&&($_(e),t=e[0],i=e[1]),e=n.pop();else if(a)S_(a.arc);else break;if(m_(),r){var o=+r[0][0],s=+r[0][1],l=+r[1][0],c=+r[1][1];h_(o,s,l,c),y_(o,s,l,c)}this.edges=lr,this.cells=Ar,bt=Hi=lr=Ar=null}is.prototype={constructor:is,polygons:function(){var n=this.edges;return this.cells.map(function(r){var e=r.halfedges.map(function(t){return Kd(r,n[t])});return e.data=r.site.data,e})},triangles:function(){var n=[],r=this.edges;return this.cells.forEach(function(e,t){if(!!(s=(a=e.halfedges).length))for(var i=e.site,a,o=-1,s,l,c=r[a[s-1]],u=c.left===i?c.right:c.left;++o<s;)l=u,c=r[a[o]],u=c.left===i?c.right:c.left,l&&u&&t<l.index&&t<u.index&&M_(i,l,u)<0&&n.push([i.data,l.data,u.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,r,e){for(var t=this,i,a=t._found||0,o=t.cells.length,s;!(s=t.cells[a]);)if(++a>=o)return null;var l=n-s.site[0],c=r-s.site[1],u=l*l+c*c;do s=t.cells[i=a],a=null,s.halfedges.forEach(function(v){var f=t.edges[v],h=f.left;if(!((h===s.site||!h)&&!(h=f.right))){var g=n-h[0],p=r-h[1],d=g*g+p*p;d<u&&(u=d,a=h.index)}});while(a!==null);return t._found=i,e==null||u<=e*e?s.site:null}};function x_(){var n=l_,r=s_,e=null;function t(i){return new is(i.map(function(a,o){var s=[Math.round(n(a,o,i)/Dn)*Dn,Math.round(r(a,o,i)/Dn)*Dn];return s.index=o,s.data=a,s}),e)}return t.polygons=function(i){return t(i).polygons()},t.links=function(i){return t(i).links()},t.triangles=function(i){return t(i).triangles()},t.x=function(i){return arguments.length?(n=typeof i=="function"?i:Yv(+i),t):n},t.y=function(i){return arguments.length?(r=typeof i=="function"?i:Yv(+i),t):r},t.extent=function(i){return arguments.length?(e=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],t):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},t.size=function(i){return arguments.length?(e=i==null?null:[[0,0],[+i[0],+i[1]]],t):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},t}var R_=Object.freeze(Object.defineProperty({__proto__:null,voronoi:x_},Symbol.toStringTag,{value:"Module"})),C_=Le(R_),k_=En,b_=k_.__importStar(C_),Uf=ln,L_=on,r2=L_.DataSet.registerTransform,N_=Ln,A_={as:["_x","_y"]};function e2(n,r){r=Uf.assign({},A_,r);var e=r.as;if(!Uf.isArray(e)||e.length!==2)throw new TypeError("Invalid as: must be an array with two strings!");var t=e[0],i=e[1],a=N_.getFields(r);if(!Uf.isArray(a)||a.length!==2)throw new TypeError("Invalid fields: must be an array with two strings!");var o=a[0],s=a[1],l=n.rows,c=l.map(function(f){return[f[o],f[s]]}),u=b_.voronoi();r.extend&&u.extent(r.extend),r.size&&u.size(r.size);var v=u(c).polygons();l.forEach(function(f,h){var g=v[h].filter(function(p){return!!p});f[t]=g.map(function(p){return p[0]}),f[i]=g.map(function(p){return p[1]})})}r2("diagram.voronoi",e2);r2("voronoi",e2);var I_=En,D_=I_.__importStar(Kt),Wv=ln,n0=on,O_=Ln,F_={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function t2(n,r){if(n.dataType!==n0.DataSet.CONSTANTS.HIERARCHY||!n.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=Wv.assign({},F_,r);var t=r.as;if(!Wv.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=void 0;try{i=O_.getField(r)}catch(l){console.warn(l)}i&&e.sum(function(l){return l[i]});var a=D_.cluster();a.size(r.size),r.nodeSize&&a.nodeSize(r.nodeSize),r.separation&&a.separation(r.separation),a(e);var o=t[0],s=t[1];e.each(function(l){l[o]=l.x,l[s]=l.y})}n0.DataSet.registerTransform("hierarchy.cluster",t2);n0.DataSet.registerTransform("dendrogram",t2);var zu={exports:{}};(function(n,r){(function(t,i){n.exports=i()})(typeof self!="undefined"?self:hu,function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=5)}([function(e,t){function i(a,o,s,l){return l===void 0&&(l="height"),s==="center"?(a[l]+o[l])/2:a.height}e.exports={assign:Object.assign,getHeight:i}},function(e,t,i){var a=i(3),o=function(){function s(c,u){u===void 0&&(u={});var v=this;v.options=u,v.rootNode=a(c,u)}var l=s.prototype;return l.execute=function(){throw new Error("please override this method")},s}();e.exports=o},function(e,t,i){var a=i(4),o=["LR","RL","TB","BT","H","V"],s=["LR","RL","H"],l=function(f){return s.indexOf(f)>-1},c=o[0];e.exports=function(v,f,h){var g=f.direction||c;if(f.isHorizontal=l(g),g&&o.indexOf(g)===-1)throw new TypeError("Invalid direction: "+g);if(g===o[0])h(v,f);else if(g===o[1])h(v,f),v.right2left();else if(g===o[2])h(v,f);else if(g===o[3])h(v,f),v.bottom2top();else if(g===o[4]||g===o[5]){var p=a(v,f),d=p.left,m=p.right;h(d,f),h(m,f),f.isHorizontal?d.right2left():d.bottom2top(),m.translate(d.x-m.x,d.y-m.y),v.x=d.x,v.y=m.y;var w=v.getBoundingBox();f.isHorizontal?w.top<0&&v.translate(0,-w.top):w.left<0&&v.translate(-w.left,0)}var E=f.fixedRoot;return E===void 0&&(E=!0),E&&v.translate(-(v.x+v.width/2+v.hgap),-(v.y+v.height/2+v.vgap)),u(v,f),v};function u(v,f){if(f.radial){var h=f.isHorizontal?["x","y"]:["y","x"],g=h[0],p=h[1],d={x:1/0,y:1/0},m={x:-1/0,y:-1/0},w=0;v.DFTraverse(function(_){w++;var M=_.x,N=_.y;d.x=Math.min(d.x,M),d.y=Math.min(d.y,N),m.x=Math.max(m.x,M),m.y=Math.max(m.y,N)});var E=m[p]-d[p];if(E===0)return;var S=Math.PI*2/w;v.DFTraverse(function(_){var M=(_[p]-d[p])/E*(Math.PI*2-S)+S,N=_[g]-v[g];_.x=Math.cos(M)*N,_.y=Math.sin(M)*N})}}},function(e,t,i){var a=i(0),o=18,s=o*2,l=o,c={getId:function(h){return h.id||h.name},getPreH:function(h){return h.preH||0},getPreV:function(h){return h.preV||0},getHGap:function(h){return h.hgap||l},getVGap:function(h){return h.vgap||l},getChildren:function(h){return h.children},getHeight:function(h){return h.height||s},getWidth:function(h){var g=h.label||" ";return h.width||g.split("").length*o}};function u(f,h){var g=this;if(g.vgap=g.hgap=0,f instanceof u)return f;g.data=f;var p=h.getHGap(f),d=h.getVGap(f);return g.preH=h.getPreH(f),g.preV=h.getPreV(f),g.width=h.getWidth(f),g.height=h.getHeight(f),g.width+=g.preH,g.height+=g.preV,g.id=h.getId(f),g.x=g.y=0,g.depth=0,g.children||(g.children=[]),g.addGap(p,d),g}a.assign(u.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(h,g){var p=this;p.hgap+=h,p.vgap+=g,p.width+=2*h,p.height+=2*g},eachNode:function(h){for(var g=this,p=[g],d;d=p.shift();)h(d),p=d.children.concat(p)},DFTraverse:function(h){this.eachNode(h)},BFTraverse:function(h){for(var g=this,p=[g],d;d=p.shift();)h(d),p=p.concat(d.children)},getBoundingBox:function(){var h={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(g){h.left=Math.min(h.left,g.x),h.top=Math.min(h.top,g.y),h.width=Math.max(h.width,g.x+g.width),h.height=Math.max(h.height,g.y+g.height)}),h},translate:function(h,g){h===void 0&&(h=0),g===void 0&&(g=0),this.eachNode(function(p){p.x+=h,p.y+=g,p.x+=p.preH,p.y+=p.preV})},right2left:function(){var h=this,g=h.getBoundingBox();h.eachNode(function(p){p.x=p.x-(p.x-g.left)*2-p.width}),h.translate(g.width,0)},bottom2top:function(){var h=this,g=h.getBoundingBox();h.eachNode(function(p){p.y=p.y-(p.y-g.top)*2-p.height}),h.translate(0,g.height)}});function v(f,h,g){h===void 0&&(h={}),h=a.assign({},c,h);var p=new u(f,h),d=[p],m;if(!g&&!f.collapsed){for(;m=d.shift();)if(!m.data.collapsed){var w=h.getChildren(m.data),E=w?w.length:0;if(m.children=new Array(E),w&&E)for(var S=0;S<E;S++){var _=new u(w[S],h);m.children[S]=_,d.push(_),_.parent=m,_.depth=m.depth+1}}}return p}e.exports=v},function(e,t,i){var a=i(3);e.exports=function(o,s){for(var l=a(o.data,s,!0),c=a(o.data,s,!0),u=o.children.length,v=Math.round(u/2),f=s.getSide||function(d,m){return m<v?"right":"left"},h=0;h<u;h++){var g=o.children[h],p=f(g,h);p==="right"?c.children.push(g):l.children.push(g)}return l.eachNode(function(d){d.isRoot()||(d.side="left")}),c.eachNode(function(d){d.isRoot()||(d.side="right")}),{left:l,right:c}}},function(e,t,i){var a={compactBox:i(6),dendrogram:i(8),indented:i(10),mindmap:i(12)};e.exports=a},function(e,t,i){function a(g,p){g.prototype=Object.create(p.prototype),g.prototype.constructor=g,o(g,p)}function o(g,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d},o(g,p)}var s=i(1),l=i(7),c=i(2),u=i(0),v=function(g){function p(){return g.apply(this,arguments)||this}a(p,g);var d=p.prototype;return d.execute=function(){var w=this;return c(w.rootNode,w.options,l)},p}(s),f={};function h(g,p){return p=u.assign({},f,p),new v(g,p).execute()}e.exports=h},function(e,t){function i(u,v,f,h){h===void 0&&(h=[]);var g=this;g.w=u||0,g.h=v||0,g.y=f||0,g.x=0,g.c=h||[],g.cs=h.length,g.prelim=0,g.mod=0,g.shift=0,g.change=0,g.tl=null,g.tr=null,g.el=null,g.er=null,g.msel=0,g.mser=0}i.fromNode=function(u,v){if(!u)return null;var f=[];return u.children.forEach(function(h){f.push(i.fromNode(h,v))}),v?new i(u.height,u.width,u.x,f):new i(u.width,u.height,u.y,f)};function a(u,v,f){f?u.y+=v:u.x+=v,u.children.forEach(function(h){a(h,v,f)})}function o(u,v){var f=v?u.y:u.x;return u.children.forEach(function(h){f=Math.min(o(h,v),f)}),f}function s(u,v){var f=o(u,v);a(u,-f,v)}function l(u,v,f){f?v.y=u.x:v.x=u.x,u.c.forEach(function(h,g){l(h,v.children[g],f)})}function c(u,v,f){f===void 0&&(f=0),v?(u.x=f,f+=u.width):(u.y=f,f+=u.height),u.children.forEach(function(h){c(h,v,f)})}e.exports=function(u,v){v===void 0&&(v={});var f=v.isHorizontal;function h(C){if(C.cs===0){g(C);return}h(C.c[0]);for(var z=D(E(C.c[0].el),0,null),$=1;$<C.cs;++$){h(C.c[$]);var y=E(C.c[$].er);p(C,$,z),z=D(y,$,z)}M(C),g(C)}function g(C){C.cs===0?(C.el=C,C.er=C,C.msel=C.mser=0):(C.el=C.c[0].el,C.msel=C.c[0].msel,C.er=C.c[C.cs-1].er,C.mser=C.c[C.cs-1].mser)}function p(C,z,$){for(var y=C.c[z-1],P=y.mod,x=C.c[z],O=x.mod;y!==null&&x!==null;){E(y)>$.low&&($=$.nxt);var J=P+y.prelim+y.w-(O+x.prelim);J>0&&(O+=J,d(C,z,$.index,J));var cn=E(y),rn=E(x);cn<=rn&&(y=w(y),y!==null&&(P+=y.mod)),cn>=rn&&(x=m(x),x!==null&&(O+=x.mod))}!y&&!!x?S(C,z,x,O):!!y&&!x&&_(C,z,y,P)}function d(C,z,$,y){C.c[z].mod+=y,C.c[z].msel+=y,C.c[z].mser+=y,k(C,z,$,y)}function m(C){return C.cs===0?C.tl:C.c[0]}function w(C){return C.cs===0?C.tr:C.c[C.cs-1]}function E(C){return C.y+C.h}function S(C,z,$,y){var P=C.c[0].el;P.tl=$;var x=y-$.mod-C.c[0].msel;P.mod+=x,P.prelim-=x,C.c[0].el=C.c[z].el,C.c[0].msel=C.c[z].msel}function _(C,z,$,y){var P=C.c[z].er;P.tr=$;var x=y-$.mod-C.c[z].mser;P.mod+=x,P.prelim-=x,C.c[z].er=C.c[z-1].er,C.c[z].mser=C.c[z-1].mser}function M(C){C.prelim=(C.c[0].prelim+C.c[0].mod+C.c[C.cs-1].mod+C.c[C.cs-1].prelim+C.c[C.cs-1].w)/2-C.w/2}function N(C,z){z+=C.mod,C.x=C.prelim+z,L(C);for(var $=0;$<C.cs;$++)N(C.c[$],z)}function k(C,z,$,y){if($!==z-1){var P=z-$;C.c[$+1].shift+=y/P,C.c[z].shift-=y/P,C.c[z].change-=y-y/P}}function L(C){for(var z=0,$=0,y=0;y<C.cs;y++)z+=C.c[y].shift,$+=z+C.c[y].change,C.c[y].mod+=$}function D(C,z,$){for(;$!==null&&C>=$.low;)$=$.nxt;return{low:C,index:z,nxt:$}}c(u,f);var A=i.fromNode(u,f);return h(A),N(A,0),l(A,u,f),s(u,f),u}},function(e,t,i){function a(g,p){g.prototype=Object.create(p.prototype),g.prototype.constructor=g,o(g,p)}function o(g,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d},o(g,p)}var s=i(1),l=i(9),c=i(2),u=i(0),v=function(g){function p(){return g.apply(this,arguments)||this}a(p,g);var d=p.prototype;return d.execute=function(){var w=this;return w.rootNode.width=0,c(w.rootNode,w.options,l)},p}(s),f={};function h(g,p){return p=u.assign({},f,p),new v(g,p).execute()}e.exports=h},function(e,t,i){var a=i(0);function o(c,u){u===void 0&&(u=[]);var v=this;v.x=v.y=0,v.leftChild=v.rightChild=null,v.height=0,v.children=u}var s={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function l(c,u,v){v?(u.x=c.x,u.y=c.y):(u.x=c.y,u.y=c.x),c.children.forEach(function(f,h){l(f,u.children[h],v)})}e.exports=function(c,u){u===void 0&&(u={}),u=a.assign({},s,u);var v=0;function f(m){if(!m)return null;m.width=0,m.depth&&m.depth>v&&(v=m.depth);var w=m.children,E=w.length,S=new o(m.height,[]);return w.forEach(function(_,M){var N=f(_);S.children.push(N),M===0&&(S.leftChild=N),M===E-1&&(S.rightChild=N)}),S.originNode=m,S.isLeaf=m.isLeaf(),S}function h(m){if(m.isLeaf||m.children.length===0)m.drawingDepth=v;else{var w=m.children.map(function(S){return h(S)}),E=Math.min.apply(null,w);m.drawingDepth=E-1}return m.drawingDepth}var g;function p(m){m.x=m.drawingDepth*u.rankSep,m.isLeaf?(m.y=0,g&&(m.y=g.y+g.height+u.nodeSep,m.originNode.parent!==g.originNode.parent&&(m.y+=u.subTreeSep)),g=m):(m.children.forEach(function(w){p(w)}),m.y=(m.leftChild.y+m.rightChild.y)/2)}var d=f(c);return h(d),p(d),l(d,c,u.isHorizontal),c}},function(e,t,i){function a(d,m){d.prototype=Object.create(m.prototype),d.prototype.constructor=d,o(d,m)}function o(d,m){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},o(d,m)}var s=i(1),l=i(11),c=i(4),u=i(0),v=["LR","RL","H"],f=v[0],h=function(d){function m(){return d.apply(this,arguments)||this}a(m,d);var w=m.prototype;return w.execute=function(){var S=this,_=S.options,M=S.rootNode;_.isHorizontal=!0;var N=_.indent,k=N===void 0?20:N,L=_.dropCap,D=L===void 0?!0:L,A=_.direction,C=A===void 0?f:A,z=_.align;if(C&&v.indexOf(C)===-1)throw new TypeError("Invalid direction: "+C);if(C===v[0])l(M,k,D,z);else if(C===v[1])l(M,k,D,z),M.right2left();else if(C===v[2]){var $=c(M,_),y=$.left,P=$.right;l(y,k,D,z),y.right2left(),l(P,k,D,z);var x=y.getBoundingBox();P.translate(x.width,0),M.x=P.x-M.width/2}return M},m}(s),g={};function p(d,m){return m=u.assign({},g,m),new h(d,m).execute()}e.exports=p},function(e,t,i){var a=i(0);function o(s,l,c,u,v){var f=(typeof c=="function"?c(s):c)*s.depth;if(!u)try{if(s.id===s.parent.children[0].id){s.x+=f,s.y=l?l.y:0;return}}catch{}if(s.x+=f,l){if(s.y=l.y+a.getHeight(l,s,v),l.parent&&s.parent.id!==l.parent.id){var h=l.parent,g=h.y+a.getHeight(h,s,v);s.y=g>s.y?g:s.y}}else s.y=0}e.exports=function(s,l,c,u){var v=null;s.eachNode(function(f){o(f,v,l,c,u),v=f})}},function(e,t,i){function a(g,p){g.prototype=Object.create(p.prototype),g.prototype.constructor=g,o(g,p)}function o(g,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d},o(g,p)}var s=i(1),l=i(13),c=i(2),u=i(0),v=function(g){function p(){return g.apply(this,arguments)||this}a(p,g);var d=p.prototype;return d.execute=function(){var w=this;return c(w.rootNode,w.options,l)},p}(s),f={};function h(g,p){return p=u.assign({},f,p),new v(g,p).execute()}e.exports=h},function(e,t,i){var a=i(0);function o(c,u){var v=0;return c.children.length?c.children.forEach(function(f){v+=o(f,u)}):v=c.height,c._subTreeSep=u.getSubTreeSep(c.data),c.totalHeight=Math.max(c.height,v)+2*c._subTreeSep,c.totalHeight}function s(c){var u=c.children,v=u.length;if(v){u.forEach(function(m){s(m)});var f=u[0],h=u[v-1],g=h.y-f.y+h.height,p=0;if(u.forEach(function(m){p+=m.totalHeight}),g>c.height)c.y=f.y+g/2-c.height/2;else if(u.length!==1||c.height>p){var d=c.y+(c.height-g)/2-f.y;u.forEach(function(m){m.translate(0,d)})}else c.y=(f.y+f.height/2+h.y+h.height/2)/2-c.height/2}}var l={getSubTreeSep:function(){return 0}};e.exports=function(c,u){u===void 0&&(u={}),u=a.assign({},l,u),c.parent={x:0,width:0,height:0,y:0},c.BFTraverse(function(v){v.x=v.parent.x+v.parent.width}),c.parent=null,o(c,u),c.startY=0,c.y=c.totalHeight/2-c.height/2,c.eachNode(function(v){var f=v.children,h=f.length;if(h){var g=f[0];if(g.startY=v.startY+v._subTreeSep,h===1)g.y=v.y+v.height/2-g.height/2;else{g.y=g.startY+g.totalHeight/2-g.height/2;for(var p=1;p<h;p++){var d=f[p];d.startY=f[p-1].startY+f[p-1].totalHeight,d.y=d.startY+d.totalHeight/2-d.height/2}}}}),s(c)}}])})})(zu);var q_=En,z_=q_.__importDefault(zu.exports),ia=on,B_={};function Bu(n,r){var e=n.root;if(r=Object.assign({},B_,r),n.dataType!==ia.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=z_.default.compactBox(e,r)}ia.DataSet.registerTransform("hierarchy.compact-box",Bu);ia.DataSet.registerTransform("compact-box-tree",Bu);ia.DataSet.registerTransform("non-layered-tidy-tree",Bu);ia.DataSet.registerTransform("mindmap-logical",Bu);var G_=En,U_=G_.__importDefault(zu.exports),r0=on,H_={};function i2(n,r){var e=n.root;if(r=Object.assign({},H_,r),n.dataType!==r0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=U_.default.dendrogram(e,r)}r0.DataSet.registerTransform("hierarchy.dendrogram",i2);r0.DataSet.registerTransform("dendrogram",i2);var Y_=En,V_=Y_.__importDefault(zu.exports),e0=on,X_={};function a2(n,r){var e=n.root;if(r=Object.assign({},X_,r),n.dataType!==e0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=V_.default.indented(e,r)}e0.DataSet.registerTransform("hierarchy.indented",a2);e0.DataSet.registerTransform("indented-tree",a2);var W_=En,jv=ln,j_=W_.__importStar(Kt),Gu=on,J_=Ln,K_={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function t0(n,r){if(n.dataType!==Gu.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=jv.assign({},K_,r);var t=r.as;if(!jv.isArray(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var i;try{i=J_.getField(r)}catch(c){console.warn(c)}i&&e.sum(function(c){return c[i]}).sort(function(c,u){return u[i]-c[i]});var a=j_.pack();a.size(r.size),r.padding&&a.padding(r.padding),a(e);var o=t[0],s=t[1],l=t[2];e.each(function(c){c[o]=c.x,c[s]=c.y,c[l]=c.r})}Gu.DataSet.registerTransform("hierarchy.pack",t0);Gu.DataSet.registerTransform("hierarchy.circle-packing",t0);Gu.DataSet.registerTransform("circle-packing",t0);var Z_=En,Q_=Z_.__importStar(Kt),Jv=ln,i0=on,nT=Ln,rT={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function o2(n,r){if(n.dataType!==i0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=Jv.assign({},rT,r);var t=r.as;if(!Jv.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=nT.getField(r)}catch(l){console.warn(l)}i&&e.sum(function(l){return l[i]});var a=Q_.partition();a.size(r.size).round(r.round).padding(r.padding),a(e);var o=t[0],s=t[1];e.each(function(l){l[o]=[l.x0,l.x1,l.x1,l.x0],l[s]=[l.y1,l.y1,l.y0,l.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete l[c]})})}i0.DataSet.registerTransform("hierarchy.partition",o2);i0.DataSet.registerTransform("adjacency",o2);var eT=En,tT=eT.__importStar(Kt),Kv=ln,a0=on,iT=Ln,aT={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function u2(n,r){if(n.dataType!==a0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=Kv.assign({},aT,r);var t=r.as;if(!Kv.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=iT.getField(r)}catch(l){console.warn(l)}i&&e.sum(function(l){return l[i]});var a=tT.tree();a.size(r.size),r.nodeSize&&a.nodeSize(r.nodeSize),r.separation&&a.separation(r.separation),a(e);var o=t[0],s=t[1];e.each(function(l){l[o]=l.x,l[s]=l.y})}a0.DataSet.registerTransform("hierarchy.tree",u2);a0.DataSet.registerTransform("tree",u2);var oT=En,Zv=oT.__importStar(Kt),Qv=ln,o0=on,uT=Ln,fT={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function f2(n,r){if(n.dataType!==o0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root;r=Qv.assign({},fT,r);var t=r.as;if(!Qv.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=uT.getField(r)}catch(l){console.warn(l)}i&&e.sum(function(l){return l[i]});var a=Zv.treemap();a.tile(Zv[r.tile]).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft),a(e);var o=t[0],s=t[1];e.each(function(l){l[o]=[l.x0,l.x1,l.x1,l.x0],l[s]=[l.y1,l.y1,l.y0,l.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete l[c]})})}o0.DataSet.registerTransform("hierarchy.treemap",f2);o0.DataSet.registerTransform("treemap",f2);var u0={};Object.defineProperty(u0,"__esModule",{value:!0});var nh=En,Hf=Math.PI/180,Ri=1<<11>>5,Qa=1<<11;function lT(n){return n.text}function sT(){return"serif"}function rh(){return"normal"}function cT(n){return n.value}function vT(){return~~(Math.random()*2)*90}function hT(){return 1}function gT(n,r,e,t){if(!r.sprite){var i=n.context,a=n.ratio;i.clearRect(0,0,(Ri<<5)/a,Qa/a);var o=0,s=0,l=0,c=e.length;for(--t;++t<c;){r=e[t],i.save(),i.font=r.style+" "+r.weight+" "+~~((r.size+1)/a)+"px "+r.font;var u=i.measureText(r.text+"m").width*a,v=r.size<<1;if(r.rotate){var f=Math.sin(r.rotate*Hf),h=Math.cos(r.rotate*Hf),g=u*h,p=u*f,d=v*h,m=v*f;u=Math.max(Math.abs(g+m),Math.abs(g-m))+31>>5<<5,v=~~Math.max(Math.abs(p+d),Math.abs(p-d))}else u=u+31>>5<<5;if(v>l&&(l=v),o+u>=Ri<<5&&(o=0,s+=l,l=0),s+v>=Qa)break;i.translate((o+(u>>1))/a,(s+(v>>1))/a),r.rotate&&i.rotate(r.rotate*Hf),i.fillText(r.text,0,0),r.padding&&(i.lineWidth=2*r.padding,i.strokeText(r.text,0,0)),i.restore(),r.width=u,r.height=v,r.xoff=o,r.yoff=s,r.x1=u>>1,r.y1=v>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,o+=u}for(var w=i.getImageData(0,0,(Ri<<5)/a,Qa/a).data,E=[];--t>=0;)if(r=e[t],!!r.hasText){for(var u=r.width,S=u>>5,v=r.y1-r.y0,_=0;_<v*S;_++)E[_]=0;if(o=r.xoff,o==null)return;s=r.yoff;for(var M=0,N=-1,k=0;k<v;k++){for(var _=0;_<u;_++){var L=S*k+(_>>5),D=w[(s+k)*(Ri<<5)+(o+_)<<2]?1<<31-_%32:0;E[L]|=D,M|=D}M?N=k:(r.y0++,v--,k--,s++)}r.y1=r.y0+N,r.sprite=E.slice(0,(r.y1-r.y0)*S)}}}function pT(n,r,e){e>>=5;for(var t=n.sprite,i=n.width>>5,a=n.x-(i<<4),o=a&127,s=32-o,l=n.y1-n.y0,c=(n.y+n.y0)*e+(a>>5),u,v=0;v<l;v++){u=0;for(var f=0;f<=i;f++)if((u<<s|(f<i?(u=t[v*i+f])>>>o:0))&r[c+f])return!0;c+=e}return!1}function dT(n,r){var e=n[0],t=n[1];r.x+r.x0<e.x&&(e.x=r.x+r.x0),r.y+r.y0<e.y&&(e.y=r.y+r.y0),r.x+r.x1>t.x&&(t.x=r.x+r.x1),r.y+r.y1>t.y&&(t.y=r.y+r.y1)}function mT(n,r){return n.x+n.x1>r[0].x&&n.x+n.x0<r[1].x&&n.y+n.y1>r[0].y&&n.y+n.y0<r[1].y}function l2(n){var r=n[0]/n[1];return function(e){return[r*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function yT(n){var r=4,e=r*n[0]/n[1],t=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:t+=e;break;case 1:i+=r;break;case 2:t-=e;break;default:i-=r;break}return[t,i]}}function eh(n){for(var r=[],e=-1;++e<n;)r[e]=0;return r}function wT(){return document.createElement("canvas")}function De(n){return typeof n=="function"?n:function(){return n}}var ET={archimedean:l2,rectangular:yT};function ST(){var n=[256,256],r=lT,e=sT,t=cT,i=rh,a=rh,o=vT,s=hT,l=l2,c=[],u=1/0,v=Math.random,f=wT,h={};h.canvas=function(d){return arguments.length?(f=De(d),h):f},h.start=function(){var d=nh.__read(n,2),m=d[0],w=d[1],E=g(f()),S=h.board?h.board:eh((n[0]>>5)*n[1]),_=c.length,M=[],N=c.map(function(A,C){return A.text=r.call(this,A,C),A.font=e.call(this,A,C),A.style=i.call(this,A,C),A.weight=a.call(this,A,C),A.rotate=o.call(this,A,C),A.size=~~t.call(this,A,C),A.padding=s.call(this,A,C),A}).sort(function(A,C){return C.size-A.size}),k=-1,L=h.board?[{x:0,y:0},{x:m,y:w}]:null;D();function D(){for(var A=Date.now();Date.now()-A<u&&++k<_;){var C=N[k];C.x=m*(v()+.5)>>1,C.y=w*(v()+.5)>>1,gT(E,C,N,k),C.hasText&&p(S,C,L)&&(M.push(C),L?h.hasImage||dT(L,C):L=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=n[0]>>1,C.y-=n[1]>>1)}h._tags=M,h._bounds=L}return h};function g(d){d.width=d.height=1;var m=Math.sqrt(d.getContext("2d").getImageData(0,0,1,1).data.length>>2);d.width=(Ri<<5)/m,d.height=Qa/m;var w=d.getContext("2d");return w.fillStyle=w.strokeStyle="red",w.textAlign="center",{context:w,ratio:m}}function p(d,m,w){for(var E=m.x,S=m.y,_=Math.sqrt(n[0]*n[0]+n[1]*n[1]),M=l(n),N=v()<.5?1:-1,k,L=-N,D,A;(k=M(L+=N))&&(D=~~k[0],A=~~k[1],!(Math.min(Math.abs(D),Math.abs(A))>=_));)if(m.x=E+D,m.y=S+A,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>n[0]||m.y+m.y1>n[1])&&(!w||!pT(m,d,n[0]))&&(!w||mT(m,w))){for(var C=m.sprite,z=m.width>>5,$=n[0]>>5,y=m.x-(z<<4),P=y&127,x=32-P,O=m.y1-m.y0,J=void 0,cn=(m.y+m.y0)*$+(y>>5),rn=0;rn<O;rn++){J=0;for(var sn=0;sn<=z;sn++)d[cn+sn]|=J<<x|(sn<z?(J=C[rn*z+sn])>>>P:0);cn+=$}return delete m.sprite,!0}return!1}return h.createMask=function(d){var m=document.createElement("canvas"),w=nh.__read(n,2),E=w[0],S=w[1];if(!(!E||!S)){var _=E>>5,M=eh((E>>5)*S);m.width=E,m.height=S;var N=m.getContext("2d");N.drawImage(d,0,0,d.width,d.height,0,0,E,S);for(var k=N.getImageData(0,0,E,S).data,L=0;L<S;L++)for(var D=0;D<E;D++){var A=_*L+(D>>5),C=L*E+D<<2,z=k[C]>=250&&k[C+1]>=250&&k[C+2]>=250,$=z?1<<31-D%32:0;M[A]|=$}h.board=M,h.hasImage=!0}},h.timeInterval=function(d){return arguments.length?(u=d==null?1/0:d,h):u},h.words=function(d){return arguments.length?(c=d,h):c},h.size=function(d){return arguments.length?(n=[+d[0],+d[1]],h):n},h.font=function(d){return arguments.length?(e=De(d),h):e},h.fontStyle=function(d){return arguments.length?(i=De(d),h):i},h.fontWeight=function(d){return arguments.length?(a=De(d),h):a},h.rotate=function(d){return arguments.length?(o=De(d),h):o},h.text=function(d){return arguments.length?(r=De(d),h):r},h.spiral=function(d){return arguments.length?(l=ET[d]||d,h):l},h.fontSize=function(d){return arguments.length?(t=De(d),h):t},h.padding=function(d){return arguments.length?(s=De(d),h):s},h.random=function(d){return arguments.length?(v=d,h):v},h}u0.default=ST;var as=En,Yf=ln,s2=on,$T=as.__importDefault(u0),_T=Ln,TT={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function c2(n,r){r=Yf.assign({},TT,r);var e=$T.default();if(!r.size[0]||!r.size[1]){n.rows=[],n._tagCloud=e;return}["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach(function(p){r[p]&&e[p](r[p])});var t=_T.getFields(r),i=as.__read(t,2),a=i[0],o=i[1];if(!Yf.isString(a)||!Yf.isString(o))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var s=n.rows.map(function(p){return p.text=p[a],p.value=p[o],p});e.words(s),r.imageMask&&e.createMask(r.imageMask);var l=e.start(),c=l._tags,u=l._bounds||[{x:0,y:0},{x:r.size[0],y:r.size[1]}];c.forEach(function(p){p.x+=r.size[0]/2,p.y+=r.size[1]/2});var v=as.__read(r.size,2),f=v[0],h=v[1],g=l.hasImage;c.push({text:"",value:0,x:g?0:u[0].x,y:g?0:u[0].y,opacity:0}),c.push({text:"",value:0,x:g?f:u[1].x,y:g?h:u[1].y,opacity:0}),n.rows=c,n._tagCloud=l}s2.DataSet.registerTransform("tag-cloud",c2);s2.DataSet.registerTransform("word-cloud",c2);var no=En,rt=ln,MT=ie.exports,PT=no.__importDefault(qr),xT=on,RT=Ln,CT={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function kT(n,r){r=rt.assign({},CT,r);var e=RT.getFields(r),t=no.__read(e,2),i=t[0],a=t[1],o=no.__read(r.as,2),s=o[0],l=o[1],c=r.groupBy,u=PT.default(n.rows,c),v=rt.keys(u),f=no.__read(r.size,2),h=f[0],g=f[1],p=r.maxCount,d=v.length,m=g/d,w=r.rows,E=r.gapRatio,S=[],_=r.scale,M=0,N=0;rt.forIn(u,function(k){var L=MT.sum(rt.map(k,function(A){return A[a]})),D=Math.ceil(L*_/w);L*_>p&&(_=p/L,D=Math.ceil(L*_/w)),N=h/D}),rt.forIn(u,function(k){var L=[M*m,(M+1)*m],D=L[1]-L[0],A=D*(1-E)/w,C=0,z=0;rt.each(k,function($){for(var y=$[a],P=Math.round(y*_),x=0;x<P;x++){z===w&&(z=0,C++);var O=rt.pick($,[i,a].concat(c));O[s]=C*N+N/2,O[l]=z*A+A/2+L[0],O._wStep=N,O._hStep=A,z++,S.push(O)}}),M+=1}),n.rows=S}xT.DataSet.registerTransform("waffle",kT);var v2={};Object.defineProperty(v2,"__esModule",{value:!0});var Pt=En,Oe=ln,th=Pt.__importDefault(Zt),h2=Pt.__importDefault(ea),g2=on,bT=Ln,ih=ke,LT={as:["x","y","z"],method:"gaussian"},os=Oe.keys(h2.default);function p2(n,r){var e,t;r=Oe.assign({},LT,r);var i=bT.getFields(r);if(!Oe.isArray(i)||i.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings!");var a=Pt.__read(r.as,3),o=a[0],s=a[1],l=a[2];if(!Oe.isString(o)||!Oe.isString(s)||!Oe.isString(l))throw new TypeError("invalid as: must be an array of 3 strings!");var c;if(Oe.isString(r.method)){if(os.indexOf(r.method)===-1)throw new TypeError("invalid method: "+r.method+". Must be one of "+os.join(", "));c=h2.default[r.method]}var u=Pt.__read(i,2),v=u[0],f=u[1],h=r.extent,g=r.bandwidth,p,d;h&&Array.isArray(h)&&Array.isArray(h[0])&&Array.isArray(h[1])?(e=Pt.__read(h,2),p=e[0],d=e[1]):(p=n.range(v),d=n.range(f));var m,w;g&&Array.isArray(g)&&g.slice(0,2).every(Oe.isNumber)&&g.slice(0,2).every(function(y){return y>0})?(t=Pt.__read(g,2),m=t[0],w=t[1]):(m=ih.silverman(n.getColumn(v)),w=ih.silverman(n.getColumn(f)));for(var E=th.default(p,m),S=th.default(d,w),_=n.rows.length,M=[],N=0;N<E.length;N++)for(var k=0;k<S.length;k++){for(var L=0,D=E[N],A=S[k],C=0;C<_;C++)L+=c((D-n.rows[C][v])/m)*c((A-n.rows[C][f])/w);var z=1/(_*m*w)*L,$={};$[o]=D,$[s]=A,$[l]=z,M.push($)}n.rows=M}g2.DataSet.registerTransform("kernel-smooth.density",p2);g2.DataSet.registerTransform("kernel.density",p2);v2.default={KERNEL_METHODS:os};var d2={};Object.defineProperty(d2,"__esModule",{value:!0});var vu=En,ue=ln,NT=vu.__importDefault(Zt),m2=vu.__importDefault(ea),y2=on,Vf=ie.exports,AT=Ln,IT=ke,DT={as:["x","y"],method:"gaussian"},us=ue.keys(m2.default);function OT(n,r,e,t){var i=(t-e)/r;return n(i)}function ah(n){return function(r){return ue.isArray(r)?r.map(function(e){return n(e)}):n(r)}}function w2(n,r){r=ue.assign({},DT,r);var e=AT.getFields(r);if(!ue.isArray(e)||!(e.length===1||e.length===2))throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var t=vu.__read(r.as,2),i=t[0],a=t[1];if(!ue.isString(i)||!ue.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var o,s=r.method;if(ue.isString(s)){if(us.indexOf(s)===-1)throw new TypeError("invalid method: "+s+". Must be one of "+us.join(", "));o=m2.default[s]}var l=vu.__read(e,2),c=l[0],u=l[1],v=n.getColumn(c),f=r.extent;(f||!ue.isArray(f))&&(f=n.range(c));var h=r.bandwidth;(!h||!ue.isNumber(h)||h<=0)&&(h=IT.silverman(v));var g=NT.default(f,h),p=v.length,d=OT.bind(null,o,h),m;if(ue.isNil(u))m=ah(function(S){var _=v.map(function(k){return d(S,k)}),M=Vf.sum(_),N=p*h;return!M||!N?0:M/N});else{var w=n.getColumn(u);m=ah(function(S){var _=v.map(function(k){return d(S,k)}),M=Vf.sum(_.map(function(k,L){return k*w[L]})),N=Vf.sum(_);return!M||!N?0:M/N})}var E=g.map(function(S){var _={};return _[i]=S,_[a]=m(S),_});n.rows=E}y2.DataSet.registerTransform("kernel-smooth.regression",w2);y2.DataSet.registerTransform("kernel.regression",w2);d2.default={KERNEL_METHODS:us};var FT=on,qT=FT.DataSet;function zT(n){const{data:r,loading:e,fields:t,height:i}=n,{DataView:a}=qT,o=new a().source(r);return o.transform({type:"fold",fields:t,key:"category",value:"score"}),Nn(uh,{loading:e,style:{width:"100%"},children:fe(fs,{height:i||400,padding:0,data:o.rows,autoFit:!0,scale:{score:{min:0,max:80}},interactions:["legend-highlight"],className:"chart-wrapper",children:[Nn(lh,{type:"polar",radius:.8}),Nn(sh,{shared:!0,children:(s,l)=>Nn(hh,{title:s,data:l})}),Nn(k2,{position:"item*score",size:"2",color:["category",["#313CA9","#21CCFF","#249EFF"]]}),Nn(b2,{position:"item*score",tooltip:!1,color:["category",["rgba(49, 60, 169, 0.4)","rgba(33, 204, 255, 0.4)","rgba(36, 158, 255, 0.4)"]]}),Nn(ch,{name:"score",label:!1}),Nn(vh,{position:"right",marker:(s,l)=>({symbol:"circle",style:{r:4,lineWidth:0,fill:["#313CA9","#21CCFF","#249EFF"][l]}}),name:"category"})]})})}function BT(n){return fe(fs,{theme:N2(),forceUpdate:!0,autoFit:!0,data:n.data,height:n.height||400,padding:[0,0,10,0],children:[Nn(vh,{visible:!0}),Nn(L2,{fields:["category"],type:"rect",showTitle:!1,eachView:(r,e)=>{const t=e.data;r.coordinate({type:"theta",cfg:{radius:.8,innerRadius:.7}}),r.interval().adjust("stack").position("value").color("type",["#249eff","#846BCE","#21CCFF"," #86DF6C","#0E42D2"]).label("value",{content:i=>`${(i.value*100).toFixed(2)} %`}),r.annotation().text({position:["50%","46%"],content:t[0].category,style:{fontSize:14,fontWeight:500,textAlign:"center"},offsetY:10}),r.interaction("element-single-selected")}})]})}const GT=["\u6D3B\u8DC3\u7528\u6237\u6570","\u5185\u5BB9\u751F\u4EA7\u91CF","\u5185\u5BB9\u70B9\u51FB\u91CF","\u5185\u5BB9\u66DD\u5149\u91CF"],oh=[0,600,1e3,2e3,4e3],Xf=["\u7EAF\u6587\u672C","\u56FE\u6587\u7C7B","\u89C6\u9891\u7C7B"],UT=(n,r)=>{const{list:e}=ar.mock({"list|10":[{"id|+1":1,time:function(){return T2().subtract(this.id,"days").format("MM-DD")},count:()=>ar.Random.natural(oh[r],oh[r+1]),name:n}]});return e.map(t=>(delete t.id,t))},HT=n=>new Array(12).fill(0).map(()=>({y:ar.Random.natural(1e3,1e4)})).sort((e,t)=>e.y-t.y).map((e,t)=>({...e,x:t,name:n})),YT=n=>{const r=["UGC\u539F\u521B","\u56FD\u5916\u7F51\u7AD9","\u8F6C\u8F7D\u6587\u7AE0","\u884C\u4E1A\u62A5\u544A","\u5176\u4ED6"],e=[];r.forEach(i=>{e.push({type:i,value:ar.Random.natural(100,1e4),name:n})});const t=e.reduce((i,a)=>i+a.value,0);return e.map(i=>({...i,value:Number((i.value/t).toFixed(2))}))};O2({setup:()=>{ar.mock(new RegExp("/api/multi-dimension/overview"),()=>{const{array:n}=ar.mock({"array|4":[function(){return ar.Random.natural(0,1e4)}]});let r=[];return GT.forEach((e,t)=>r=r.concat(UT(e,t))),{overviewData:n,chartData:r}}),ar.mock(new RegExp("/api/multi-dimension/activity"),()=>{const{list:n}=ar.mock({"list|3":[{"name|+1":["\u5206\u4EAB\u91CF","\u8BC4\u8BBA\u91CF","\u70B9\u8D5E\u91CF"],count:()=>ar.Random.natural(1e3,1e4)}]});return n}),ar.mock(new RegExp("/api/multi-dimension/polar"),()=>{const n=["\u56FD\u9645","\u5A31\u4E50","\u4F53\u80B2","\u8D22\u7ECF","\u79D1\u6280","\u5176\u4ED6"],r=()=>{const e={};return Xf.forEach(t=>{e[t]=ar.Random.natural(0,100)}),e};return{list:n.map(e=>({item:e,...r()})),fields:Xf}}),ar.mock(new RegExp("/api/multi-dimension/card"),n=>{const{type:r}=_2.parseUrl(n.url).query;return ar.mock({count:()=>ar.Random.natural(1e3,1e4),increment:()=>ar.Random.boolean(),diff:()=>ar.Random.natural(100,1e3),chartType:r,chartData:()=>HT("\u7C7B\u76EE1")})}),ar.mock(new RegExp("/api/multi-dimension/content-source"),()=>Xf.map(r=>YT(r).map(e=>({...e,category:r}))).flat())}});const{Row:Wf,Col:qa}=F2,{Title:za}=P2;function cM(){const n=M2(A2),[r,e]=Ze.exports.useState(!1),[t,i]=Ze.exports.useState([]),[a,o]=Ze.exports.useState(!1),[s,l]=Ze.exports.useState({list:[],fields:[]}),[c,u]=Ze.exports.useState(!1),[v,f]=Ze.exports.useState([]),h=async()=>{e(!0);const{data:d}=await Vu.get("/api/multi-dimension/activity").finally(()=>{e(!1)});i(d)},g=async()=>{o(!0);const{data:d}=await Vu.get("/api/multi-dimension/polar").finally(()=>o(!1));l(d)},p=async()=>{u(!0);const{data:d}=await Vu.get("/api/multi-dimension/content-source").finally(()=>{u(!1)});f(d)};return Ze.exports.useEffect(()=>{h(),g(),p()},[]),fe(x2,{size:16,direction:"vertical",style:{width:"100%"},children:[fe(Wf,{gutter:20,children:[Nn(qa,{span:16,children:fe(aa,{children:[Nn(za,{heading:6,children:n["multiDAnalysis.card.title.dataOverview"]}),Nn(I2,{})]})}),fe(qa,{span:8,children:[fe(aa,{children:[Nn(za,{heading:6,children:n["multiDAnalysis.card.title.todayActivity"]}),Nn(q2,{data:t,loading:r,height:160})]}),fe(aa,{children:[Nn(za,{heading:6,children:n["multiDAnalysis.card.title.contentTheme"]}),Nn(zT,{data:s.list,fields:s.fields,height:197,loading:a})]})]})]}),Nn(Wf,{children:Nn(qa,{span:24,children:Nn(D2,{})})}),Nn(Wf,{children:Nn(qa,{span:24,children:fe(aa,{children:[Nn(za,{heading:6,children:n["multiDAnalysis.card.title.contentSource"]}),Nn(BT,{loading:c,data:v,height:240})]})})})]})}export{cM as default};
