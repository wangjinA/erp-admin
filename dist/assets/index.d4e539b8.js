var P=Object.defineProperty,z=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var F=(e,t,s)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,m=(e,t)=>{for(var s in t||(t={}))D.call(t,s)&&F(e,s,t[s]);if(T)for(var s of T(t))E.call(t,s)&&F(e,s,t[s]);return e},y=(e,t)=>z(e,L(t));var B=(e,t)=>{var s={};for(var a in e)D.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&T)for(var a of T(e))t.indexOf(a)<0&&E.call(e,a)&&(s[a]=e[a]);return s};import{Z as Y,af as f,r as d,a as q,d as S,ay as R,j as u,s as A,B as x,aC as v,a$ as H,aF as I,h as N}from"./vendor.019c2987.js";/* empty css               *//* empty css               *//* empty css               */import{P as J}from"./index.4cf7fbe8.js";import{u as K}from"./index.923f5d6c.js";import{i as O,S as U}from"./form.3978c6b6.js";import{g as W,s as Z}from"./constants.a4d686e9.js";import{M as b,s as $}from"./setupMock.bf327aa9.js";/* empty css              *//* empty css              */const{list:w}=b.mock({"list|100":[{id:/[0-9]{8}[-][0-9]{4}/,name:()=>b.Random.pick(["\u6BCF\u65E5\u63A8\u8350\u89C6\u9891\u96C6","\u6296\u97F3\u77ED\u89C6\u9891\u5019\u9009\u96C6","\u56FD\u9645\u65B0\u95FB\u96C6\u5408"]),"contentType|0-2":0,"filterType|0-1":0,"count|0-2000":0,"createdTime|1-60":0,"status|0-1":0}]}),G=(e={})=>{const{id:t,name:s,"contentType[]":a,"filterType[]":l,"createdTime[]":n,"status[]":i}=e;if(t)return w.filter(o=>o.id===t);let r=[...w];if(s&&(r=r.filter(o=>o.name.toLowerCase().includes(s.toLowerCase()))),a&&(r=r.filter(o=>a.includes(o.contentType.toString()))),l&&(r=r.filter(o=>l.includes(o.filterType.toString()))),n&&n.length===2){const[o,h]=n;r=r.filter(C=>{const g=f().subtract(C.createdTime,"days").format("YYYY-MM-DD HH:mm:ss");return!f(g).isBefore(f(o))&&!f(g).isAfter(f(h))})}return i&&i.length&&(r=r.filter(o=>i.includes(o.status.toString()))),r};$({setup:()=>{b.mock(new RegExp("/api/list"),e=>{const r=Y.parseUrl(e.url).query,{page:t=1,pageSize:s=10}=r,a=B(r,["page","pageSize"]),l=t,n=s,i=G(a);return{list:i.slice((l-1)*n,l*n),total:i.length}})}});const{Title:Q}=N,ce=["\u56FE\u6587","\u6A2A\u7248\u77ED\u89C6\u9891","\u7AD6\u7248\u77ED\u89C6\u9891"],le=["\u89C4\u5219\u7B5B\u9009","\u4EBA\u5DE5"],pe=["\u5DF2\u4E0A\u7EBF","\u672A\u4E0A\u7EBF"];function de(){const e=K(O),t=async(c,p)=>{console.log(c,p)},s=d.exports.useMemo(()=>W(e,t),[e]),[a,l]=d.exports.useState([]),[n,i]=d.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[r,o]=d.exports.useState(!0),[h,C]=d.exports.useState({});d.exports.useEffect(()=>{g()},[n.current,n.pageSize,JSON.stringify(h)]);function g(){const{current:c,pageSize:p}=n;o(!0),q.get("/api/list",{params:m({page:c,pageSize:p},h)}).then(j=>{l(j.data.list),i(y(m({},n),{current:c,pageSize:p,total:j.data.total})),o(!1)})}function k({current:c,pageSize:p}){i(y(m({},n),{current:c,pageSize:p}))}function M(c){i(y(m({},n),{current:1})),C(c)}return S(R,{children:[u(Q,{heading:6,children:e["menu.list.searchTable"]}),u(U,{onSearch:M}),u(J,{requiredPermissions:[{resource:"menu.list.searchTable",actions:["write"]}],children:S("div",{className:Z["button-group"],children:[S(A,{children:[u(x,{type:"primary",icon:u(v,{}),children:e["searchTable.operations.add"]}),u(x,{children:e["searchTable.operations.upload"]})]}),u(A,{children:u(x,{icon:u(H,{}),children:e["searchTable.operation.download"]})})]})}),u(I,{rowKey:"id",loading:r,onChange:k,pagination:n,columns:s,data:a})]})}export{ce as ContentType,le as FilterType,pe as Status,de as default};
