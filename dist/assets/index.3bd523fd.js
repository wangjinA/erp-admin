var P=Object.defineProperty,z=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var B=(e,t,s)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,m=(e,t)=>{for(var s in t||(t={}))D.call(t,s)&&B(e,s,t[s]);if(x)for(var s of x(t))E.call(t,s)&&B(e,s,t[s]);return e},j=(e,t)=>z(e,q(t));var F=(e,t)=>{var s={};for(var r in e)D.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&x)for(var r of x(e))t.indexOf(r)<0&&E.call(e,r)&&(s[r]=e[r]);return s};import{x as L,r as d,b as y,af as Y,j as u,ab as A,B as C,aU as R,al as v,aq as H,f as I}from"./vendor.1997470e.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css                */import{P as N}from"./index.0e818432.js";import{a as U}from"./index.224556eb.js";import{u as J}from"./index.380169de.js";import{i as K,S as O}from"./form.2a825954.js";import{g as W,s as G}from"./constants.92307e7b.js";import{M as S,s as Q}from"./setupMock.174193b9.js";import{d as f}from"./dayjs.min.0c38ffd0.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                */const{list:w}=S.mock({"list|100":[{id:/[0-9]{8}[-][0-9]{4}/,name:()=>S.Random.pick(["\u6BCF\u65E5\u63A8\u8350\u89C6\u9891\u96C6","\u6296\u97F3\u77ED\u89C6\u9891\u5019\u9009\u96C6","\u56FD\u9645\u65B0\u95FB\u96C6\u5408"]),"contentType|0-2":0,"filterType|0-1":0,"count|0-2000":0,"createdTime|1-60":0,"status|0-1":0}]}),V=(e={})=>{const{id:t,name:s,"contentType[]":r,"filterType[]":l,"createdTime[]":n,"status[]":o}=e;if(t)return w.filter(i=>i.id===t);let a=[...w];if(s&&(a=a.filter(i=>i.name.toLowerCase().includes(s.toLowerCase()))),r&&(a=a.filter(i=>r.includes(i.contentType.toString()))),l&&(a=a.filter(i=>l.includes(i.filterType.toString()))),n&&n.length===2){const[i,g]=n;a=a.filter(T=>{const h=f().subtract(T.createdTime,"days").format("YYYY-MM-DD HH:mm:ss");return!f(h).isBefore(f(i))&&!f(h).isAfter(f(g))})}return o&&o.length&&(a=a.filter(i=>o.includes(i.status.toString()))),a};Q({setup:()=>{S.mock(new RegExp("/api/list"),e=>{const a=L.parseUrl(e.url).query,{page:t=1,pageSize:s=10}=a,r=F(a,["page","pageSize"]),l=t,n=s,o=V(r);return{list:o.slice((l-1)*n,l*n),total:o.length}})}});const{Title:X}=I,Te=["\u56FE\u6587","\u6A2A\u7248\u77ED\u89C6\u9891","\u7AD6\u7248\u77ED\u89C6\u9891"],ye=["\u89C4\u5219\u7B5B\u9009","\u4EBA\u5DE5"],Ce=["\u5DF2\u4E0A\u7EBF","\u672A\u4E0A\u7EBF"];function Se(){const e=J(K),t=async(c,p)=>{console.log(c,p)},s=d.exports.useMemo(()=>W(e,t),[e]),[r,l]=d.exports.useState([]),[n,o]=d.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[a,i]=d.exports.useState(!0),[g,T]=d.exports.useState({});d.exports.useEffect(()=>{h()},[n.current,n.pageSize,JSON.stringify(g)]);function h(){const{current:c,pageSize:p}=n;i(!0),U.get("/api/list",{params:m({page:c,pageSize:p},g)}).then(b=>{l(b.data.list),o(j(m({},n),{current:c,pageSize:p,total:b.data.total})),i(!1)})}function k({current:c,pageSize:p}){o(j(m({},n),{current:c,pageSize:p}))}function M(c){o(j(m({},n),{current:1})),T(c)}return y(Y,{children:[u(X,{heading:6,children:e["menu.list.searchTable"]}),u(O,{onSearch:M}),u(N,{requiredPermissions:[{resource:"menu.list.searchTable",actions:["write"]}],children:y("div",{className:G["button-group"],children:[y(A,{children:[u(C,{type:"primary",icon:u(R,{}),children:e["searchTable.operations.add"]}),u(C,{children:e["searchTable.operations.upload"]})]}),u(A,{children:u(C,{icon:u(v,{}),children:e["searchTable.operation.download"]})})]})}),u(H,{rowKey:"id",loading:a,onChange:k,pagination:n,columns:s,data:r})]})}export{Te as ContentType,ye as FilterType,Ce as Status,Se as default};
