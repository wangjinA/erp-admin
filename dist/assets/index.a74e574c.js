import{G as W,a as Y,C as ae,R as se}from"./index.efb39cdf.js";import{r as c,L as J,N as K,G as ne,C as Z,g as k,c as X,j as A,R as S,a5 as oe,H as le,ai as ie}from"./index.8a0d17dd.js";var fe=globalThis&&globalThis.__read||function(e,a){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var s=r.call(e),t,n=[],o;try{for(;(a===void 0||a-- >0)&&!(t=s.next()).done;)n.push(t.value)}catch(l){o={error:l}}finally{try{t&&!t.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return n};function Q(e){return ne(e)}var O=function(e,a,r){r===void 0&&(r=!1);var s=c.exports.useRef(),t=fe(c.exports.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0,xxxl:!0}),2),n=t[0],o=t[1];c.exports.useEffect(function(){return s.current=J.subscribe(function(i){Q(e)&&o(i)}),function(){J.unsubscribe(s.current)}},[]);var l=c.exports.useMemo(function(){var i=a;if(Q(e))for(var v=0;v<K.length;v++){var f=K[v];if((n[f]||f==="xs"&&r)&&e[f]!==void 0){i=e[f];break}}else i=e;return i},[n,e,a,r]);return l};function ue(e,a){var r=a.span,s=a.offset,t=a.suffix,n=r!=null?r:1,o=s!=null?s:0,l=Math.min(o,e),i=Math.min(l>0?n+o:n,e);return{span:i,offset:l,suffix:t}}function pe(e){var a=e.cols,r=e.collapsed,s=e.collapsedRows,t=e.itemDataList,n=!1,o=[];function l(g){return Math.ceil(g/a)>s}if(r){for(var i=0,v=0;v<t.length;v++)t[v].suffix&&(i+=t[v].span,o.push(v));if(!l(i))for(var f=0;f<t.length;){var C=t[f];if(!C.suffix){if(i+=C.span,l(i))break;o.push(f)}f++}n=t.some(function(g,m){return!g.suffix&&!o.includes(m)})}else o=t.map(function(g,m){return m});return{overflow:n,displayIndexList:o}}var M=globalThis&&globalThis.__assign||function(){return M=Object.assign||function(e){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},M.apply(this,arguments)},E=globalThis&&globalThis.__read||function(e,a){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var s=r.call(e),t,n=[],o;try{for(;(a===void 0||a-- >0)&&!(t=s.next()).done;)n.push(t.value)}catch(l){o={error:l}}finally{try{t&&!t.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return n},ce=globalThis&&globalThis.__values||function(e){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&e[a],s=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},U=globalThis&&globalThis.__spreadArray||function(e,a,r){if(r||arguments.length===2)for(var s=0,t=a.length,n;s<t;s++)(n||!(s in a))&&(n||(n=Array.prototype.slice.call(a,0,s)),n[s]=a[s]);return e.concat(n||Array.prototype.slice.call(a))},ve={collapsed:!1,collapsedRows:1,cols:24,colGap:0,rowGap:0};function de(e,a){var r,s=E(c.exports.useState(new Map),2),t=s[0],n=s[1],o=c.exports.useContext(Z),l=o.getPrefixCls,i=o.componentConfig,v=o.rtl,f=k(e,ve,i==null?void 0:i.Grid),C=f.children,g=f.className,m=f.style,x=f.cols,L=f.colGap,F=f.rowGap,N=f.collapsed,D=f.collapsedRows,G=O(x,24),b=O(L,0),T=O(F,0),P={gap:T+"px "+b+"px",gridTemplateColumns:"repeat("+G+", minmax(0px, 1fr))"},_=l("grid"),j=(r={},r[""+_]=!0,r[_+"-rtl"]=v,r),V=X(j,g),H=function(){var p,y,I=[];try{for(var R=ce(t.entries()),u=R.next();!u.done;u=R.next()){var h=E(u.value,2),z=h[0],re=h[1];I[z]=re}}catch(te){p={error:te}}finally{try{u&&!u.done&&(y=R.return)&&y.call(R)}finally{if(p)throw p.error}}return I},q=H(),d=pe({cols:G,collapsed:N,collapsedRows:D,itemDataList:q});return A("div",{ref:a,className:V,style:M(M({},P),m),children:A(W.Provider,{value:{collectItemData:function(p,y){t.set(p,y),n(new Map(U([],E(t),!1)))},removeItemData:function(p){t.delete(p),n(new Map(U([],E(t),!1)))}},children:A(Y.Provider,{value:{cols:G,colGap:b,collapsed:N,overflow:d.overflow,displayIndexList:d.displayIndexList},children:S.Children.map(C,function(p,y){if(p){var I=M({__index__:y},p.props);return S.cloneElement(p,I)}return null}).filter(function(p){return oe(p,"type.__ARCO_GRID_ITEM__")})})})})}var ee=c.exports.forwardRef(de);ee.displayName="Grid";var me=ee,w=globalThis&&globalThis.__assign||function(){return w=Object.assign||function(e){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},w.apply(this,arguments)},xe={suffix:!1,offset:0,span:1};function ge(e,a){var r,s=c.exports.useContext(Z),t=s.getPrefixCls,n=s.componentConfig,o=s.rtl,l=k(e,xe,n==null?void 0:n["Grid.GridItem"]),i=l.children,v=l.className,f=l.style,C=l.offset,g=l.span,m=l.__index__,x=c.exports.useContext(Y),L=c.exports.useContext(W),F=L.collectItemData,N=L.removeItemData,D=x.colGap,G=x.cols,b=x.displayIndexList,T=x.overflow,P=O(C,0),_=O(g,1),j=t("grid-item"),V=b==null?void 0:b.includes(m),H=(r={},r[""+j]=!0,r[j+"-rtl"]=o,r),q=X(H,v),d=c.exports.useMemo(function(){return ue(x.cols,{suffix:!!l.suffix,span:_,offset:P})},[x.cols,l.suffix,_,P]);c.exports.useEffect(function(){return F(m,d),function(){N(m)}},[m,d]);var p=c.exports.useMemo(function(){var u=d.offset,h=d.span;if(u>0){var z="(100% - "+D*(h-1)+"px) / "+h;return{marginLeft:"calc(("+z+" * "+u+") + "+D*u+"px)"}}return{}},[d,D]),y=c.exports.useMemo(function(){var u=d.suffix,h=d.span;return u?""+(G-h+1):"span "+h},[d,G]),I=!V||_===0?{display:"none"}:{},R=w(w({gridColumn:y+" / span "+_},p),I);return A("div",{ref:a,className:q,style:w(w({},R),f),children:le(i)?i({overflow:T}):S.Children.map(i,function(u){return u&&x.collapsed&&S.isValidElement(u)&&!ie(u.type)?S.cloneElement(u,w({overflow:T},u.props)):u})})}var ye=c.exports.forwardRef(ge),B=ye;B.displayName="GridItem";B.__ARCO_GRID_ITEM__=!0;var he=B,$=me;$.Col=ae;$.Row=se;$.GridItem=he;var Ce=$;export{Ce as G};
