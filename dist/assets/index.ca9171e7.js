var A=Object.defineProperty,z=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var C=(o,e,s)=>e in o?A(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,d=(o,e)=>{for(var s in e||(e={}))V.call(e,s)&&C(o,s,e[s]);if(x)for(var s of x(e))G.call(e,s)&&C(o,s,e[s]);return o},c=(o,e)=>z(o,M(e));import{d as r,aL as m,j as t,i as u,B as h,aB as v,p as L,aM as H,bl as O,M as _}from"./vendor.ad15203e.js";import{E as U}from"./EntrepotList.91f99b94.js";import{useEntrepotInfo as Z}from"./hooks.6e62c5a3.js";import{CreateRacksSchema as $,CreateEntrepotSchema as q}from"./schema.40bdfd0a.js";import{F as w}from"./index.bd56f4ba.js";import{L as J}from"./index.69f8799a.js";import{P as K}from"./index.83e7bd00.js";import{S as p,a as D,F as Q}from"./index.b1191912.js";import{s as W}from"./index.6a8b0597.js";import"./index.f14ac72c.js";import"./entrepot.01346301.js";/* empty css               */import"./index.8a35acc1.js";import"./dict.599599e6.js";/* empty css              *//* empty css              */import"./index.10a8fb09.js";/* empty css              */import"./style.200a6193.js";/* empty css               */const X={entrepotName:"\u6D4B\u8BD5111",entrepotType:0,storeType:[0],consignee:"\u8001\u5434\u5934",phone:"15270848188",deliveryAddress:"\u7701\u5E02\u533A",detailedAddress:"\u8BE6\u7EC6\u5730\u5740\u54C8\u54C8\u54C8",openUser:1,inventoryStatus:1,qrCode:"https://g-search3.alicdn.com/img/bao/uploaded/i4/i2/2206469993218/O1CN01GgZIv21ZdtGVU5hF1_!!0-item_pic.jpg_.webp"};var Re=()=>{const o=Z({}),{showTypeRacks:e,setShowTypeRacks:s,showTypeEntrepot:g,setShowTypeEntrepot:E,formEntrepotRef:f,formRacksRef:i,activeEntrepot:y,setActiveEntrepot:Y,racksList:n,rackLoading:R,getRacksList:ee,createEntrepotHandler:F,createEntrepotLoading:N,getEntrepotList:ae,entrepotList:te,entrepotLoading:oe,activeRacks:l,setActiveRacks:b,createRacksLoading:j,createRacksHandler:B,removeRacks:k,removeRacksLoading:T,updateRacks:I,updateRacksLoading:se,updateEntrepot:S,updateEntrepotLoading:P,removeEntrepot:re,removeEntrepotLoading:ie}=o;return r("div",{className:"bg-white p-4 pb-6",children:[r(m.Row,{gutter:[20,0],children:[t(m.Col,{span:6,className:"border-r border-neutral-3 pr-4",children:t(U,{entrepotInfoHandle:o})}),e===p.create&&!(n==null?void 0:n.length)?null:r(m.Col,{span:6,className:"border-r border-neutral-3 pr-4",children:[r(u.Paragraph,{className:"flex items-baseline !mb-0 !mt-2",children:[t(u.Title,{heading:6,className:"mb-0",children:"\u8D27\u67B6\u5217\u8868"}),t(h,{icon:t(v,{}),type:"primary",size:"small",className:"ml-auto",disabled:e===p.create,onClick:()=>{i.resetFields(),b(null)},children:"\u65B0\u589E"})]}),t(J,{loading:R,active:l==null?void 0:l.id,onActive:a=>{b(a),i.setFieldsValue(a)},data:n==null?void 0:n.map(a=>c(d({},a),{name:a.storageRacksName,description:a.storageRacksCode,avatar:a.locationPrefix})),onDelete:async a=>{await W({title:"\u5220\u9664\u8D27\u67B6",content:`\u662F\u5426\u5220\u9664\u8D27\u67B6\uFF1A${a.storageRacksName}`,okText:"\u5220\u9664"}),k(a.id)}})]}),e&&r(m.Col,{span:12,className:"pr-6",children:[r(u.Paragraph,{className:"flex items-baseline !mb-0 !mt-2",children:[r(u.Title,{heading:6,className:"mb-0",children:[D[e],"\u8D27\u67B6"]}),e===p.create&&r(L,{className:"ml-auto",size:"large",children:[t(h,{icon:t(v,{}),type:"primary",status:"success",size:"small",loading:j,onClick:async()=>{const a=await i.validate();B(a),b(null)},children:"\u65B0\u589E"}),t(h,{icon:t(H,{}),loading:j,size:"small",onClick:()=>{i.setFieldsValue(y)},children:"\u53D6\u6D88"})]}),e===p.edit&&r(L,{className:"ml-auto",size:"large",children:[t(h,{icon:t(O,{}),type:"primary",size:"small",loading:j,onClick:async()=>{const a=await i.validate();await I(c(d({},a),{id:l.id}))},children:"\u4FDD\u5B58"}),t(K,{buttonProps:{loading:T},onOk:()=>{k(l.id)}})]})]}),t(w,{form:i,labelLength:10,formItemConfigList:$})]})]}),t(_,c(d({},Q),{confirmLoading:N||P,onCancel:()=>{E(null),f.resetFields()},onOk:async()=>{const a=await f.validate();g===p.create?await F(a):await S(c(d({},a),{id:y.id})),E(null)},visible:!!g,title:`${D[g]}\u4ED3\u5E93`,children:t(w,{initialValues:X,form:f,labelLength:8,span:24,formItemConfigList:q})}))]})};export{Re as default};
