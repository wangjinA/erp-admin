var P=Object.defineProperty,A=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var C=(r,e,s)=>e in r?P(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,d=(r,e)=>{for(var s in e||(e={}))V.call(e,s)&&C(r,s,e[s]);if(k)for(var s of k(e))O.call(e,s)&&C(r,s,e[s]);return r},p=(r,e)=>A(r,M(e));import{d as o,aN as m,j as a,h as u,B as h,aB as v,o as x,c as G,q as H,s as N,aO as _,bn as q,M as U}from"./vendor.7897a533.js";import{E as Z}from"./EntrepotList.aa4191b6.js";import{useEntrepotInfo as $}from"./hooks.5711a9c8.js";import{CreateRacksSchema as J,CreateEntrepotSchema as K}from"./schema.63d786ce.js";import{F as L}from"./index.0400ad0b.js";import{P as Q}from"./index.15739c72.js";import{S as c,a as R,F as W}from"./index.70508b9f.js";import"./entrepot.369b13c8.js";import"./index.80f47301.js";import"./index.627cc3c6.js";/* empty css               */import"./index.c8b77bef.js";import"./dict.d6df7dec.js";/* empty css              *//* empty css              */import"./index.5c74a6e5.js";/* empty css              */import"./style.200a6193.js";const X={entrepotName:"\u6D4B\u8BD5111",entrepotType:0,storeType:[0],consignee:"\u8001\u5434\u5934",phone:"15270848188",deliveryAddress:"\u7701\u5E02\u533A",detailedAddress:"\u8BE6\u7EC6\u5730\u5740\u54C8\u54C8\u54C8",openUser:1,inventoryStatus:1,qrCode:"https://g-search3.alicdn.com/img/bao/uploaded/i4/i2/2206469993218/O1CN01GgZIv21ZdtGVU5hF1_!!0-item_pic.jpg_.webp"};var Re=()=>{const r=$({}),{showTypeRacks:e,setShowTypeRacks:s,showTypeEntrepot:g,setShowTypeEntrepot:E,formEntrepotRef:b,formRacksRef:i,activeEntrepot:j,setActiveEntrepot:Y,racksList:n,rackLoading:ee,getRacksList:ae,createEntrepotHandler:w,createEntrepotLoading:D,getEntrepotList:te,entrepotList:re,entrepotLoading:se,activeRacks:l,setActiveRacks:f,createRacksLoading:y,createRacksHandler:F,removeRacks:B,removeRacksLoading:T,updateRacks:I,updateRacksLoading:oe,updateEntrepot:z,updateEntrepotLoading:S,removeEntrepot:ie,removeEntrepotLoading:ne}=r;return o("div",{className:"bg-white p-4 pb-6",children:[o(m.Row,{gutter:[20,0],children:[a(m.Col,{span:6,className:"border-r border-neutral-3 pr-4",children:a(Z,{entrepotInfoHandle:r})}),e===c.create&&!(n==null?void 0:n.length)?null:o(m.Col,{span:6,className:"border-r border-neutral-3 pr-4",children:[o(u.Paragraph,{className:"flex items-baseline !mb-0 !mt-2",children:[a(u.Title,{heading:6,className:"mb-0",children:"\u8D27\u67B6\u5217\u8868"}),a(h,{icon:a(v,{}),type:"primary",size:"small",className:"ml-auto",disabled:e===c.create,onClick:()=>{i.resetFields(),f(null)},children:"\u65B0\u589E"})]}),a(x,{size:"small",children:n==null?void 0:n.map(t=>a("div",{onClick:()=>{f(t),i.setFieldsValue(t)},children:a(x.Item.Meta,{style:{height:76},className:G((l==null?void 0:l.id)===t.id?"bg-gray-100 dark:bg-zinc-500":"","hover:bg-gray-100 dark:hover:bg-zinc-500 cursor-pointer px-2 border-b border-neutral-3"),avatar:a(H,{children:t.locationPrefix}),title:t.storageRacksName,description:t.storageRacksCode})},t.id))})]}),e&&o(m.Col,{span:12,className:"pr-6",children:[o(u.Paragraph,{className:"flex items-baseline !mb-0 !mt-2",children:[o(u.Title,{heading:6,className:"mb-0",children:[R[e],"\u8D27\u67B6"]}),e===c.create&&o(N,{className:"ml-auto",size:"large",children:[a(h,{icon:a(v,{}),type:"primary",status:"success",size:"small",loading:y,onClick:async()=>{const t=await i.validate();F(t),f(null)},children:"\u65B0\u589E"}),a(h,{icon:a(_,{}),loading:y,size:"small",onClick:()=>{i.setFieldsValue(j)},children:"\u53D6\u6D88"})]}),e===c.edit&&o(N,{className:"ml-auto",size:"large",children:[a(h,{icon:a(q,{}),type:"primary",size:"small",loading:y,onClick:async()=>{const t=await i.validate();await I(p(d({},t),{id:l.id}))},children:"\u4FDD\u5B58"}),a(Q,{buttonProps:{loading:T},onOk:()=>{B(l.id)}})]})]}),a(L,{form:i,labelLength:10,formItemConfigList:J})]})]}),a(U,p(d({},W),{confirmLoading:D||S,onCancel:()=>{E(null),b.resetFields()},onOk:async()=>{const t=await b.validate();g===c.create?await w(t):await z(p(d({},t),{id:j.id})),E(null)},visible:!!g,title:`${R[g]}\u4ED3\u5E93`,children:a(L,{initialValues:X,form:b,labelLength:8,span:24,formItemConfigList:K})}))]})};export{Re as default};
