import{R as ie,r as N,z as Ce,H as q,ai as te,aj as _e,b9 as Se,aZ as Qe,a_ as er,aY as Ie,aX as de,a$ as je,aV as oe,aT as Be,aU as be,j as g,F as fe,b1 as rr,ah as tr,c as X,a as ne,G as le,b0 as nr,a8 as ar,C as ir,g as lr,ae as ur,I as or,e as sr,D as Oe,aL as cr,bh as dr,aO as fr,u as hr,bJ as vr,w as se,B as xe,M as gr}from"./index.08c3b40b.js";import{S as pr}from"./index.7055675c.js";import{S as mr}from"./index.84bf4090.js";import"./index.c9ee87e2.js";import{F as K}from"./index.3f353609.js";import{V as He,a as br,S as yr}from"./index.280b9138.js";import{C as $e}from"./index.7b2455ed.js";import"./index.b4066a95.js";import{l as Cr}from"./index.69444b8c.js";import{i as ke}from"./isEqualWith.ab023b3e.js";import{I as _r}from"./index.c32db313.js";import"./merge.bb630614.js";import"./index.9861b6cf.js";var Sr=function(e){var n=e.prefixCls,i=e.multiple,u=e.option,t=e.renderOption,a=e.selected,l=e.icons,r=u.disabled||i&&u.disableCheckbox;return ie.createElement(ie.Fragment,null,i?ie.createElement($e,{disabled:r,checked:u._checked,indeterminate:u._halfChecked,onChange:e.onMultipleChecked,value:u.value}):"",ie.createElement("div",{className:n+"-list-item-label",onClick:u.disabled?void 0:e.onClickOption,onMouseEnter:e.onMouseEnter,onDoubleClick:r?void 0:e.onDoubleClickOption},t?t():u.label,u.isLeaf?a&&l.checked:u.loading?l.loading:l.next))},kr=Sr;function wr(e){e===void 0&&(e=[]);var n=N.exports.useRef(e),i=function(u,t){t!==void 0?n.current[t]=u:n.current.push(u)};return[n.current,i]}var $=globalThis&&globalThis.__assign||function(){return $=Object.assign||function(e){for(var n,i=1,u=arguments.length;i<u;i++){n=arguments[i];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},$.apply(this,arguments)},Ee=globalThis&&globalThis.__read||function(e,n){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),t,a=[],l;try{for(;(n===void 0||n-- >0)&&!(t=u.next()).done;)a.push(t.value)}catch(r){l={error:r}}finally{try{t&&!t.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return a},ce=globalThis&&globalThis.__spreadArray||function(e,n,i){if(i||arguments.length===2)for(var u=0,t=n.length,a;u<t;u++)(a||!(u in n))&&(a||(a=Array.prototype.slice.call(n,0,u)),a[u]=n[u]);return e.concat(a||Array.prototype.slice.call(n))},Nr=function(){function e(n,i,u){var t=this;this.pathValue=[],this.pathLabel=[],this.config={},this._initNode=function(a,l){l===void 0&&(l=null);var r=t.config,d=r.showEmptyChildren,o=r.lazyload,v=$($({},ze),t.config.fieldNames),O=a[v.children],D=Array.isArray(O)?d?!1:O.length===0:!0;o&&(v.isLeaf in a?D=!!a[v.isLeaf]:D=!1);var I=a[v.value],_=a[v.label],j=$($({},a),{value:I,label:_,isLeaf:D,loading:!1,loaded:!1,disabled:l&&l.disabled||a[v.disabled],parent:l,pathValue:l?ce(ce([],Ee(l.pathValue),!1),[I],!1):[I],pathLabel:l?ce(ce([],Ee(l.pathLabel),!1),[_],!1):[_],_level:l?l._level+1:0,_checked:!1,_halfChecked:!1});t._data=$($({},j),{parent:j.parent&&j.parent._data}),Object.keys(j).forEach(function(E){t[E]=j[E]}),O&&O.length&&(t.children=O.map(function(E,S){return new e($($({},E),{_index:S}),t.config,t)}),t._data.children=t.children.map(function(E){return E._data}))},this._isHalfChecked=function(){var a=t.children.reduce(function(l,r){var d=r._halfChecked?.5:r._checked?1:0;return l+d},0);return a!==t.children.length&&a>0},this._setNodeChildrenChecked=function(a,l){!l&&t.disabled||t.children&&t.children.length&&(t.children.forEach(function(r){r.disabled?l&&r.setCheckedStateIgnoreDisabled(a):r.setCheckedState(a)}),t.updateHalfState(a))},this.getSelfChildrenValue=function(){var a=[],l=function(r,d){if(!d||!d.length){a.push(r);return}(d||[]).forEach(function(o){l(o.pathValue,o.children)})};return l(t.pathValue,t.children),a},this.updateHalfState=function(a){t._halfChecked=t._isHalfChecked(),t._checked=t._halfChecked?!1:a},this.setCheckedProperty=function(a){t._checked=a,t._halfChecked=!1},this.setCheckedState=function(a){var l=a?t._checked:!t._checked&&!t._halfChecked;if(!(t.disabled||l)&&(t.setCheckedProperty(a),!t.config.changeOnSelect)){t._setNodeChildrenChecked(a);for(var r=t.parent;r&&!r.disabled;)r.updateHalfState(a),r=r.parent}},this.setCheckedStateIgnoreDisabled=function(a){if(a!==Boolean(t._checked)&&(t.setCheckedProperty(a),!t.config.changeOnSelect)){t._setNodeChildrenChecked(a,!0);for(var l=t.parent;l;)l.updateHalfState(a),l=l.parent}},this.getPathNodes=function(){for(var a=[t],l=t.parent;l;)a.unshift(l),l=l.parent;return a},this.getChildren=function(){return t.children},this.setLoading=function(a){t.loading=a,(a||a===void 0)&&(t.loaded=!1),a===!1&&(t.loaded=!0)},this.config=i||{},this._initNode(n,u||null)}return e}(),Vr=Nr,ue=globalThis&&globalThis.__assign||function(){return ue=Object.assign||function(e){for(var n,i=1,u=arguments.length;i<u;i++){n=arguments[i];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ue.apply(this,arguments)},Or=function(){function e(n,i,u){var t=this;this.nodes=[],this.flatNodes=[],this.config={},this._calcNodes=function(l,r){return l?l.map(function(d,o){return new Vr(ue(ue({},d),{_index:o}),t.config,r)}):[]},this._updateFlatNodes=function(){var l=!t.config.changeOnSelect;t.flatNodes=[];var r=function(d){!d||((!l||d.isLeaf)&&t.flatNodes.push(d),Ce(d.children)&&d.children.forEach(function(o){r(o)}))};t.nodes.forEach(function(d){r(d)})},this.setNodeCheckedByValue=function(l){var r=ge(l);t.flatNodes.forEach(function(d){var o=!1;t.config.showParent?d.pathValue.some(function(v,O,D){return Z(r,D.slice(0,O+1))})&&(o=!0):Z(r,d.pathValue)&&(o=!0),d.setCheckedStateIgnoreDisabled(o)})},this.appendOptionChildren=function(l,r){if(r&&l){var d=t._calcNodes(r,l);l.children=d,t._updateFlatNodes(),t.config.changeOnSelect||l.setCheckedState(!1)}},this.findNodeByValue=function(l){var r=null;return!l||!l.length||t.flatNodes.some(function(d){ke(d.pathValue,l)&&(r=d)}),r},this.searchNodeByLabel=function(l){if(!l)return t.flatNodes;var r=t.config.filterOption,d=q(r)?r:function(o,v){return te(v.label)&&v.label.indexOf(o)>-1};return t.flatNodes.filter(function(o){var v=o.getPathNodes();return v.some(function(O){return d(l,O._data)})})},this.getOptions=function(){return t.nodes},this.getCheckedNodes=function(){return t.config.showParent?t.getCheckedParentNodes():t.flatNodes.filter(function(l){return l._checked})},this.getCheckedParentNodes=function(){var l=new Set;return t.flatNodes.forEach(function(r){if(r._checked){var d=r.getPathNodes();d.some(function(o){if(o._checked)return l.has(o)||l.add(o),!0})}}),Array.from(l)},this.config=ue({},u);var a=Array.isArray(i)?i:[];this.nodes=this._calcNodes(n,null),this._updateFlatNodes(),this.setNodeCheckedByValue(a)}return e}(),xr=Or,Q="__arco_cascader__",Er="parent",Lr="child",Le={cascader:"cascader",select:"select"};function Pr(e){return!e||Ce(e)&&e.length===0}function Ue(e){return{showEmptyChildren:e.showEmptyChildren,changeOnSelect:e.changeOnSelect,lazyload:!!e.loadMore,fieldNames:e.fieldNames,filterOption:e.filterOption,showParent:e.mode==="multiple"&&!e.changeOnSelect&&e.checkedStrategy===Er}}function Tr(e,n){var i=n?Array.isArray(n[0])?n:[n]:[];return new xr(e.options||[],i,Ue(e))}var ge=function(e){var n=e||[],i=n.reduce(function(u,t){return u.add([].concat(t).join(Q)),u},new Set);return i},Z=function(e,n){var i=n||[];return e.has(i.join(Q))},Ar=function(e,n){var i=n||[];return e.delete(i.join(Q))},ae=function(e,n,i){var u=[];if(e===void 0?u=[]:n?u=e:u=[e],i&&i.config.showParent){var t=i.getCheckedNodes(),a=ge(t.map(function(d){return d.pathValue})),l=[],r={};return u.map(function(d){d.some(function(o,v,O){var D=O.slice(0,v+1),I=Z(a,D);return I&&!r[D.join(Q)]&&(l.push(D),r[D.join(Q)]=1),I})}),l}return u},Dr=function(e){var n=function(i){return Array.isArray(i)?i.every(function(u){return u._checked||u.disabled?!0:n(u.children)}):!1};return e._halfChecked&&n(e==null?void 0:e.children)},We=function(e,n,i,u){var t=u&&Dr(i)?!1:u,a=n.getCheckedNodes().reduce(function(v,O){return v.add(O.pathValue.join(Q)),v},new Set);i.setCheckedState(t);var l=n.getCheckedNodes(),r=l.map(function(v){return v.pathValue}),d=ge(r),o=new Set;return e.filter(function(v){if(!Z(a,v)||Z(d,v))return o.add(v.join(Q)),!0}).concat(r.filter(function(v){return!Z(o,v)}))},he=globalThis&&globalThis.__assign||function(){return he=Object.assign||function(e){for(var n,i=1,u=arguments.length;i<u;i++){n=arguments[i];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},he.apply(this,arguments)},Pe=globalThis&&globalThis.__awaiter||function(e,n,i,u){function t(a){return a instanceof i?a:new i(function(l){l(a)})}return new(i||(i=Promise))(function(a,l){function r(v){try{o(u.next(v))}catch(O){l(O)}}function d(v){try{o(u.throw(v))}catch(O){l(O)}}function o(v){v.done?a(v.value):t(v.value).then(r,d)}o((u=u.apply(e,n||[])).next())})},Te=globalThis&&globalThis.__generator||function(e,n){var i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},u,t,a,l;return l={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function r(o){return function(v){return d([o,v])}}function d(o){if(u)throw new TypeError("Generator is already executing.");for(;i;)try{if(u=1,t&&(a=o[0]&2?t.return:o[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,o[1])).done)return a;switch(t=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,t=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(o[0]===6&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(v){o=[6,v],t=0}finally{u=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Ae=globalThis&&globalThis.__read||function(e,n){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),t,a=[],l;try{for(;(n===void 0||n-- >0)&&!(t=u.next()).done;)a.push(t.value)}catch(r){l={error:r}}finally{try{t&&!t.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return a},Mr=function(e){for(var n=0;n<e.length;n++)if(!e[n].disabled)return e[n]},De=function(e){if(e&&e.disabled){for(var n=e;n.parent&&n.parent.disabled;)n=n.parent;return n}return e},Me=function(e,n){return e<0?n:e>n?0:e},Rr=function(e){var n,i=Ae(wr(),2),u=i[0],t=i[1],a=_e(),l=e.store,r=e.prefixCls,d=e.value,o=e.multiple,v=e.renderFooter,O=e.renderOption,D=e.showEmptyChildren,I=e.loadMore,_=e.renderEmpty,j=e.rtl,E=e.icons,S=Ae(N.exports.useState(l.findNodeByValue(d&&d[d.length-1])||null),2),C=S[0],U=S[1],b=l.getOptions(),H=function(s){e.onChange&&e.onChange(s)},W=function(s){return Pe(void 0,void 0,void 0,function(){var p,h;return Te(this,function(k){switch(k.label){case 0:if(!(!s.isLeaf&&q(I)&&!s.children))return[3,5];s.setLoading(!0),a(),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,I(s.pathValue,s.pathValue.length)];case 2:return p=k.sent(),l.appendOptionChildren(s,p),l.setNodeCheckedByValue(e.value),[3,4];case 3:return h=k.sent(),console.error(h),[3,4];case 4:s.setLoading(!1),a(),k.label=5;case 5:return[2]}})})},m=function(s,p){return p===void 0&&(p=!0),Pe(void 0,void 0,void 0,function(){return Te(this,function(h){return!s||s.disabled?[2]:(U(s),W(s),!o&&p&&(e.changeOnSelect||s.isLeaf)&&H([s.pathValue]),[2])})})},w=function(s,p){var h=We(e.value,l,s,p);s===C&&a(),U(s),e.changeOnSelect||W(s),H(h)},T=N.exports.useCallback(function(s){var p;s===void 0&&(s=C);for(var h=s;h;)(p=u[h._level])===null||p===void 0||p.scrollTo({index:h._index,options:{block:"nearest"}}),h=h._level<1?null:h.parent},[C]),x=N.exports.useCallback(function(s){var p=s.keyCode||s.which,h;switch(p){case je.code:{s.preventDefault(),e.onEsc();break}case de.code:case Ie.code:{if(!C)h=Mr(b);else for(var k=De(C),F=k.parent&&k.parent.children||b,M=p===de.code?1:-1,f=Me(k._index+M,F.length-1);f!==k._index&&(h=F[f],h.disabled);)f=Me(f+M,F.length-1);return T(h),m(h,!1),s.preventDefault(),!1}case er.code:{if(C&&!C.disabled){var F=C.children||[];h=F[0]||C,m(h,!1)}return s.preventDefault(),!1}case Qe.code:{if(C){var k=De(C);h=k.parent||k}return m(h,!1),s.preventDefault(),!1}case Se.code:return C&&(o?w(C,!C._checked):m(C)),s.preventDefault(),!1}},[C]);oe(function(){U(function(s){var p;if(s&&s.pathValue&&s.pathValue.length){var h=s.pathValue,k={children:b};h.map(function(F){var M=k.children||[],f=M.find(function(z){return z.value===F});f&&(k=f,p=f)})}return p})},[l]),N.exports.useEffect(function(){e.popupVisible&&b.length&&setTimeout(T)},[e.popupVisible]),N.exports.useEffect(function(){var s=e.getTriggerElement();if(!!s)return e.popupVisible?Be(s,"keydown",x):be(s,"keydown",x),function(){be(s,"keydown",x)}},[e.popupVisible,x]);var B=function(){var s=[b],p=C?C.getPathNodes():[];return p.forEach(function(h){h&&h.children&&s.push(h.children)}),s}(),A=q(e.dropdownColumnRender)?e.dropdownColumnRender:function(s){return s};return!B.length||!(!((n=B[0])===null||n===void 0)&&n.length)?g(fe,{children:_()}):g(rr,{component:ie.Fragment,children:B.map(function(s,p){var h,k,F,M=v?v(p,C||null):null;return s.length===0&&!D?null:g(tr,{timeout:{enter:300,exit:0},classNames:"cascaderSlide",onEnter:function(f){!f||(f.style.marginLeft="-"+f.scrollWidth+"px")},onEntering:function(f){!f||(f.style.marginLeft="0px")},onEntered:function(f){!f||(f.style.marginLeft="")},children:g("div",{className:X(r+"-list-column",(h={},h[r+"-list-column-virtual"]=e.virtualListProps&&e.virtualListProps.threshold!==null,h[r+"-list-column-rtl"]=j,h)),style:he({zIndex:B.length-p},e.dropdownMenuColumnStyle),children:A(ne("div",{className:X(r+"-list-wrapper",(k={},k[r+"-list-wrapper-with-footer"]=M!==null,k)),children:[s.length===0?_&&_(e.virtualListProps?"100%":120):g(He,{...he({needFiller:!1,threshold:e.virtualListProps?100:null,data:s,isStaticItemHeight:!0,itemKey:"value"},le(e.virtualListProps)?e.virtualListProps:{},{wrapper:"ul",role:"menu",ref:function(f){return t(f,p)},className:X(r+"-list",r+"-list-select",(F={},F[r+"-list-multiple"]=o,F[r+"-list-rtl"]=j,F))}),children:function(f){var z,G=!1;return C&&(G=C.pathValue[p]===f.value),g("li",{tabIndex:0,role:"menuitem","aria-haspopup":!f.isLeaf,"aria-expanded":G&&!f.isLeaf,"aria-disabled":f.disabled,title:te(f.label)?f.label:void 0,className:X(r+"-list-item",(z={},z[r+"-list-item-active"]=G,z[r+"-list-item-disabled"]=f.disabled,z)),children:g(kr,{prefixCls:r,rtl:j,multiple:o,option:f,selected:!o&&f.isLeaf&&ke(e.value,f.pathValue),icons:E,onMouseEnter:function(){f.disabled||e.expandTrigger==="hover"&&(U(f),!f.isLeaf&&W(f))},renderOption:O&&function(){return O(f._data,p)},onClickOption:function(){f.isLeaf&&o&&!f.disableCheckbox?w(f,!f._checked):m(f)},onMultipleChecked:function(pe){w(f,pe)},onDoubleClickOption:e.onDoubleClickOption})},f.value)}}),M&&g("div",{className:r+"-list-footer",onMouseDown:function(f){f.stopPropagation()},children:M})]}),p)})},p)})})},Fr=Rr,ye=globalThis&&globalThis.__assign||function(){return ye=Object.assign||function(e){for(var n,i=1,u=arguments.length;i<u;i++){n=arguments[i];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ye.apply(this,arguments)},Re=globalThis&&globalThis.__read||function(e,n){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),t,a=[],l;try{for(;(n===void 0||n-- >0)&&!(t=u.next()).done;)a.push(t.value)}catch(r){l={error:r}}finally{try{t&&!t.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return a},Fe=function(e,n){return e<0?n:e>n?0:e},Ir=function(e,n,i){var u=n;if(te(n)){var t=n.toUpperCase().indexOf(e.toUpperCase());if(t>-1){var a=n.substr(0,t),l=n.substr(t+e.length);u=ne(fe,{children:[a,g("span",{className:i+"-highlight",children:n.substr(t,e.length)}),l]})}}return u},jr=function(e){var n,i=e.store,u=e.prefixCls,t=e.multiple,a=e.onChange,l=e.inputValue,r=e.renderEmpty,d=e.style,o=e.defaultActiveFirstOption,v=e.rtl,O=e.icons,D=e.value||[],I=Re(N.exports.useState(i.searchNodeByLabel(l)||[]),2),_=I[0],j=I[1],E=N.exports.useRef(),S=N.exports.useRef(),C=nr(),U=Re(N.exports.useState(o?0:-1),2),b=U[0],H=U[1],W=function(m,w,T){if(T.stopPropagation(),!m.disabled)if(t){var x=We(e.value,i,m,w);a&&a(x)}else a&&a([m.pathValue])};return oe(function(){j(i.searchNodeByLabel(l))},[l,i]),oe(function(){H(function(m){return m>_.length-1?o?0:-1:m})},[_]),N.exports.useEffect(function(){var m=e.getTriggerElement();if(!!m){var w=function(T){T.stopPropagation();var x=T.keyCode||T.which;switch(x){case je.code:return e.onEsc(),!1;case de.code:case Ie.code:{S.current=!0;for(var B=de.code===x?1:-1,A=Fe(b+B,_.length-1);A!==b;){var s=_[A];if(s.disabled)A=Fe(A+B,_.length-1);else break}return H(A),!1}case Se.code:var p=_[b];if(p){var h=D.some(function(k){return ke(k,p.pathValue)});W(p,!h,T)}return!1}};return Be(m,"keydown",w),function(){be(m,"keydown",w)}}},[_,b,D]),N.exports.useEffect(function(){var m,w=E.current;w&&(S.current||C)&&ar(w,{behavior:"instant",block:"nearest",scrollMode:"if-needed",boundary:(m=w.parentNode)===null||m===void 0?void 0:m.parentNode})},[b,_]),E.current=null,_.length?g("div",{className:u+"-list-wrapper",children:g(He,{...ye({needFiller:!1,wrapper:"ul",role:"menu",style:d,data:_,isStaticItemHeight:!0,threshold:e.virtualListProps?100:null},le(e.virtualListProps)?e.virtualListProps:{},{onMouseMove:function(){S.current=!1},className:X(u+"-list",u+"-list-search",(n={},n[u+"-list-multiple"]=t,n[u+"-list-rtl"]=v,n))}),children:function(m,w){var T,x=m.getPathNodes(),B=x.map(function(h){return ne("span",{children:[h.label,h.isLeaf?"":" / "]},h.label+"_"+h._level)}),A=m._checked,s={checked:A},p=q(e.renderOption)?e.renderOption(l,m._data,s):Ir(l,B,u);return g("li",{title:te(p)?p:te(B)?B:void 0,role:"menuitem","aria-disabled":m.disabled,ref:function(h){w===b&&(E.current=h),A&&!E.current&&(E.current=h)},className:X(u+"-list-search-item",(T={},T[u+"-list-search-item-active"]=A,T[u+"-list-search-item-hover"]=w===b,T[u+"-list-search-item-disabled"]=m.disabled,T)),onClick:function(h){W(m,!A,h)},onMouseEnter:function(){!S.current&&!m.disabled&&H(w)},onMouseLeave:function(){!S.current&&!m.disabled&&H(o?0:-1)},children:g("div",{className:u+"-list-item-label",children:q(e.renderOption)?p:t?g($e,{checked:A,disabled:m.disabled,children:p}):ne(fe,{children:[p,A&&g("span",{className:u+"-check-icon",children:O.checked})]})})},w)}})}):g(fe,{children:r&&r()})},Br=jr,Hr=globalThis&&globalThis.__read||function(e,n){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),t,a=[],l;try{for(;(n===void 0||n-- >0)&&!(t=u.next()).done;)a.push(t.value)}catch(r){l={error:r}}finally{try{t&&!t.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return a},$r=globalThis&&globalThis.__spreadArray||function(e,n,i){if(i||arguments.length===2)for(var u=0,t=n.length,a;u<t;u++)(a||!(u in n))&&(a||(a=Array.prototype.slice.call(n,0,u)),a[u]=n[u]);return e.concat(a||Array.prototype.slice.call(n))};function Ur(e,n){var i=N.exports.useRef(null),u=_e();return i.current||(i.current=e()),oe(function(){i.current=e(),u()},$r([],Hr(n),!1)),i.current}var ve=globalThis&&globalThis.__assign||function(){return ve=Object.assign||function(e){for(var n,i=1,u=arguments.length;i<u;i++){n=arguments[i];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ve.apply(this,arguments)},me=globalThis&&globalThis.__read||function(e,n){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),t,a=[],l;try{for(;(n===void 0||n-- >0)&&!(t=u.next()).done;)a.push(t.value)}catch(r){l={error:r}}finally{try{t&&!t.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return a},ze={label:"label",value:"value",isLeaf:"isLeaf",children:"children",disabled:"disabled"},Wr={options:[],bordered:!0,fieldNames:ze,trigger:"click",expandTrigger:"click",checkedStrategy:Lr,defaultActiveFirstOption:!0},zr={bottom:4};function Jr(e,n){var i=N.exports.useContext(ir),u=i.getPrefixCls,t=i.renderEmpty,a=i.componentConfig,l=i.rtl,r=lr(e,Wr,a==null?void 0:a.Cascader),d=r.disabled,o=r.renderFormat,v=r.getPopupContainer,O=r.children,D=r.triggerProps,I=r.expandTrigger,_=r.icons,j={loading:(_==null?void 0:_.loading)||g(ur,{}),checked:(_==null?void 0:_.checked)||g(_r,{}),next:(_==null?void 0:_.next)||(l?g(or,{}):g(sr,{}))},E=u("cascader"),S=r.mode==="multiple",C=N.exports.useRef(null),U=_e(),b=Ur(function(){return Tr(r,ae("value"in r?r.value:r.defaultValue,S))},[JSON.stringify(Ue(r)),r.options]),H=me(N.exports.useState(function(){return"value"in r?ae(r.value,S,b):"defaultValue"in r?ae(r.defaultValue,S,b):[]}),2),W=H[0],m=H[1],w="value"in r?ae(r.value,S,b):W,T=me(Oe(!1,{value:r.popupVisible,defaultValue:r.defaultPopupVisible}),2),x=T[0],B=T[1],A=me(Oe("",{value:"inputValue"in r?r.inputValue||"":void 0}),3),s=A[0],p=A[1],h=A[2],k=N.exports.useRef(s),F=N.exports.useRef(null),M=N.exports.useRef(null),f=N.exports.useRef((b==null?void 0:b.getCheckedNodes())||[]),z=cr(E+"-popup-"),G=function(c,V){c!==k.current&&(p(c),k.current=c,F.current=V,r.onInputValueChange&&r.onInputValueChange(c,V))};N.exports.useEffect(function(){var c=F.current;h===s&&(c==="manual"||c==="optionListHide")&&r.onSearch&&r.onSearch(s,c),s!==k.current&&(k.current=s)},[s]),N.exports.useEffect(function(){var c=function(){clearTimeout(C.current),C.current=null};return!x&&s&&(C.current&&c(),C.current=setTimeout(function(){G("","optionListHide"),C.current=null},200)),function(){c()}},[x]),oe(function(){if("value"in r&&r.value!==W){var c=ae(r.value,S);b.setNodeCheckedByValue(c),m(c)}},[r.value,S]),N.exports.useImperativeHandle(n,function(){return M.current},[]);var pe=function(c){f.current=Array.from(new Set([].concat(c,f.current)))},we=function(c){var V=[],L=ge(c),P=function(R){R.some(function(y){if(Z(L,y.pathValue)&&(V.push(y.getPathNodes().map(function(re){return re._data})),Ar(L,y.pathValue)),!L.size)return!0})};return P(b.getCheckedNodes()),L.size&&P(f.current),V},J=N.exports.useCallback(function(c){c!==x&&(r.onVisibleChange&&r.onVisibleChange(c),"popupVisible"in r||B(c))},[r.onVisibleChange,x]),Ke=N.exports.useCallback(function(c){var V,L=we([c])[0]||[],P,R=Ce(c)?c.map(function(y){return String(y)}):[];return L.length&&(R=L.map(function(y){return y.label})),q(o)?P=o(R):R.every(function(y){return te(y)})?P=R.join(" / "):P=R.reduce(function(y,re,Y){return y.concat(Y===0?[re]:[" / ",re])},[]),{text:P||"",disabled:(V=L[L.length-1])===null||V===void 0?void 0:V.disabled}},[b,o]),ee=function(c,V){var L;V==="panel"&&le(r.showSearch)&&!r.showSearch.retainInputValueWhileSelect&&S&&G("","optionChecked");var P=r.onChange,R=r.changeOnSelect,y=r.expandTrigger,re=w===c;if(!re){S||b.setNodeCheckedByValue(c),pe(b.getCheckedNodes());var Y=we(c),Xe=S?c:c[0],Ze=S?Y:Y[0];S||(s||Y[0]&&((L=Y[0][Y[0].length-1])===null||L===void 0?void 0:L.isLeaf)||R&&y==="hover")&&J(!1),"value"in r?(b.setNodeCheckedByValue(w),U()):m(c),P&&P(Xe,Ze,{dropdownVisible:x})}},qe=function(c,V,L){if(L.stopPropagation(),!c.disabled){var P=w.filter(function(R,y){return y!==V});b.setNodeCheckedByValue(P),ee(P)}},Ne=function(c){var V=c||M.current&&M.current.getWidth();return g("div",{className:E+"-list-empty",style:{width:V},children:r.notFoundContent||t("Cascader")})},Ge=function(){var c,V=le(r.showSearch)?r.showSearch.panelMode:void 0,L=V===Le.select?!0:V===Le.cascader?!1:!q(r.onSearch)&&!!s,P=M.current&&M.current.getWidth(),R=q(r.dropdownRender)?r.dropdownRender:function(y){return y};return g("div",{id:z,className:X(E+"-popup",r.dropdownMenuClassName,(c={},c[E+"-popup-trigger-hover"]=r.expandTrigger==="hover",c)),children:R(g("div",{className:E+"-popup-inner",onMouseDown:function(y){return y.preventDefault()},children:L?g(Br,{style:{minWidth:P},store:b,inputValue:s,renderEmpty:function(){return Ne(P)},multiple:S,onChange:function(y){ee(y,"panel")},prefixCls:E,rtl:l,onEsc:function(){J(!1)},renderOption:le(r.showSearch)&&r.showSearch.renderOption||void 0,getTriggerElement:function(){var y;return(y=M.current)===null||y===void 0?void 0:y.dom},value:w,virtualListProps:r.virtualListProps,defaultActiveFirstOption:r.defaultActiveFirstOption,icons:j}):g(Fr,{dropdownMenuColumnStyle:r.dropdownMenuColumnStyle,virtualListProps:r.virtualListProps,expandTrigger:I,store:b,dropdownColumnRender:r.dropdownColumnRender,renderOption:r.renderOption,changeOnSelect:r.changeOnSelect,showEmptyChildren:r.showEmptyChildren||!!r.loadMore,multiple:S,onChange:function(y){ee(y,"panel")},loadMore:r.loadMore,prefixCls:E,rtl:l,getTriggerElement:function(){var y;return(y=M.current)===null||y===void 0?void 0:y.dom},renderEmpty:Ne,popupVisible:x,value:w,renderFooter:r.renderFooter,icons:j,onEsc:function(){J(!1)},onDoubleClickOption:function(){r.changeOnSelect&&!S&&J(!1)}})}))})},Ye=function(c){ee(c)},Ve=function(c){return g(fr,{...ve({popup:Ge,trigger:r.trigger,disabled:d,getPopupContainer:v,position:l?"br":"bl",classNames:"slideDynamicOrigin",popupAlign:zr,unmountOnExit:"unmountOnExit"in r?r.unmountOnExit:!q(r.loadMore),popupVisible:x},D,{onVisibleChange:J}),children:c})};return O?Ve(O):g(br,{...ve({},r,{ref:M,ariaControls:z,popupVisible:x,value:S?w:w&&w[0],inputValue:s,rtl:l,isEmptyValue:Pr(w),prefixCls:E,isMultiple:S,renderText:Ke,onRemoveCheckedItem:qe,onSort:Ye,renderView:Ve,onClear:function(c){var V;if(c.stopPropagation(),!S)ee([]);else{var L=b.getCheckedNodes(),P=L.filter(function(R){return R.disabled}).map(function(R){return R.pathValue});b.setNodeCheckedByValue(P),ee(P)}(V=r.onClear)===null||V===void 0||V.call(r,!!x)},onKeyDown:function(c){var V;if(!d){c.stopPropagation();var L=c.keyCode||c.which;L===Se.code&&!x&&(J(!0),c.preventDefault()),L===dr.code&&x&&J(!1),(V=r.onKeyDown)===null||V===void 0||V.call(r,c)}},onChangeInputValue:function(c){G(c,"manual"),x||J(!0)}})})}var Je=N.exports.forwardRef(Jr);Je.displayName="Cascader";var Kr=Je;function ut({loading:e}){const n=hr(Cr),[i]=K.useForm(),{lang:u}=N.exports.useContext(vr),t=async()=>{try{await i.validate(),gr.success("userSetting.saveSuccess")}catch{}},a=()=>{i.resetFields()},l=(r=1)=>g(pr,{text:{rows:r,width:new Array(r).fill("100%")},animation:!0});return ne(K,{style:{width:"500px",marginTop:"6px"},form:i,labelCol:{span:u==="en-US"?7:6},wrapperCol:{span:u==="en-US"?17:18},children:[g(K.Item,{label:n["userSetting.info.email"],field:"email",rules:[{type:"email",required:!0,message:n["userSetting.info.email.placeholder"]}],children:e?l():g(se,{placeholder:n["userSetting.info.email.placeholder"]})}),g(K.Item,{label:n["userSetting.info.nickName"],field:"nickName",rules:[{required:!0,message:n["userSetting.info.nickName.placeholder"]}],children:e?l():g(se,{placeholder:n["userSetting.info.nickName.placeholder"]})}),g(K.Item,{label:n["userSetting.info.area"],field:"rangeArea",rules:[{required:!0,message:n["userSetting.info.area.placeholder"]}],children:e?l():g(yr,{options:["\u4E2D\u56FD"],placeholder:n["userSetting.info.area.placeholder"]})}),g(K.Item,{label:n["userSetting.info.location"],field:"location",initialValue:["BeiJing","BeiJing","HaiDian"],rules:[{required:!0}],children:e?l():g(Kr,{options:[{label:"\u5317\u4EAC\u5E02",value:"BeiJing",children:[{label:"\u5317\u4EAC\u5E02",value:"BeiJing",children:[{label:"\u6D77\u6DC0\u533A",value:"HaiDian"},{label:"\u671D\u9633\u533A",value:"ChaoYang"}]}]},{label:"\u4E0A\u6D77\u5E02",value:"ShangHai",children:[{label:"\u4E0A\u6D77\u5E02",value:"ShangHai",children:[{label:"\u9EC4\u6D66\u533A",value:"HuangPu"},{label:"\u9759\u5B89\u533A",value:"JingAn"}]}]}]})}),g(K.Item,{label:n["userSetting.info.address"],field:"address",children:e?l():g(se,{placeholder:n["userSetting.info.address.placeholder"]})}),g(K.Item,{label:n["userSetting.info.profile"],field:"profile",children:e?l(3):g(se.TextArea,{placeholder:n["userSetting.info.profile.placeholder"]})}),g(K.Item,{label:" ",children:ne(mr,{children:[g(xe,{type:"primary",onClick:t,children:n["userSetting.save"]}),g(xe,{onClick:a,children:n["userSetting.reset"]})]})})]})}export{ut as default};
