import{a as x,j as r,af as y,F as T,w as p,bE as R,R as g,r as f}from"./index.8a0d17dd.js";import{D as b}from"./index.657ea393.js";import"./index.9ad25080.js";import"./index.efb39cdf.js";import{I as k,F}from"./index.290ecf78.js";import{R as v}from"./index.a7a53076.js";import{G as h}from"./index.a74e574c.js";import"./pad.569047dd.js";import"./merge.3ddb5d76.js";import"./b-tween.es.064e2a03.js";import"./index.91b52be8.js";import"./isEqualWith.b943651b.js";const I=a=>{const{label:t,tipContent:s,toolTipProps:u={}}=a;return x("span",{children:[t,r(y,{...u,content:s,children:r(k,{style:{marginLeft:4}})})]})},j=({label:a,tips:t,position:s="top"})=>t?r(I,{label:a,tipContent:t,toolTipProps:{position:s}}):r(T,{children:a}),C=({schema:a,control:t,formItemProps:s,controlProps:u})=>{const{field:c,label:n,tips:l,position:m,rules:d,defaultValue:i}=a,e=w=>{if(!t||t==="input")return r(p,{placeholder:"\u8BF7\u8F93\u5165",allowClear:!0,...u});if(typeof t=="string")switch(t.toLowerCase()){case"radio":return r(v.Group,{type:"button",...u});case"textarea":return r(p.TextArea,{placeholder:"\u8BF7\u8F93\u5165",rows:4,...u});case"switch":return r(R,{checkedText:"\u662F",uncheckedText:"\u5426",...u});default:return r("span",{children:t})}else return typeof t=="function"?t(w):t},o=i!==void 0?{initialValue:i}:{};return r(F.Item,{label:r(j,{label:n,tips:l,position:m}),field:c,rules:d,wrapperCol:{style:{flex:1,width:0}},...o,...s,children:e({...a})},c)},L=a=>a.reduce((t,s)=>(s.schema.defaultValue!==void 0&&(t[s.schema.field]=s.schema.defaultValue),t),{}),B=g.forwardRef(({formItemConfigList:a,className:t="",labelCol:s,onValuesChange:u,gutter:c=12,span:n=8,initialValues:l,...m},d)=>{const i=f.exports.useRef();return f.exports.useImperativeHandle(d,()=>i.current),f.exports.useEffect(()=>{const e={...l,...i.current.getFieldsValue(),...L(a)};setTimeout(()=>{var o;(o=i.current)==null||o.setFieldsValue(e)})},[a.map(e=>e.schema.field).toString()]),r(F,{ref:i,labelCol:{...s,style:{flex:"0 0 6em",...s==null?void 0:s.style}},wrapperCol:{className:"w-0 flex-1"},onValuesChange:e=>{u==null||u(e,i.current.getFieldsValue())},initialValues:l,...m,className:`${t} bg-white`,children:r(h.Row,{gutter:c,children:[...a].filter(e=>e.schema.field||e.schema.key).map(e=>{var o;return e.control?r(h.Col,{span:e.schema.span||n,children:C({...e,schema:{...e.schema,defaultValue:(o=l==null?void 0:l[e.schema.field])!=null?o:e.schema.defaultValue}})},e.schema.field||e.schema.key):null})})})});var D=B;const E=[{schema:{field:"timeRange",label:"\u65F6\u95F4\u8303\u56F4:"},control:a=>r(b.RangePicker,{style:{width:"100%"},allowClear:!1,showTime:!0,...a})},{schema:{field:"timeType",label:"\u805A\u5408\u65B9\u5F0F:"}}];var z=()=>r("div",{className:"bg-white",children:r(D,{formItemConfigList:E})});export{E as EchartCommonFilter,z as default};
