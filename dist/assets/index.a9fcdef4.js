var b=Object.defineProperty,x=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var f=(s,r,t)=>r in s?b(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,a=(s,r)=>{for(var t in r||(r={}))I.call(r,t)&&f(s,t,r[t]);if(p)for(var t of p(r))L.call(r,t)&&f(s,t,r[t]);return s},d=(s,r)=>x(s,j(r));import{r as q,R as C,ae as F,j as l,l as h,q as g,S}from"./vendor.ad15203e.js";import{a as T,o as i}from"./index.6a8b0597.js";import{S as w}from"./index.c4ccf43e.js";import{S as n}from"./index.b1191912.js";/* empty css               *//* empty css               */import"./index.bd56f4ba.js";/* empty css              *//* empty css              */import"./index.10a8fb09.js";import"./entrepot.01346301.js";/* empty css              */import"./style.200a6193.js";import"./index.83e7bd00.js";var G=()=>{q.exports.useState();const s=C.useRef(),{run:r,loading:t}=F(async({id:e,enable:u})=>{await T(()=>i.enableUser({id:e,enable:u}),"\u5207\u6362")},{manual:!0});return l("div",{className:"p-4 bg-white",children:l(w,{ref:s,name:"\u7528\u6237\u7BA1\u7406",getListRequest:i.userList,createRequest:e=>i.insertUser(d(a({},e),{roleIdList:[e.roleIdList]})),removeRequest:i.removeUser,updateRequest:e=>i.updateUser(d(a({},e),{roleIdList:[e.roleIdList]})),editTransform:e=>d(a({},h.exports.omit(e,["userPassword"])),{roleIdList:e.roleIdList[0]}),requestQueryTransform:e=>a({},h.exports.omit(e,["applyTime","rejectionTime"])),formItemConfigList:[{schema:{label:"\u5E8F\u53F7",field:"index"},render(e,u,o){return o+1}},{schema:{label:"\u59D3\u540D",field:"userName"},isCreate:!0,isSearch:!0,formItemProps:{required:!0}},{schema:{label:"\u767B\u5F55\u8D26\u53F7",field:"userLoginAccount"},isCreate:!0,dynamicHandle({showType:e}){return{formItemProps:{required:!0,disabled:e===n.edit}}}},{schema:{label:"\u5BC6\u7801",field:"userPassword"},isCreate:!0,hideTable:!0,dynamicHandle({showType:e}){return{controlProps:{required:e===n.create,type:"password",placeholder:e===n.create?"\u8BF7\u8F93\u5165\u5BC6\u7801":"\u4E0D\u4FEE\u6539\u8BF7\u7559\u7A7A"}}}},{schema:{label:"\u7528\u6237\u89D2\u8272",field:"roleIdList"},isCreate:!0,control:"role",formItemProps:{required:!0},render(e,u,o){var m;return((m=u.roleNameList)==null?void 0:m.map(c=>l(g,{checkable:!0,color:"arcoblue",checked:!0,children:c},c)))||"-"}},{schema:{label:"\u72B6\u6001",field:"userStatus"},render(e,u){return l(S,{defaultChecked:!e,checkedText:"\u542F\u7528",uncheckedText:"\u7981\u7528",loading:t,onChange:o=>{r({id:u.id,enable:Number(!o)})}})}},{schema:{label:"\u5907\u6CE8",field:"remark"},isCreate:!0,render:e=>e||"-",control:"textarea"}]})})};export{G as default};
