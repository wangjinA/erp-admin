var T=Object.defineProperty,v=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var c=(a,t,i)=>t in a?T(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,n=(a,t)=>{for(var i in t||(t={}))B.call(t,i)&&c(a,i,t[i]);if(p)for(var i of p(t))C.call(t,i)&&c(a,i,t[i]);return a},u=(a,t)=>v(a,E(t));import{r as e,j as l,aL as O,a as g}from"./vendor.ad15203e.js";import k from"./card.c88d3d6f.js";import{u as f}from"./index.6a8b0597.js";const F={"en-US":{"menu.visualization":"Data Visualization","menu.visualization.analysis":"Analysis","dataAnalysis.yesterday":"Yesterday","dataAnalysis.title.publicOpinion":"Public Opinion Analysis","dataAnalysis.publicOpinion.visitor":"Total visitors","dataAnalysis.publicOpinion.content":"Total content publishing","dataAnalysis.publicOpinion.comment":"Total comments","dataAnalysis.publicOpinion.share":"Total share","dataAnalysis.title.publishingRate":"Content publishing rate","dataAnalysis.title.publishingTiming":"Content period analysis","dataAnalysis.title.authorsList":"Top authors list","dataAnalysis.authorTable.rank":"Rank    ","dataAnalysis.authorTable.author":"Author","dataAnalysis.authorTable.content":"Interval volume","dataAnalysis.authorTable.click":"Click volume"},"zh-CN":{"menu.visualization":"\u6570\u636E\u53EF\u89C6\u5316","menu.visualization.analysis":"\u5206\u6790\u9875","dataAnalysis.yesterday":"\u8F83\u6628\u65E5","dataAnalysis.title.publicOpinion":"\u5E73\u53F0\u6570\u636E","dataAnalysis.publicOpinion.visitor":"\u8BBF\u95EE\u603B\u4EBA\u6570","dataAnalysis.publicOpinion.content":"\u603B\u51FA\u5355\u91CF","dataAnalysis.publicOpinion.comment":"\u4ECA\u65E5\u5355\u91CF","dataAnalysis.publicOpinion.share":"\u5E73\u53F0\u5206\u7C7B","dataAnalysis.title.publishingRate":"\u6570\u636E\u6CE2\u52A8","dataAnalysis.title.publishingTiming":"\u6570\u636E\u65F6\u6BB5\u5206\u6790","dataAnalysis.title.authorsList":"\u5546\u5BB6\u8BA2\u5355\u6392\u884C","dataAnalysis.authorTable.rank":"\u6392\u540D","dataAnalysis.authorTable.author":"\u5546\u5BB6","dataAnalysis.authorTable.content":"\u4ECA\u65E5\u8BA2\u5355\u91CF","dataAnalysis.authorTable.click":"\u603B\u8BA2\u5355\u91CF"}},{Row:x,Col:z}=O,d=[{key:"visitor",type:"line"},{key:"content",type:"interval"},{key:"comment",type:"line"},{key:"share",type:"pie"}];function j(){const a=f(F),[t,i]=e.exports.useState(!0),[y,A]=e.exports.useState(d.map(s=>u(n({},s),{chartType:s.type,title:a[`dataAnalysis.publicOpinion.${s.key}`]}))),b=async()=>{const s=d.map(async r=>{const{data:m}=await g.get(`/api/data-analysis/overview?type=${r.type}`).catch(()=>({data:{}}));return u(n({},m),{key:r.key,chartType:r.type})}),o=await Promise.all(s).finally(()=>i(!1));A(o)};e.exports.useEffect(()=>{b()},[]);const h=e.exports.useMemo(()=>y.map(s=>u(n({},s),{title:a[`dataAnalysis.publicOpinion.${s.key}`]})),[a,y]);return l("div",{children:l(x,{gutter:20,children:h.map((s,o)=>l(z,{span:6,children:l(k,u(n({},s),{compareTime:a["dataAnalysis.yesterday"],loading:t}))},o))})})}var w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j});export{j as P,w as a,F as i};
